var F4=Object.create;var pu=Object.defineProperty,R4=Object.defineProperties,P4=Object.getOwnPropertyDescriptor,V4=Object.getOwnPropertyDescriptors,q4=Object.getOwnPropertyNames,Ta=Object.getOwnPropertySymbols,j4=Object.getPrototypeOf,fu=Object.prototype.hasOwnProperty,Mp=Object.prototype.propertyIsEnumerable;var vp=(t,e,n)=>e in t?pu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,T=(t,e)=>{for(var n in e||={})fu.call(e,n)&&vp(t,n,e[n]);if(Ta)for(var n of Ta(e))Mp.call(e,n)&&vp(t,n,e[n]);return t},j=(t,e)=>R4(t,V4(e));var gr=(t,e)=>{var n={};for(var r in t)fu.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ta)for(var r of Ta(t))e.indexOf(r)<0&&Mp.call(t,r)&&(n[r]=t[r]);return n};var qt=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var H4=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of q4(e))!fu.call(t,o)&&o!==n&&pu(t,o,{get:()=>e[o],enumerable:!(r=P4(e,o))||r.enumerable});return t};var mu=(t,e,n)=>(n=t!=null?F4(j4(t)):{},H4(e||!t||!t.__esModule?pu(n,"default",{value:t,enumerable:!0}):n,t));var ty=qt((ZR,ra)=>{"use strict";function d_(t){if(Array.isArray(t))return t}ra.exports=d_,ra.exports.__esModule=!0,ra.exports.default=ra.exports});var ny=qt((XR,oa)=>{"use strict";function h_(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,o,i,s,a=[],c=!0,l=!1;try{if(i=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==e);c=!0);}catch(u){l=!0,o=u}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return a}}oa.exports=h_,oa.exports.__esModule=!0,oa.exports.default=oa.exports});var ry=qt((QR,ia)=>{"use strict";function p_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}ia.exports=p_,ia.exports.__esModule=!0,ia.exports.default=ia.exports});var iy=qt((KR,sa)=>{"use strict";var oy=ry();function f_(t,e){if(t){if(typeof t=="string")return oy(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oy(t,e):void 0}}sa.exports=f_,sa.exports.__esModule=!0,sa.exports.default=sa.exports});var sy=qt((YR,aa)=>{"use strict";function m_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}aa.exports=m_,aa.exports.__esModule=!0,aa.exports.default=aa.exports});var ay=qt((JR,ca)=>{"use strict";var y_=ty(),g_=ny(),k_=iy(),v_=sy();function M_(t,e){return y_(t)||g_(t,e)||k_(t,e)||v_()}ca.exports=M_,ca.exports.__esModule=!0,ca.exports.default=ca.exports});var cy=qt((eP,la)=>{"use strict";function x_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}la.exports=x_,la.exports.__esModule=!0,la.exports.default=la.exports});var bh=qt((tP,lr)=>{"use strict";function Ch(t){"@babel/helpers - typeof";return lr.exports=Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lr.exports.__esModule=!0,lr.exports.default=lr.exports,Ch(t)}lr.exports=Ch,lr.exports.__esModule=!0,lr.exports.default=lr.exports});var uy=qt((nP,ua)=>{"use strict";var ly=bh().default;function __(t,e){if(ly(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}ua.exports=__,ua.exports.__esModule=!0,ua.exports.default=ua.exports});var dy=qt((rP,da)=>{"use strict";var w_=bh().default,C_=uy();function b_(t){var e=C_(t,"string");return w_(e)=="symbol"?e:e+""}da.exports=b_,da.exports.__esModule=!0,da.exports.default=da.exports});var py=qt((oP,ha)=>{"use strict";var I_=dy();function hy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I_(r.key),r)}}function S_(t,e,n){return e&&hy(t.prototype,e),n&&hy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}ha.exports=S_,ha.exports.__esModule=!0,ha.exports.default=ha.exports});var Ih=qt((Ml,fy)=>{"use strict";(function(t,e){typeof Ml=="object"&&typeof fy<"u"?e(Ml,ay(),cy(),py()):typeof define=="function"&&define.amd?define(["exports","@babel/runtime/helpers/slicedToArray","@babel/runtime/helpers/classCallCheck","@babel/runtime/helpers/createClass"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.automationEvents={},t._slicedToArray,t._classCallCheck,t._createClass))})(Ml,function(t,e,n,r){"use strict";var o=function(M,w,I){return{endTime:w,insertTime:I,type:"exponentialRampToValue",value:M}},i=function(M,w,I){return{endTime:w,insertTime:I,type:"linearRampToValue",value:M}},s=function(M,w){return{startTime:w,type:"setValue",value:M}},a=function(M,w,I){return{duration:I,startTime:w,type:"setValueCurve",values:M}},c=function(M,w,I){var R=I.startTime,L=I.target,A=I.timeConstant;return L+(w-L)*Math.exp((R-M)/A)},l=function(M){return M.type==="exponentialRampToValue"},u=function(M){return M.type==="linearRampToValue"},d=function(M){return l(M)||u(M)},p=function(M){return M.type==="setValue"},h=function(M){return M.type==="setValueCurve"},m=function(M,w,I,R){var L=M[w];return L===void 0?R:d(L)||p(L)?L.value:h(L)?L.values[L.values.length-1]:c(I,m(M,w-1,L.startTime,R),L)},k=function(M,w,I,R,L){return I===void 0?[R.insertTime,L]:d(I)?[I.endTime,I.value]:p(I)?[I.startTime,I.value]:h(I)?[I.startTime+I.duration,I.values[I.values.length-1]]:[I.startTime,m(M,w-1,I.startTime,L)]},v=function(M){return M.type==="cancelAndHold"},_=function(M){return M.type==="cancelScheduledValues"},O=function(M){return v(M)||_(M)?M.cancelTime:l(M)||u(M)?M.endTime:M.startTime},F=function(M,w,I,R){var L=R.endTime,A=R.value;return I===A?A:0<I&&0<A||I<0&&A<0?I*Math.pow(A/I,(M-w)/(L-w)):0},P=function(M,w,I,R){var L=R.endTime,A=R.value;return I+(M-w)/(L-w)*(A-I)},N=function(M,w){var I=Math.floor(w),R=Math.ceil(w);return I===R?M[I]:(1-(w-I))*M[I]+(1-(R-w))*M[R]},E=function(M,w){var I=w.duration,R=w.startTime,L=w.values,A=(M-R)/I*(L.length-1);return N(L,A)},b=function(M){return M.type==="setTarget"},S=(function(){function y(M){n(this,y),this._automationEvents=[],this._currenTime=0,this._defaultValue=M}return r(y,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(w){var I=O(w);if(v(w)||_(w)){var R=this._automationEvents.findIndex(function(z){return _(w)&&h(z)?z.startTime+z.duration>=I:O(z)>=I}),L=this._automationEvents[R];if(R!==-1&&(this._automationEvents=this._automationEvents.slice(0,R)),v(w)){var A=this._automationEvents[this._automationEvents.length-1];if(L!==void 0&&d(L)){if(A!==void 0&&b(A))throw new Error("The internal list is malformed.");var B=A===void 0?L.insertTime:h(A)?A.startTime+A.duration:O(A),J=A===void 0?this._defaultValue:h(A)?A.values[A.values.length-1]:A.value,W=l(L)?F(I,B,J,L):P(I,B,J,L),Ae=l(L)?o(W,I,this._currenTime):i(W,I,this._currenTime);this._automationEvents.push(Ae)}if(A!==void 0&&b(A)&&this._automationEvents.push(s(this.getValue(I),I)),A!==void 0&&h(A)&&A.startTime+A.duration>I){var ke=I-A.startTime,ee=(A.values.length-1)/A.duration,X=Math.max(2,1+Math.ceil(ke*ee)),ve=ke/(X-1)*ee,Oe=A.values.slice(0,X);if(ve<1)for(var U=1;U<X;U+=1){var st=ve*U%1;Oe[U]=A.values[U-1]*(1-st)+A.values[U]*st}this._automationEvents[this._automationEvents.length-1]=a(Oe,A.startTime,ke)}}}else{var Qt=this._automationEvents.findIndex(function(z){return O(z)>I}),An=Qt===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[Qt-1];if(An!==void 0&&h(An)&&O(An)+An.duration>I)return!1;var mr=l(w)?o(w.value,w.endTime,this._currenTime):u(w)?i(w.value,I,this._currenTime):w;if(Qt===-1)this._automationEvents.push(mr);else{if(h(w)&&I+w.duration>O(this._automationEvents[Qt]))return!1;this._automationEvents.splice(Qt,0,mr)}}return!0}},{key:"flush",value:function(w){var I=this._automationEvents.findIndex(function(A){return O(A)>w});if(I>1){var R=this._automationEvents.slice(I-1),L=R[0];b(L)&&R.unshift(s(m(this._automationEvents,I-2,L.startTime,this._defaultValue),L.startTime)),this._automationEvents=R}}},{key:"getValue",value:function(w){if(this._automationEvents.length===0)return this._defaultValue;var I=this._automationEvents.findIndex(function(Oe){return O(Oe)>w}),R=this._automationEvents[I],L=(I===-1?this._automationEvents.length:I)-1,A=this._automationEvents[L];if(A!==void 0&&b(A)&&(R===void 0||!d(R)||R.insertTime>w))return c(w,m(this._automationEvents,L-1,A.startTime,this._defaultValue),A);if(A!==void 0&&p(A)&&(R===void 0||!d(R)))return A.value;if(A!==void 0&&h(A)&&(R===void 0||!d(R)||A.startTime+A.duration>w))return w<A.startTime+A.duration?E(w,A):A.values[A.values.length-1];if(A!==void 0&&d(A)&&(R===void 0||!d(R)))return A.value;if(R!==void 0&&l(R)){var B=k(this._automationEvents,L,A,R,this._defaultValue),J=e(B,2),W=J[0],Ae=J[1];return F(w,W,Ae,R)}if(R!==void 0&&u(R)){var ke=k(this._automationEvents,L,A,R,this._defaultValue),ee=e(ke,2),X=ee[0],ve=ee[1];return P(w,X,ve,R)}return this._defaultValue}}])})(),q=function(M){return{cancelTime:M,type:"cancelAndHold"}},G=function(M){return{cancelTime:M,type:"cancelScheduledValues"}},g=function(M,w){return{endTime:w,type:"exponentialRampToValue",value:M}},f=function(M,w){return{endTime:w,type:"linearRampToValue",value:M}},C=function(M,w,I){return{startTime:w,target:M,timeConstant:I,type:"setTarget"}};t.AutomationEventList=S,t.createCancelAndHoldAutomationEvent=q,t.createCancelScheduledValuesAutomationEvent=G,t.createExponentialRampToValueAutomationEvent=g,t.createLinearRampToValueAutomationEvent=f,t.createSetTargetAutomationEvent=C,t.createSetValueAutomationEvent=s,t.createSetValueCurveAutomationEvent=a})});var L4=qt((gp,kp)=>{"use strict";(function(t,e){typeof gp=="object"&&typeof kp<"u"?kp.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self).Meyda=e()})(gp,function(){"use strict";function t(g,f,C){if(C||arguments.length===2)for(var y,M=0,w=f.length;M<w;M++)!y&&M in f||(y||(y=Array.prototype.slice.call(f,0,M)),y[M]=f[M]);return g.concat(y||Array.prototype.slice.call(f))}var e=Object.freeze({__proto__:null,blackman:function(g){for(var f=new Float32Array(g),C=2*Math.PI/(g-1),y=2*C,M=0;M<g/2;M++)f[M]=.42-.5*Math.cos(M*C)+.08*Math.cos(M*y);for(M=Math.ceil(g/2);M>0;M--)f[g-M]=f[M-1];return f},hamming:function(g){for(var f=new Float32Array(g),C=0;C<g;C++)f[C]=.54-.46*Math.cos(2*Math.PI*(C/g-1));return f},hanning:function(g){for(var f=new Float32Array(g),C=0;C<g;C++)f[C]=.5-.5*Math.cos(2*Math.PI*C/(g-1));return f},sine:function(g){for(var f=Math.PI/(g-1),C=new Float32Array(g),y=0;y<g;y++)C[y]=Math.sin(f*y);return C}}),n={};function r(g){for(;g%2==0&&g>1;)g/=2;return g===1}function o(g,f){if(f!=="rect"){if(f!==""&&f||(f="hanning"),n[f]||(n[f]={}),!n[f][g.length])try{n[f][g.length]=e[f](g.length)}catch{throw new Error("Invalid windowing function")}g=(function(C,y){for(var M=[],w=0;w<Math.min(C.length,y.length);w++)M[w]=C[w]*y[w];return M})(g,n[f][g.length])}return g}function i(g,f,C){for(var y=new Float32Array(g),M=0;M<y.length;M++)y[M]=M*f/C,y[M]=13*Math.atan(y[M]/1315.8)+3.5*Math.atan(Math.pow(y[M]/7518,2));return y}function s(g){return Float32Array.from(g)}function a(g){return 1125*Math.log(1+g/700)}function c(g,f,C){for(var y,M=new Float32Array(g+2),w=new Float32Array(g+2),I=f/2,R=a(0),L=(a(I)-R)/(g+1),A=new Array(g+2),B=0;B<M.length;B++)M[B]=B*L,w[B]=(y=M[B],700*(Math.exp(y/1125)-1)),A[B]=Math.floor((C+1)*w[B]/f);for(var J=new Array(g),W=0;W<J.length;W++){for(J[W]=new Array(C/2+1).fill(0),B=A[W];B<A[W+1];B++)J[W][B]=(B-A[W])/(A[W+1]-A[W]);for(B=A[W+1];B<A[W+2];B++)J[W][B]=(A[W+2]-B)/(A[W+2]-A[W+1])}return J}function l(g,f,C,y,M,w,I){y===void 0&&(y=5),M===void 0&&(M=2),w===void 0&&(w=!0),I===void 0&&(I=440);var R=Math.floor(C/2)+1,L=new Array(C).fill(0).map(function(ve,Oe){return g*(function(U,st){return Math.log2(16*U/st)})(f*Oe/C,I)});L[0]=L[1]-1.5*g;var A,B,J,W=L.slice(1).map(function(ve,Oe){return Math.max(ve-L[Oe])},1).concat([1]),Ae=Math.round(g/2),ke=new Array(g).fill(0).map(function(ve,Oe){return L.map(function(U){return(10*g+Ae+U-Oe)%g-Ae})}),ee=ke.map(function(ve,Oe){return ve.map(function(U,st){return Math.exp(-.5*Math.pow(2*ke[Oe][st]/W[st],2))})});if(B=(A=ee)[0].map(function(){return 0}),J=A.reduce(function(ve,Oe){return Oe.forEach(function(U,st){ve[st]+=Math.pow(U,2)}),ve},B).map(Math.sqrt),ee=A.map(function(ve,Oe){return ve.map(function(U,st){return U/(J[st]||1)})}),M){var X=L.map(function(ve){return Math.exp(-.5*Math.pow((ve/g-y)/M,2))});ee=ee.map(function(ve){return ve.map(function(Oe,U){return Oe*X[U]})})}return w&&(ee=t(t([],ee.slice(3),!0),ee.slice(0,3),!0)),ee.map(function(ve){return ve.slice(0,R)})}function u(g,f){for(var C=0,y=0,M=0;M<f.length;M++)C+=Math.pow(M,g)*Math.abs(f[M]),y+=f[M];return C/y}function d(g){var f=g.ampSpectrum,C=g.barkScale,y=g.numberOfBarkBands,M=y===void 0?24:y;if(typeof f!="object"||typeof C!="object")throw new TypeError;var w=M,I=new Float32Array(w),R=0,L=f,A=new Int32Array(w+1);A[0]=0;for(var B=C[L.length-1]/w,J=1,W=0;W<L.length;W++)for(;C[W]>B;)A[J++]=W,B=J*C[L.length-1]/w;for(A[w]=L.length-1,W=0;W<w;W++){for(var Ae=0,ke=A[W];ke<A[W+1];ke++)Ae+=L[ke];I[W]=Math.pow(Ae,.23)}for(W=0;W<I.length;W++)R+=I[W];return{specific:I,total:R}}function p(g){var f=g.ampSpectrum;if(typeof f!="object")throw new TypeError;for(var C=new Float32Array(f.length),y=0;y<C.length;y++)C[y]=Math.pow(f[y],2);return C}function h(g){var f=g.ampSpectrum,C=g.melFilterBank,y=g.bufferSize;if(typeof f!="object")throw new TypeError("Valid ampSpectrum is required to generate melBands");if(typeof C!="object")throw new TypeError("Valid melFilterBank is required to generate melBands");for(var M=p({ampSpectrum:f}),w=C.length,I=Array(w),R=new Float32Array(w),L=0;L<R.length;L++){I[L]=new Float32Array(y/2),R[L]=0;for(var A=0;A<y/2;A++)I[L][A]=C[L][A]*M[A],R[L]+=I[L][A];R[L]=Math.log(R[L]+1)}return Array.prototype.slice.call(R)}function m(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var k=null,v=m(function(g,f){var C=g.length;return f=f||2,k&&k[C]||(function(y){(k=k||{})[y]=new Array(y*y);for(var M=Math.PI/y,w=0;w<y;w++)for(var I=0;I<y;I++)k[y][I+w*y]=Math.cos(M*(I+.5)*w)})(C),g.map(function(){return 0}).map(function(y,M){return f*g.reduce(function(w,I,R,L){return w+I*k[C][R+M*C]},0)})}),_=Object.freeze({__proto__:null,amplitudeSpectrum:function(g){return g.ampSpectrum},buffer:function(g){return g.signal},chroma:function(g){var f=g.ampSpectrum,C=g.chromaFilterBank;if(typeof f!="object")throw new TypeError("Valid ampSpectrum is required to generate chroma");if(typeof C!="object")throw new TypeError("Valid chromaFilterBank is required to generate chroma");var y=C.map(function(w,I){return f.reduce(function(R,L,A){return R+L*w[A]},0)}),M=Math.max.apply(Math,y);return M?y.map(function(w){return w/M}):y},complexSpectrum:function(g){return g.complexSpectrum},energy:function(g){var f=g.signal;if(typeof f!="object")throw new TypeError;for(var C=0,y=0;y<f.length;y++)C+=Math.pow(Math.abs(f[y]),2);return C},loudness:d,melBands:h,mfcc:function(g){var f=g.ampSpectrum,C=g.melFilterBank,y=g.numberOfMFCCCoefficients,M=g.bufferSize,w=Math.min(40,Math.max(1,y||13));if(C.length<w)throw new Error("Insufficient filter bank for requested number of coefficients");var I=h({ampSpectrum:f,melFilterBank:C,bufferSize:M});return v(I).slice(0,w)},perceptualSharpness:function(g){for(var f=d({ampSpectrum:g.ampSpectrum,barkScale:g.barkScale}),C=f.specific,y=0,M=0;M<C.length;M++)y+=M<15?(M+1)*C[M+1]:.066*Math.exp(.171*(M+1));return y*=.11/f.total},perceptualSpread:function(g){for(var f=d({ampSpectrum:g.ampSpectrum,barkScale:g.barkScale}),C=0,y=0;y<f.specific.length;y++)f.specific[y]>C&&(C=f.specific[y]);return Math.pow((f.total-C)/f.total,2)},powerSpectrum:p,rms:function(g){var f=g.signal;if(typeof f!="object")throw new TypeError;for(var C=0,y=0;y<f.length;y++)C+=Math.pow(f[y],2);return C/=f.length,C=Math.sqrt(C)},spectralCentroid:function(g){var f=g.ampSpectrum;if(typeof f!="object")throw new TypeError;return u(1,f)},spectralCrest:function(g){var f=g.ampSpectrum;if(typeof f!="object")throw new TypeError;var C=0,y=-1/0;return f.forEach(function(M){C+=Math.pow(M,2),y=M>y?M:y}),C/=f.length,C=Math.sqrt(C),y/C},spectralFlatness:function(g){var f=g.ampSpectrum;if(typeof f!="object")throw new TypeError;for(var C=0,y=0,M=0;M<f.length;M++)C+=Math.log(f[M]),y+=f[M];return Math.exp(C/f.length)*f.length/y},spectralFlux:function(g){var f=g.signal,C=g.previousSignal,y=g.bufferSize;if(typeof f!="object"||typeof C!="object")throw new TypeError;for(var M=0,w=-y/2;w<f.length/2-1;w++)x=Math.abs(f[w])-Math.abs(C[w]),M+=(x+Math.abs(x))/2;return M},spectralKurtosis:function(g){var f=g.ampSpectrum;if(typeof f!="object")throw new TypeError;var C=f,y=u(1,C),M=u(2,C),w=u(3,C),I=u(4,C);return(-3*Math.pow(y,4)+6*y*M-4*y*w+I)/Math.pow(Math.sqrt(M-Math.pow(y,2)),4)},spectralRolloff:function(g){var f=g.ampSpectrum,C=g.sampleRate;if(typeof f!="object")throw new TypeError;for(var y=f,M=C/(2*(y.length-1)),w=0,I=0;I<y.length;I++)w+=y[I];for(var R=.99*w,L=y.length-1;w>R&&L>=0;)w-=y[L],--L;return(L+1)*M},spectralSkewness:function(g){var f=g.ampSpectrum;if(typeof f!="object")throw new TypeError;var C=u(1,f),y=u(2,f),M=u(3,f);return(2*Math.pow(C,3)-3*C*y+M)/Math.pow(Math.sqrt(y-Math.pow(C,2)),3)},spectralSlope:function(g){var f=g.ampSpectrum,C=g.sampleRate,y=g.bufferSize;if(typeof f!="object")throw new TypeError;for(var M=0,w=0,I=new Float32Array(f.length),R=0,L=0,A=0;A<f.length;A++){M+=f[A];var B=A*C/y;I[A]=B,R+=B*B,w+=B,L+=B*f[A]}return(f.length*L-w*M)/(M*(R-Math.pow(w,2)))},spectralSpread:function(g){var f=g.ampSpectrum;if(typeof f!="object")throw new TypeError;return Math.sqrt(u(2,f)-Math.pow(u(1,f),2))},zcr:function(g){var f=g.signal;if(typeof f!="object")throw new TypeError;for(var C=0,y=1;y<f.length;y++)(f[y-1]>=0&&f[y]<0||f[y-1]<0&&f[y]>=0)&&C++;return C}});function O(g){if(Array.isArray(g)){for(var f=0,C=Array(g.length);f<g.length;f++)C[f]=g[f];return C}return Array.from(g)}var F={},P={},N={bitReverseArray:function(g){if(F[g]===void 0){for(var f=(g-1).toString(2).length,C="0".repeat(f),y={},M=0;M<g;M++){var w=M.toString(2);w=C.substr(w.length)+w,w=[].concat(O(w)).reverse().join(""),y[M]=parseInt(w,2)}F[g]=y}return F[g]},multiply:function(g,f){return{real:g.real*f.real-g.imag*f.imag,imag:g.real*f.imag+g.imag*f.real}},add:function(g,f){return{real:g.real+f.real,imag:g.imag+f.imag}},subtract:function(g,f){return{real:g.real-f.real,imag:g.imag-f.imag}},euler:function(g,f){var C=-2*Math.PI*g/f;return{real:Math.cos(C),imag:Math.sin(C)}},conj:function(g){return g.imag*=-1,g},constructComplexArray:function(g){var f={};f.real=g.real===void 0?g.slice():g.real.slice();var C=f.real.length;return P[C]===void 0&&(P[C]=Array.apply(null,Array(C)).map(Number.prototype.valueOf,0)),f.imag=P[C].slice(),f}},E=function(g){var f={};g.real===void 0||g.imag===void 0?f=N.constructComplexArray(g):(f.real=g.real.slice(),f.imag=g.imag.slice());var C=f.real.length,y=Math.log2(C);if(Math.round(y)!=y)throw new Error("Input size must be a power of 2.");if(f.real.length!=f.imag.length)throw new Error("Real and imaginary components must have the same length.");for(var M=N.bitReverseArray(C),w={real:[],imag:[]},I=0;I<C;I++)w.real[M[I]]=f.real[I],w.imag[M[I]]=f.imag[I];for(var R=0;R<C;R++)f.real[R]=w.real[R],f.imag[R]=w.imag[R];for(var L=1;L<=y;L++)for(var A=Math.pow(2,L),B=0;B<A/2;B++)for(var J=N.euler(B,A),W=0;W<C/A;W++){var Ae=A*W+B,ke=A*W+B+A/2,ee={real:f.real[Ae],imag:f.imag[Ae]},X={real:f.real[ke],imag:f.imag[ke]},ve=N.multiply(J,X),Oe=N.subtract(ee,ve);f.real[ke]=Oe.real,f.imag[ke]=Oe.imag;var U=N.add(ve,ee);f.real[Ae]=U.real,f.imag[Ae]=U.imag}return f},b=E,S=(function(){function g(f,C){var y=this;if(this._m=C,!f.audioContext)throw this._m.errors.noAC;if(f.bufferSize&&!r(f.bufferSize))throw this._m._errors.notPow2;if(!f.source)throw this._m._errors.noSource;this._m.audioContext=f.audioContext,this._m.bufferSize=f.bufferSize||this._m.bufferSize||256,this._m.hopSize=f.hopSize||this._m.hopSize||this._m.bufferSize,this._m.sampleRate=f.sampleRate||this._m.audioContext.sampleRate||44100,this._m.callback=f.callback,this._m.windowingFunction=f.windowingFunction||"hanning",this._m.featureExtractors=_,this._m.EXTRACTION_STARTED=f.startImmediately||!1,this._m.channel=typeof f.channel=="number"?f.channel:0,this._m.inputs=f.inputs||1,this._m.outputs=f.outputs||1,this._m.numberOfMFCCCoefficients=f.numberOfMFCCCoefficients||this._m.numberOfMFCCCoefficients||13,this._m.numberOfBarkBands=f.numberOfBarkBands||this._m.numberOfBarkBands||24,this._m.spn=this._m.audioContext.createScriptProcessor(this._m.bufferSize,this._m.inputs,this._m.outputs),this._m.spn.connect(this._m.audioContext.destination),this._m._featuresToExtract=f.featureExtractors||[],this._m.barkScale=i(this._m.bufferSize,this._m.sampleRate,this._m.bufferSize),this._m.melFilterBank=c(Math.max(this._m.melBands,this._m.numberOfMFCCCoefficients),this._m.sampleRate,this._m.bufferSize),this._m.inputData=null,this._m.previousInputData=null,this._m.frame=null,this._m.previousFrame=null,this.setSource(f.source),this._m.spn.onaudioprocess=function(M){var w;y._m.inputData!==null&&(y._m.previousInputData=y._m.inputData),y._m.inputData=M.inputBuffer.getChannelData(y._m.channel),y._m.previousInputData?((w=new Float32Array(y._m.previousInputData.length+y._m.inputData.length-y._m.hopSize)).set(y._m.previousInputData.slice(y._m.hopSize)),w.set(y._m.inputData,y._m.previousInputData.length-y._m.hopSize)):w=y._m.inputData;var I=(function(R,L,A){if(R.length<L)throw new Error("Buffer is too short for frame length");if(A<1)throw new Error("Hop length cannot be less that 1");if(L<1)throw new Error("Frame length cannot be less that 1");var B=1+Math.floor((R.length-L)/A);return new Array(B).fill(0).map(function(J,W){return R.slice(W*A,W*A+L)})})(w,y._m.bufferSize,y._m.hopSize);I.forEach(function(R){y._m.frame=R;var L=y._m.extract(y._m._featuresToExtract,y._m.frame,y._m.previousFrame);typeof y._m.callback=="function"&&y._m.EXTRACTION_STARTED&&y._m.callback(L),y._m.previousFrame=y._m.frame})}}return g.prototype.start=function(f){this._m._featuresToExtract=f||this._m._featuresToExtract,this._m.EXTRACTION_STARTED=!0},g.prototype.stop=function(){this._m.EXTRACTION_STARTED=!1},g.prototype.setSource=function(f){this._m.source&&this._m.source.disconnect(this._m.spn),this._m.source=f,this._m.source.connect(this._m.spn)},g.prototype.setChannel=function(f){f<=this._m.inputs?this._m.channel=f:console.error("Channel ".concat(f," does not exist. Make sure you've provided a value for 'inputs' that is greater than ").concat(f," when instantiating the MeydaAnalyzer"))},g.prototype.get=function(f){return this._m.inputData?this._m.extract(f||this._m._featuresToExtract,this._m.inputData,this._m.previousInputData):null},g})(),q={audioContext:null,spn:null,bufferSize:512,sampleRate:44100,melBands:26,chromaBands:12,callback:null,windowingFunction:"hanning",featureExtractors:_,EXTRACTION_STARTED:!1,numberOfMFCCCoefficients:13,numberOfBarkBands:24,_featuresToExtract:[],windowing:o,_errors:{notPow2:new Error("Meyda: Buffer size must be a power of 2, e.g. 64 or 512"),featureUndef:new Error("Meyda: No features defined."),invalidFeatureFmt:new Error("Meyda: Invalid feature format"),invalidInput:new Error("Meyda: Invalid input."),noAC:new Error("Meyda: No AudioContext specified."),noSource:new Error("Meyda: No source node specified.")},createMeydaAnalyzer:function(g){return new S(g,Object.assign({},q))},listAvailableFeatureExtractors:function(){return Object.keys(this.featureExtractors)},extract:function(g,f,C){var y=this;if(!f)throw this._errors.invalidInput;if(typeof f!="object")throw this._errors.invalidInput;if(!g)throw this._errors.featureUndef;if(!r(f.length))throw this._errors.notPow2;this.barkScale!==void 0&&this.barkScale.length==this.bufferSize||(this.barkScale=i(this.bufferSize,this.sampleRate,this.bufferSize)),this.melFilterBank!==void 0&&this.barkScale.length==this.bufferSize&&this.melFilterBank.length==this.melBands||(this.melFilterBank=c(Math.max(this.melBands,this.numberOfMFCCCoefficients),this.sampleRate,this.bufferSize)),this.chromaFilterBank!==void 0&&this.chromaFilterBank.length==this.chromaBands||(this.chromaFilterBank=l(this.chromaBands,this.sampleRate,this.bufferSize)),"buffer"in f&&f.buffer===void 0?this.signal=s(f):this.signal=f;var M=G(f,this.windowingFunction,this.bufferSize);if(this.signal=M.windowedSignal,this.complexSpectrum=M.complexSpectrum,this.ampSpectrum=M.ampSpectrum,C){var w=G(C,this.windowingFunction,this.bufferSize);this.previousSignal=w.windowedSignal,this.previousComplexSpectrum=w.complexSpectrum,this.previousAmpSpectrum=w.ampSpectrum}var I=function(R){return y.featureExtractors[R]({ampSpectrum:y.ampSpectrum,chromaFilterBank:y.chromaFilterBank,complexSpectrum:y.complexSpectrum,signal:y.signal,bufferSize:y.bufferSize,sampleRate:y.sampleRate,barkScale:y.barkScale,melFilterBank:y.melFilterBank,previousSignal:y.previousSignal,previousAmpSpectrum:y.previousAmpSpectrum,previousComplexSpectrum:y.previousComplexSpectrum,numberOfMFCCCoefficients:y.numberOfMFCCCoefficients,numberOfBarkBands:y.numberOfBarkBands})};if(typeof g=="object")return g.reduce(function(R,L){var A;return Object.assign({},R,((A={})[L]=I(L),A))},{});if(typeof g=="string")return I(g);throw this._errors.invalidFeatureFmt}},G=function(g,f,C){var y={};g.buffer===void 0?y.signal=s(g):y.signal=g,y.windowedSignal=o(y.signal,f),y.complexSpectrum=b(y.windowedSignal),y.ampSpectrum=new Float32Array(C/2);for(var M=0;M<C/2;M++)y.ampSpectrum[M]=Math.sqrt(Math.pow(y.complexSpectrum.real[M],2)+Math.pow(y.complexSpectrum.imag[M],2));return y};return typeof window<"u"&&(window.Meyda=q),q})});var yt=null,Ea=!1,vu=1,B4=null,Yt=Symbol("SIGNAL");function se(t){let e=yt;return yt=t,e}function Na(){return yt}var Vo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mu(t){if(Ea)throw new Error("");if(yt===null)return;yt.consumerOnSignalRead(t);let e=yt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=yt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:yt.producers,n!==void 0&&n.producer===t)){yt.producersTail=n,n.lastReadVersion=t.version;return}let o=t.consumersTail;if(o!==void 0&&o.consumer===yt&&(!r||U4(o,yt)))return;let i=jo(yt),s={producer:t,consumer:yt,nextProducer:n,prevConsumer:o,lastReadVersion:t.version,nextConsumer:void 0};yt.producersTail=s,e!==void 0?e.nextProducer=s:yt.producers=s,i&&Cp(t,s)}function xp(){vu++}function xu(t){if(!(jo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vu)){if(!t.producerMustRecompute(t)&&!Fa(t)){ku(t);return}t.producerRecomputeValue(t),ku(t)}}function _u(t){if(t.consumers===void 0)return;let e=Ea;Ea=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||z4(r)}}finally{Ea=e}}function wu(){return yt?.consumerAllowSignalWrites!==!1}function z4(t){t.dirty=!0,_u(t),t.consumerMarkedDirty?.(t)}function ku(t){t.dirty=!1,t.lastCleanEpoch=vu}function ns(t){return t&&_p(t),se(t)}function _p(t){t.producersTail=void 0,t.recomputing=!0}function Oa(t,e){se(e),t&&wp(t)}function wp(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(jo(t))do n=Cu(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function Fa(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(xu(n),r!==n.version))return!0}return!1}function qo(t){if(jo(t)){let e=t.producers;for(;e!==void 0;)e=Cu(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Cp(t,e){let n=t.consumersTail,r=jo(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let o=t.producers;o!==void 0;o=o.nextProducer)Cp(o.producer,o)}function Cu(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,o=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=o:e.consumersTail=o,o!==void 0)o.nextConsumer=r;else if(e.consumers=r,!jo(e)){let i=e.producers;for(;i!==void 0;)i=Cu(i)}return n}function jo(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function bu(t){B4?.(t)}function U4(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Iu(t,e){return Object.is(t,e)}function Ra(t,e){let n=Object.create(G4);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(xu(n),Mu(n),n.value===La)throw n.error;return n.value};return r[Yt]=n,bu(n),r}var yu=Symbol("UNSET"),gu=Symbol("COMPUTING"),La=Symbol("ERRORED"),G4=j(T({},Vo),{value:yu,dirty:!0,error:null,equal:Iu,kind:"computed",producerMustRecompute(t){return t.value===yu||t.value===gu},producerRecomputeValue(t){if(t.value===gu)throw new Error("");let e=t.value;t.value=gu;let n=ns(t),r,o=!1;try{r=t.computation(),se(null),o=e!==yu&&e!==La&&r!==La&&t.equal(e,r)}catch(i){r=La,t.error=i}finally{Oa(t,n)}if(o){t.value=e;return}t.value=r,t.version++}});function W4(){throw new Error}var bp=W4;function Ip(t){bp(t)}function Su(t){bp=t}var $4=null;function Du(t,e){let n=Object.create(Ap);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Sp(n);return r[Yt]=n,bu(n),[r,s=>Au(n,s),s=>Dp(n,s)]}function Sp(t){return Mu(t),t.value}function Au(t,e){wu()||Ip(t),t.equal(t.value,e)||(t.value=e,Z4(t))}function Dp(t,e){wu()||Ip(t),Au(t,e(t.value))}var Ap=j(T({},Vo),{equal:Iu,value:void 0,kind:"signal"});function Z4(t){t.version++,xp(),_u(t),$4?.(t)}function Tu(t){let e=se(null);try{return t()}finally{se(e)}}var Eu=j(T({},Vo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Lu(t){if(t.dirty=!1,t.version>0&&!Fa(t))return;t.version++;let e=ns(t);try{t.cleanup(),t.fn()}finally{Oa(t,e)}}function we(t){return typeof t=="function"}function Pa(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Va=Pa(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function rs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _t=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(we(r))try{r()}catch(i){e=i instanceof Va?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Tp(i)}catch(s){e=e??[],s instanceof Va?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Va(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Tp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&rs(n,e)}remove(e){let{_finalizers:n}=this;n&&rs(n,e),e instanceof t&&e._removeParent(this)}};_t.EMPTY=(()=>{let t=new _t;return t.closed=!0,t})();var Nu=_t.EMPTY;function qa(t){return t instanceof _t||t&&"closed"in t&&we(t.remove)&&we(t.add)&&we(t.unsubscribe)}function Tp(t){we(t)?t():t.unsubscribe()}var fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ho={setTimeout(t,e,...n){let{delegate:r}=Ho;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ho;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ja(t){Ho.setTimeout(()=>{let{onUnhandledError:e}=fn;if(e)e(t);else throw t})}function Ou(){}var Ep=Fu("C",void 0,void 0);function Lp(t){return Fu("E",void 0,t)}function Np(t){return Fu("N",t,void 0)}function Fu(t,e,n){return{kind:t,value:e,error:n}}var Wr=null;function Bo(t){if(fn.useDeprecatedSynchronousErrorHandling){let e=!Wr;if(e&&(Wr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Wr;if(Wr=null,n)throw r}}else t()}function Op(t){fn.useDeprecatedSynchronousErrorHandling&&Wr&&(Wr.errorThrown=!0,Wr.error=t)}var $r=class extends _t{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,qa(e)&&e.add(this)):this.destination=K4}static create(e,n,r){return new zo(e,n,r)}next(e){this.isStopped?Pu(Np(e),this):this._next(e)}error(e){this.isStopped?Pu(Lp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pu(Ep,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},X4=Function.prototype.bind;function Ru(t,e){return X4.call(t,e)}var Vu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ha(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ha(r)}else Ha(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ha(n)}}},zo=class extends $r{constructor(e,n,r){super();let o;if(we(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&fn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Ru(e.next,i),error:e.error&&Ru(e.error,i),complete:e.complete&&Ru(e.complete,i)}):o=e}this.destination=new Vu(o)}};function Ha(t){fn.useDeprecatedSynchronousErrorHandling?Op(t):ja(t)}function Q4(t){throw t}function Pu(t,e){let{onStoppedNotification:n}=fn;n&&Ho.setTimeout(()=>n(t,e))}var K4={closed:!0,next:Ou,error:Q4,complete:Ou};var Uo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fp(t){return t}function Rp(t){return t.length===0?Fp:t.length===1?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}var Ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){let i=J4(n)?n:new zo(n,r,o);return Bo(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Pp(r),new r((o,i)=>{let s=new zo({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Uo](){return this}pipe(...n){return Rp(n)(this)}toPromise(n){return n=Pp(n),new n((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function Pp(t){var e;return(e=t??fn.Promise)!==null&&e!==void 0?e:Promise}function Y4(t){return t&&we(t.next)&&we(t.error)&&we(t.complete)}function J4(t){return t&&t instanceof $r||Y4(t)&&qa(t)}function e5(t){return we(t?.lift)}function Go(t){return e=>{if(e5(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wo(t,e,n,r,o){return new qu(t,e,n,r,o)}var qu=class extends $r{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};var Vp=Pa(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tn=(()=>{class t extends Ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ba(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vp}next(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Nu:(this.currentObservers=null,i.push(n),new _t(()=>{this.currentObservers=null,rs(i,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){let n=new Ue;return n.source=this,n}}return t.create=(e,n)=>new Ba(e,n),t})(),Ba=class extends Tn{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Nu}};var os=class extends Tn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};function t5(t){return t[t.length-1]}function qp(t){return we(t5(t))?t.pop():void 0}function gt(t,e,n,r){var o=arguments.length,i=o<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,n,i):s(e,n))||i);return o>3&&i&&Object.defineProperty(e,n,i),i}function de(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?i(u.value):o(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function jp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(t){return this instanceof Zr?(this.v=t,this):new Zr(t)}function Hp(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),o,i=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),o[Symbol.asyncIterator]=function(){return this},o;function s(h){return function(m){return Promise.resolve(m).then(h,d)}}function a(h,m){r[h]&&(o[h]=function(k){return new Promise(function(v,_){i.push([h,k,v,_])>1||c(h,k)})},m&&(o[h]=m(o[h])))}function c(h,m){try{l(r[h](m))}catch(k){p(i[0][3],k)}}function l(h){h.value instanceof Zr?Promise.resolve(h.value.v).then(u,d):p(i[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function p(h,m){h(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}function Bp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof jp=="function"?jp(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){s=t[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},s)}}var za=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ua(t){return we(t?.then)}function Ga(t){return we(t[Uo])}function Wa(t){return Symbol.asyncIterator&&we(t?.[Symbol.asyncIterator])}function $a(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function n5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Za=n5();function Xa(t){return we(t?.[Za])}function Qa(t){return Hp(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:o}=yield Zr(n.read());if(o)return yield Zr(void 0);yield yield Zr(r)}}finally{n.releaseLock()}})}function Ka(t){return we(t?.getReader)}function kr(t){if(t instanceof Ue)return t;if(t!=null){if(Ga(t))return r5(t);if(za(t))return o5(t);if(Ua(t))return i5(t);if(Wa(t))return zp(t);if(Xa(t))return s5(t);if(Ka(t))return a5(t)}throw $a(t)}function r5(t){return new Ue(e=>{let n=t[Uo]();if(we(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function o5(t){return new Ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function i5(t){return new Ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ja)})}function s5(t){return new Ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function zp(t){return new Ue(e=>{c5(t,e).catch(n=>e.error(n))})}function a5(t){return zp(Qa(t))}function c5(t,e){var n,r,o,i;return de(this,void 0,void 0,function*(){try{for(n=Bp(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})}function En(t,e,n,r=0,o=!1){let i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Ya(t,e=0){return Go((n,r)=>{n.subscribe(Wo(r,o=>En(r,t,()=>r.next(o),e),()=>En(r,t,()=>r.complete(),e),o=>En(r,t,()=>r.error(o),e)))})}function Ja(t,e=0){return Go((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Up(t,e){return kr(t).pipe(Ja(e),Ya(e))}function Gp(t,e){return kr(t).pipe(Ja(e),Ya(e))}function Wp(t,e){return new Ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $p(t,e){return new Ue(n=>{let r;return En(n,e,()=>{r=t[Za](),En(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){n.error(s);return}i?n.complete():n.next(o)},0,!0)}),()=>we(r?.return)&&r.return()})}function ec(t,e){if(!t)throw new Error("Iterable cannot be null");return new Ue(n=>{En(n,e,()=>{let r=t[Symbol.asyncIterator]();En(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Zp(t,e){return ec(Qa(t),e)}function Xp(t,e){if(t!=null){if(Ga(t))return Up(t,e);if(za(t))return Wp(t,e);if(Ua(t))return Gp(t,e);if(Wa(t))return ec(t,e);if(Xa(t))return $p(t,e);if(Ka(t))return Zp(t,e)}throw $a(t)}function ju(t,e){return e?Xp(t,e):kr(t)}function Xr(t,e){return Go((n,r)=>{let o=0;n.subscribe(Wo(r,i=>{r.next(t.call(e,i,o++))}))})}var{isArray:l5}=Array;function u5(t,e){return l5(e)?t(...e):t(e)}function Qp(t){return Xr(e=>u5(t,e))}var{isArray:d5}=Array,{getPrototypeOf:h5,prototype:p5,keys:f5}=Object;function Kp(t){if(t.length===1){let e=t[0];if(d5(e))return{args:e,keys:null};if(m5(e)){let n=f5(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function m5(t){return t&&typeof t=="object"&&h5(t)===p5}function Yp(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function Hu(...t){let e=qp(t),{args:n,keys:r}=Kp(t),o=new Ue(i=>{let{length:s}=n;if(!s){i.complete();return}let a=new Array(s),c=s,l=s;for(let u=0;u<s;u++){let d=!1;kr(n[u]).subscribe(Wo(i,p=>{d||(d=!0,l--),a[u]=p},()=>c--,void 0,()=>{(!c||!d)&&(l||i.next(r?Yp(r,a):a),i.complete())}))}});return e?o.pipe(Qp(e)):o}var Bu;function tc(){return Bu}function Ln(t){let e=Bu;return Bu=t,e}var Jp=Symbol("NotFound");function $o(t){return t===Jp||t?.name==="\u0275NotFound"}var nd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",ne=class extends Error{code;constructor(e,n){super(cc(e,n)),this.code=e}};function y5(t){return`NG0${Math.abs(t)}`}function cc(t,e){return`${y5(t)}${e?": "+e:""}`}var eo=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("")}function o0(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function vr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(vr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function rd(t,e){return t?e?`${t} ${e}`:t:e||""}var g5=Te({__forward_ref__:Te});function Fn(t){return t.__forward_ref__=Fn,t.toString=function(){return vr(this())},t}function ht(t){return od(t)?t():t}function od(t){return typeof t=="function"&&t.hasOwnProperty(g5)&&t.__forward_ref__===Fn}function Ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rn(t){return{providers:t.providers||[],imports:t.imports||[]}}function lc(t){return k5(t,uc)}function k5(t,e){return t.hasOwnProperty(e)&&t[e]||null}function v5(t){let e=t?.[uc]??null;return e||null}function Uu(t){return t&&t.hasOwnProperty(rc)?t[rc]:null}var uc=Te({\u0275prov:Te}),rc=Te({\u0275inj:Te}),ce=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function id(t){return t&&!!t.\u0275providers}var sd=Te({\u0275cmp:Te}),ad=Te({\u0275dir:Te}),cd=Te({\u0275pipe:Te});var ss=Te({\u0275fac:Te}),to=Te({__NG_ELEMENT_ID__:Te}),e0=Te({__NG_ENV_ID__:Te});function no(t){return ud(t,"@Component"),t[sd]||null}function ld(t){return ud(t,"@Directive"),t[ad]||null}function i0(t){return ud(t,"@Pipe"),t[cd]||null}function ud(t,e){if(t==null)throw new ne(-919,!1)}function dd(t){return typeof t=="string"?t:t==null?"":String(t)}function s0(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():dd(t)}var a0=Te({ngErrorCode:Te}),M5=Te({ngErrorMessage:Te}),x5=Te({ngTokenPath:Te});function hd(t,e){return c0("",-200,e)}function dc(t,e){throw new ne(-201,!1)}function c0(t,e,n){let r=new ne(e,t);return r[a0]=e,r[M5]=t,n&&(r[x5]=n),r}function _5(t){return t[a0]}var Gu;function l0(){return Gu}function wt(t){let e=Gu;return Gu=t,e}function pd(t,e,n){let r=lc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;dc(t,"")}var w5={},Qr=w5,Wu="__NG_DI_FLAG__",$u=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Kr(n)||0;try{return this.injector.get(e,r&8?null:Qr,r)}catch(o){if($o(o))return o;throw o}}};function C5(t,e=0){let n=tc();if(n===void 0)throw new ne(-203,!1);if(n===null)return pd(t,void 0,e);{let r=b5(e),o=n.retrieve(t,r);if($o(o)){if(r.optional)return null;throw o}return o}}function De(t,e=0){return(l0()||C5)(ht(t),e)}function re(t,e){return De(t,Kr(e))}function Kr(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function b5(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function Zu(t){let e=[];for(let n=0;n<t.length;n++){let r=ht(t[n]);if(Array.isArray(r)){if(r.length===0)throw new ne(900,!1);let o,i=0;for(let s=0;s<r.length;s++){let a=r[s],c=I5(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(De(o,i))}else e.push(De(r))}return e}function u0(t,e){return t[Wu]=e,t.prototype[Wu]=e,t}function I5(t){return t[Wu]}function Mr(t,e){let n=t.hasOwnProperty(ss);return n?t[ss]:null}function hc(t,e){t.forEach(n=>Array.isArray(n)?hc(n,e):e(n))}function fd(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ds(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function d0(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function h0(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(o===1)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;){let i=o-2;t[o]=t[i],o--}t[e]=n,t[e+1]=r}}function p0(t,e,n){let r=Xo(t,e);return r>=0?t[r|1]=n:(r=~r,h0(t,r,e,n)),r}function pc(t,e){let n=Xo(t,e);if(n>=0)return t[n|1]}function Xo(t,e){return S5(t,e,1)}function S5(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){let i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}var Cr={},Ht=[],Qo=new ce(""),md=new ce("",-1),yd=new ce(""),as=class{get(e,n=Qr){if(n===Qr){let o=c0("",-201);throw o.name="\u0275NotFound",o}return n}};function fc(t){return{\u0275providers:t}}function f0(t){return fc([{provide:Qo,multi:!0,useValue:t}])}function m0(...t){return{\u0275providers:gd(!0,t),\u0275fromNgModule:!0}}function gd(t,...e){let n=[],r=new Set,o,i=s=>{n.push(s)};return hc(e,s=>{let a=s;oc(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&y0(o,i),n}function y0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:o}=t[n];kd(o,i=>{e(i,r)})}}function oc(t,e,n,r){if(t=ht(t),!t)return!1;let o=null,i=Uu(t),s=!i&&no(t);if(!i&&!s){let c=t.ngModule;if(i=Uu(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=t}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)oc(l,e,n,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let l;try{hc(i.imports,u=>{oc(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&y0(l,e)}if(!a){let l=Mr(o)||(()=>new o);e({provide:o,useFactory:l,deps:Ht},o),e({provide:yd,useValue:o,multi:!0},o),e({provide:Qo,useValue:()=>De(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let l=t;kd(c,u=>{e(u,l)})}}else return!1;return o!==t&&t.providers!==void 0}function kd(t,e){for(let n of t)id(n)&&(n=n.\u0275providers),Array.isArray(n)?kd(n,e):e(n)}var D5=Te({provide:String,useValue:Te});function g0(t){return t!==null&&typeof t=="object"&&D5 in t}function A5(t){return!!(t&&t.useExisting)}function T5(t){return!!(t&&t.useFactory)}function Yr(t){return typeof t=="function"}function k0(t){return!!t.useClass}var hs=new ce(""),nc={},t0={},zu;function ps(){return zu===void 0&&(zu=new as),zu}var Jt=class{},Jr=class extends Jt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,Qu(e,s=>this.processProvider(s)),this.records.set(md,Zo(void 0,this)),o.has("environment")&&this.records.set(Jt,Zo(void 0,this));let i=this.records.get(hs);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(yd,Ht,{self:!0}))}retrieve(e,n){let r=Kr(n)||0;try{return this.get(e,Qr,r)}catch(o){if($o(o))return o;throw o}}destroy(){is(this),this._destroyed=!0;let e=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return is(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){is(this);let n=Ln(this),r=wt(void 0),o;try{return e()}finally{Ln(n),wt(r)}}get(e,n=Qr,r){if(is(this),e.hasOwnProperty(e0))return e[e0](this);let o=Kr(r),i,s=Ln(this),a=wt(void 0);try{if(!(o&4)){let l=this.records.get(e);if(l===void 0){let u=F5(e)&&lc(e);u&&this.injectableDefInScope(u)?l=Zo(Xu(e),nc):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,o)}let c=o&2?ps():this.parent;return n=o&8&&n===Qr?null:n,c.get(e,n)}catch(c){let l=_5(c);throw l===-200||l===-201?new ne(l,null):c}finally{wt(a),Ln(s)}}resolveInjectorInitializers(){let e=se(null),n=Ln(this),r=wt(void 0),o;try{let i=this.get(Qo,Ht,{self:!0});for(let s of i)s()}finally{Ln(n),wt(r),se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(vr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ht(e);let n=Yr(e)?e:ht(e&&e.provide),r=L5(e);if(!Yr(e)&&e.multi===!0){let o=this.records.get(n);o||(o=Zo(void 0,nc,!0),o.factory=()=>Zu(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let o=se(null);try{if(n.value===t0)throw hd(vr(e));return n.value===nc&&(n.value=t0,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&O5(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(o)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=ht(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xu(t){let e=lc(t),n=e!==null?e.factory:Mr(t);if(n!==null)return n;if(t instanceof ce)throw new ne(204,!1);if(t instanceof Function)return E5(t);throw new ne(204,!1)}function E5(t){if(t.length>0)throw new ne(204,!1);let n=v5(t);return n!==null?()=>n.factory(t):()=>new t}function L5(t){if(g0(t))return Zo(void 0,t.useValue);{let e=vd(t);return Zo(e,nc)}}function vd(t,e,n){let r;if(Yr(t)){let o=ht(t);return Mr(o)||Xu(o)}else if(g0(t))r=()=>ht(t.useValue);else if(T5(t))r=()=>t.useFactory(...Zu(t.deps||[]));else if(A5(t))r=(o,i)=>De(ht(t.useExisting),i!==void 0&&i&8?8:void 0);else{let o=ht(t&&(t.useClass||t.provide));if(N5(t))r=()=>new o(...Zu(t.deps));else return Mr(o)||Xu(o)}return r}function is(t){if(t.destroyed)throw new ne(205,!1)}function Zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function N5(t){return!!t.deps}function O5(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function F5(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function Qu(t,e){for(let n of t)Array.isArray(n)?Qu(n,e):n&&id(n)?Qu(n.\u0275providers,e):e(n)}function mc(t,e){let n;t instanceof Jr?(is(t),n=t):n=new $u(t);let r,o=Ln(n),i=wt(void 0);try{return e()}finally{Ln(o),wt(i)}}function v0(){return l0()!==void 0||tc()!=null}var mn=0,ae=1,oe=2,pt=3,en=4,Ct=5,Ko=6,Yo=7,kt=8,br=9,rr=10,Ke=11,Jo=12,Md=13,ro=14,Et=15,oo=16,io=17,so=18,fs=19,xd=20,nr=21,yc=22,xr=23,zt=24,ao=25,ms=26,at=27,M0=1;var Ir=7,ys=8,gs=9,Lt=10;function Pn(t){return Array.isArray(t)&&typeof t[M0]=="object"}function yn(t){return Array.isArray(t)&&t[M0]===!0}function _d(t){return(t.flags&4)!==0}function Sr(t){return t.componentOffset>-1}function ks(t){return(t.flags&1)===1}function Vn(t){return!!t.template}function ei(t){return(t[oe]&512)!==0}function co(t){return(t[oe]&256)===256}var x0="svg",_0="math";function tn(t){for(;Array.isArray(t);)t=t[mn];return t}function wd(t,e){return tn(e[t])}function qn(t,e){return tn(e[t.index])}function gc(t,e){return t.data[e]}function w0(t,e){return t[e]}function Cd(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function nn(t,e){let n=e[t];return Pn(n)?n:n[mn]}function kc(t){return(t[oe]&128)===128}function C0(t){return yn(t[pt])}function ti(t,e){return e==null?null:t[e]}function bd(t){t[io]=0}function Id(t){t[oe]&1024||(t[oe]|=1024,kc(t)&&lo(t))}function b0(t,e){for(;t>0;)e=e[ro],t--;return e}function vs(t){return!!(t[oe]&9216||t[zt]?.dirty)}function vc(t){t[rr].changeDetectionScheduler?.notify(8),t[oe]&64&&(t[oe]|=1024),vs(t)&&lo(t)}function lo(t){t[rr].changeDetectionScheduler?.notify(0);let e=_r(t);for(;e!==null&&!(e[oe]&8192||(e[oe]|=8192,!kc(e)));)e=_r(e)}function Sd(t,e){if(co(t))throw new ne(911,!1);t[nr]===null&&(t[nr]=[]),t[nr].push(e)}function I0(t,e){if(t[nr]===null)return;let n=t[nr].indexOf(e);n!==-1&&t[nr].splice(n,1)}function _r(t){let e=t[pt];return yn(e)?e[pt]:e}function S0(t){return t[Yo]??=[]}function D0(t){return t.cleanup??=[]}var he={lFrame:z0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ku=!1;function A0(){return he.lFrame.elementDepthCount}function T0(){he.lFrame.elementDepthCount++}function E0(){he.lFrame.elementDepthCount--}function Dd(){return he.bindingsEnabled}function Ad(){return he.skipHydrationRootTNode!==null}function L0(t){return he.skipHydrationRootTNode===t}function N0(){he.skipHydrationRootTNode=null}function Ne(){return he.lFrame.lView}function rn(){return he.lFrame.tView}function ct(t){return he.lFrame.contextLView=t,t[kt]}function lt(t){return he.lFrame.contextLView=null,t}function Ut(){let t=Td();for(;t!==null&&t.type===64;)t=t.parent;return t}function Td(){return he.lFrame.currentTNode}function O0(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ni(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function Ed(){return he.lFrame.isParent}function Ld(){he.lFrame.isParent=!1}function Nd(){return Ku}function cs(t){let e=Ku;return Ku=t,e}function F0(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function R0(t){return he.lFrame.bindingIndex=t}function Od(){return he.lFrame.bindingIndex++}function P0(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function V0(){return he.lFrame.inI18n}function q0(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,Mc(e)}function j0(){return he.lFrame.currentDirectiveIndex}function Mc(t){he.lFrame.currentDirectiveIndex=t}function H0(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Fd(t){he.lFrame.currentQueryIndex=t}function R5(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[Ct]:null}function Rd(t,e,n){if(n&4){let o=e,i=t;for(;o=o.parent,o===null&&!(n&1);)if(o=R5(i),o===null||(i=i[ro],o.type&10))break;if(o===null)return!1;e=o,t=i}let r=he.lFrame=B0();return r.currentTNode=e,r.lView=t,!0}function xc(t){let e=B0(),n=t[ae];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function B0(){let t=he.lFrame,e=t===null?null:t.child;return e===null?z0(t):e}function z0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function U0(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Pd=U0;function _c(){let t=U0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function G0(t){return(he.lFrame.contextLView=b0(t,he.lFrame.contextLView))[kt]}function uo(){return he.lFrame.selectedIndex}function Dr(t){he.lFrame.selectedIndex=t}function W0(){let t=he.lFrame;return gc(t.tView,t.selectedIndex)}function $0(){return he.lFrame.currentNamespace}var Z0=!0;function wc(){return Z0}function Cc(t){Z0=t}function Yu(t,e=null,n=null,r){let o=X0(t,e,n,r);return o.resolveInjectorInitializers(),o}function X0(t,e=null,n=null,r,o=new Set){let i=[n||Ht,m0(t)];return r=r||(typeof t=="object"?void 0:vr(t)),new Jr(i,e||ps(),r||null,o)}var Nn=class t{static THROW_IF_NOT_FOUND=Qr;static NULL=new as;static create(e,n){if(Array.isArray(e))return Yu({name:""},n,e,"");{let r=e.name??"";return Yu({name:r},e.parent,e.providers,r)}}static \u0275prov=Ce({token:t,providedIn:"any",factory:()=>De(md)});static __NG_ELEMENT_ID__=-1},on=new ce(""),or=(()=>{class t{static __NG_ELEMENT_ID__=P5;static __NG_ENV_ID__=n=>n}return t})(),ic=class extends or{_lView;constructor(e){super(),this._lView=e}get destroyed(){return co(this._lView)}onDestroy(e){let n=this._lView;return Sd(n,e),()=>I0(n,e)}};function P5(){return new ic(Ne())}var Q0=!1,ri=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new os(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ue(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ju=class extends Tn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,v0()&&(this.destroyRef=re(or,{optional:!0})??void 0,this.pendingTasks=re(ri,{optional:!0})??void 0)}emit(e){let n=se(null);try{super.next(e)}finally{se(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof _t&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},jt=Ju;function sc(...t){}function Vd(t){let e,n;function r(){t=sc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function qd(t){return queueMicrotask(()=>t()),()=>{t=sc}}var jd="isAngularZone",ls=jd+"_ID",V5=0,Bt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new jt(!1);onMicrotaskEmpty=new jt(!1);onStable=new jt(!1);onError=new jt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=Q0}=e;if(typeof Zone>"u")throw new ne(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,H5(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jd)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ne(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ne(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,q5,sc,sc);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},q5={};function Hd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function j5(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Vd(()=>{t.callbackScheduled=!1,ed(t),t.isCheckStableRunning=!0,Hd(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ed(t)}function H5(t){let e=()=>{j5(t)},n=V5++;t._inner=t._inner.fork({name:"angular",properties:{[jd]:!0,[ls]:n,[ls+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(B5(c))return r.invokeTask(i,s,a,c);try{return n0(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),r0(t)}},onInvoke:(r,o,i,s,a,c,l)=>{try{return n0(t),r.invoke(i,s,a,c,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!z5(c)&&e(),r0(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ed(t),Hd(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ed(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function n0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function r0(t){t._nesting--,Hd(t)}var us=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new jt;onMicrotaskEmpty=new jt;onStable=new jt;onError=new jt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}};function B5(t){return K0(t,"__ignore_ng_zone__")}function z5(t){return K0(t,"__scheduler_tick__")}function K0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var On=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ar=new ce("",{factory:()=>{let t=re(Bt),e=re(Jt),n;return r=>{t.runOutsideAngular(()=>{e.destroyed&&!n?setTimeout(()=>{throw r}):(n??=e.get(On),n.handleError(r))})}}}),Y0={provide:Qo,useValue:()=>{let t=re(On,{optional:!0})},multi:!0},U5=new ce("",{factory:()=>{let t=re(on).defaultView;if(!t)return;let e=re(Ar),n=i=>{e(i.reason),i.preventDefault()},r=i=>{i.error?e(i.error):e(new Error(i.message,{cause:i})),i.preventDefault()},o=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(o):o(),re(or).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Bd(){return fc([f0(()=>void re(U5))])}function nt(t,e){let[n,r,o]=Du(t,e?.equal),i=n,s=i[Yt];return i.set=r,i.update=o,i.asReadonly=J0.bind(i),i}function J0(){let t=this[Yt];if(t.readonlyFn===void 0){let e=()=>this();e[Yt]=t,t.readonlyFn=e}return t.readonlyFn}var Ms=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=G5}return t})();function G5(){return new Ms(Ne(),Ut())}var wr=class{},xs=new ce("",{factory:()=>!0});var zd=new ce("");var bc=(()=>{class t{static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new td})}return t})(),td=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},ac=class{[Yt];constructor(e){this[Yt]=e}destroy(){this[Yt].destroy()}};function _s(t,e){let n=e?.injector??re(Nn),r=e?.manualCleanup!==!0?n.get(or):null,o,i=n.get(Ms,null,{optional:!0}),s=n.get(wr);return i!==null?(o=Z5(i.view,s,t),r instanceof ic&&r._lView===i.view&&(r=null)):o=X5(t,n.get(bc),s),o.injector=n,r!==null&&(o.onDestroyFns=[r.onDestroy(()=>o.destroy())]),new ac(o)}var ef=j(T({},Eu),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let t=cs(!1);try{Lu(this)}finally{cs(t)}},cleanup(){if(!this.cleanupFns?.length)return;let t=se(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],se(t)}}}),W5=j(T({},ef),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(qo(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.scheduler.remove(this)}}),$5=j(T({},ef),{consumerMarkedDirty(){this.view[oe]|=8192,lo(this.view),this.notifier.notify(13)},destroy(){if(qo(this),this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();this.cleanup(),this.view[xr]?.delete(this)}});function Z5(t,e,n){let r=Object.create($5);return r.view=t,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=tf(r,n),t[xr]??=new Set,t[xr].add(r),r.consumerMarkedDirty(r),r}function X5(t,e,n){let r=Object.create(W5);return r.fn=tf(r,t),r.scheduler=e,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function tf(t,e){return()=>{e(n=>(t.cleanupFns??=[]).push(n))}}function jn(t){return Tu(t)}function li(t){return{toString:t}.toString()}var Ic="__parameters__";function sM(t){return function(...n){if(t){let r=t(...n);for(let o in r)this[o]=r[o]}}}function aM(t,e,n){return li(()=>{let r=sM(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ic)?c[Ic]:Object.defineProperty(c,Ic,{value:[]})[Ic];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return o.prototype.ngMetadataName=t,o.annotationCls=o,o})}var M1=u0(aM("Optional"),8);function cM(t){return typeof t=="function"}function Af(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Ec=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},ui=(()=>{let t=()=>Tf;return t.ngInherit=!0,t})();function Tf(t){return t.type.prototype.ngOnChanges&&(t.setInput=uM),lM}function lM(){let t=Lf(this),e=t?.current;if(e){let n=t.previous;if(n===Cr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function uM(t,e,n,r,o){let i=this.declaredInputs[r],s=Lf(t)||dM(t,{previous:Cr,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[i];a[i]=new Ec(l&&l.currentValue,n,c===Cr),Af(t,e,o,n)}var Ef="__ngSimpleChanges__";function Lf(t){return t[Ef]||null}function dM(t,e){return t[Ef]=e}var nf=[];var be=function(t,e=null,n){for(let r=0;r<nf.length;r++){let o=nf[r];o(t,e,n)}},me=(function(t){return t[t.TemplateCreateStart=0]="TemplateCreateStart",t[t.TemplateCreateEnd=1]="TemplateCreateEnd",t[t.TemplateUpdateStart=2]="TemplateUpdateStart",t[t.TemplateUpdateEnd=3]="TemplateUpdateEnd",t[t.LifecycleHookStart=4]="LifecycleHookStart",t[t.LifecycleHookEnd=5]="LifecycleHookEnd",t[t.OutputStart=6]="OutputStart",t[t.OutputEnd=7]="OutputEnd",t[t.BootstrapApplicationStart=8]="BootstrapApplicationStart",t[t.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",t[t.BootstrapComponentStart=10]="BootstrapComponentStart",t[t.BootstrapComponentEnd=11]="BootstrapComponentEnd",t[t.ChangeDetectionStart=12]="ChangeDetectionStart",t[t.ChangeDetectionEnd=13]="ChangeDetectionEnd",t[t.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",t[t.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",t[t.AfterRenderHooksStart=16]="AfterRenderHooksStart",t[t.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",t[t.ComponentStart=18]="ComponentStart",t[t.ComponentEnd=19]="ComponentEnd",t[t.DeferBlockStateStart=20]="DeferBlockStateStart",t[t.DeferBlockStateEnd=21]="DeferBlockStateEnd",t[t.DynamicComponentStart=22]="DynamicComponentStart",t[t.DynamicComponentEnd=23]="DynamicComponentEnd",t[t.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",t[t.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",t})(me||{});function hM(t,e,n){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=Tf(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function Nf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Dc(t,e,n){Of(t,e,3,n)}function Ac(t,e,n,r){(t[oe]&3)===n&&Of(t,e,n,r)}function Ud(t,e){let n=t[oe];(n&3)===e&&(n&=16383,n+=1,t[oe]=n)}function Of(t,e,n,r){let o=r!==void 0?t[io]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[io]+=65536),(a<i||i==-1)&&(pM(t,n,e,c),t[io]=(t[io]&4294901760)+c+2),c++}function rf(t,e){be(me.LifecycleHookStart,t,e);let n=se(null);try{e.call(t)}finally{se(n),be(me.LifecycleHookEnd,t,e)}}function pM(t,e,n,r){let o=n[r]<0,i=n[r+1],s=o?-n[r]:n[r],a=t[s];o?t[oe]>>14<t[io]>>16&&(t[oe]&3)===e&&(t[oe]+=16384,rf(a,i)):rf(a,i)}var ii=-1,po=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,o){this.factory=e,this.name=o,this.canSeeViewProviders=n,this.injectImpl=r}};function fM(t){return(t.flags&8)!==0}function mM(t){return(t.flags&16)!==0}function yM(t,e,n){let r=0;for(;r<n.length;){let o=n[r];if(typeof o=="number"){if(o!==0)break;r++;let i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{let i=o,s=n[++r];kM(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function gM(t){return t===3||t===4||t===6}function kM(t){return t.charCodeAt(0)===64}function Is(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?n=o:n===0||(n===-1||n===2?of(t,n,o,null,e[++r]):of(t,n,o,null,null))}}return t}function of(t,e,n,r,o){let i=0,s=t.length;if(e===-1)s=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){o!==null&&(t[i+1]=o);return}i++,o!==null&&i++}s!==-1&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),o!==null&&t.splice(i++,0,o)}function Ff(t){return t!==ii}function Lc(t){return t&32767}function vM(t){return t>>16}function Nc(t,e){let n=vM(t),r=e;for(;n>0;)r=r[ro],n--;return r}var t1=!0;function Oc(t){let e=t1;return t1=t,e}var MM=256,Rf=MM-1,Pf=5,xM=0,Hn={};function _M(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(to)&&(r=n[to]),r==null&&(r=n[to]=xM++);let o=r&Rf,i=1<<o;e.data[t+(o>>Pf)]|=i}function Fc(t,e){let n=Vf(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Gd(r.data,t),Gd(e,null),Gd(r.blueprint,null));let o=x1(t,e),i=t.injectorIndex;if(Ff(o)){let s=Lc(o),a=Nc(o,e),c=a[ae].data;for(let l=0;l<8;l++)e[i+l]=a[s+l]|c[s+l]}return e[i+8]=o,i}function Gd(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Vf(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function x1(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;o!==null;){if(r=zf(o),r===null)return ii;if(n++,o=o[ro],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ii}function n1(t,e,n){_M(t,e,n)}function qf(t,e,n){if(n&8||t!==void 0)return t;dc(e,"NodeInjector")}function jf(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let o=t[br],i=wt(void 0);try{return o?o.get(e,r,n&8):pd(e,r,n&8)}finally{wt(i)}}return qf(r,e,n)}function Hf(t,e,n,r=0,o){if(t!==null){if(e[oe]&2048&&!(r&2)){let s=SM(t,e,n,r,Hn);if(s!==Hn)return s}let i=Bf(t,e,n,r,Hn);if(i!==Hn)return i}return jf(e,n,r,o)}function Bf(t,e,n,r,o){let i=bM(n);if(typeof i=="function"){if(!Rd(e,t,r))return r&1?qf(o,n,r):jf(e,n,r,o);try{let s;if(s=i(r),s==null&&!(r&8))dc(n);else return s}finally{Pd()}}else if(typeof i=="number"){let s=null,a=Vf(t,e),c=ii,l=r&1?e[Et][Ct]:null;for((a===-1||r&4)&&(c=a===-1?x1(t,e):e[a+8],c===ii||!af(r,!1)?a=-1:(s=e[ae],a=Lc(c),e=Nc(c,e)));a!==-1;){let u=e[ae];if(sf(i,a,u.data)){let d=wM(a,e,n,s,r,l);if(d!==Hn)return d}c=e[a+8],c!==ii&&af(r,e[ae].data[a+8]===l)&&sf(i,a,e)?(s=u,a=Lc(c),e=Nc(c,e)):a=-1}}return o}function wM(t,e,n,r,o,i){let s=e[ae],a=s.data[t+8],c=r==null?Sr(a)&&t1:r!=s&&(a.type&3)!==0,l=o&1&&i===a,u=CM(a,s,n,c,l);return u!==null?Rc(e,s,u,a,o):Hn}function CM(t,e,n,r,o){let i=t.providerIndexes,s=e.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,u=i>>20,d=r?a:a+u,p=o?a+u:l;for(let h=d;h<p;h++){let m=s[h];if(h<c&&n===m||h>=c&&m.type===n)return h}if(o){let h=s[c];if(h&&Vn(h)&&h.type===n)return c}return null}function Rc(t,e,n,r,o){let i=t[n],s=e.data;if(i instanceof po){let a=i;if(a.resolving){let h=s0(s[n]);throw hd(h)}let c=Oc(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],u,d=a.injectImpl?wt(a.injectImpl):null,p=Rd(t,r,0);try{i=t[n]=a.factory(void 0,o,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&hM(n,s[n],e)}finally{d!==null&&wt(d),Oc(c),a.resolving=!1,Pd()}}return i}function bM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(to)?t[to]:void 0;return typeof e=="number"?e>=0?e&Rf:IM:e}function sf(t,e,n){let r=1<<t;return!!(n[e+(t>>Pf)]&r)}function af(t,e){return!(t&2)&&!(t&1&&e)}var ho=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Hf(this._tNode,this._lView,e,Kr(r),n)}};function IM(){return new ho(Ut(),Ne())}function di(t){return li(()=>{let e=t.prototype.constructor,n=e[ss]||r1(e),r=Object.prototype,o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){let i=o[ss]||r1(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function r1(t){return od(t)?()=>{let e=r1(ht(t));return e&&e()}:Mr(t)}function SM(t,e,n,r,o){let i=t,s=e;for(;i!==null&&s!==null&&s[oe]&2048&&!ei(s);){let a=Bf(i,s,n,r|2,Hn);if(a!==Hn)return a;let c=i.parent;if(!c){let l=s[xd];if(l){let u=l.get(n,Hn,r);if(u!==Hn)return u}c=zf(s),s=s[ro]}i=c}return o}function zf(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[Ct]:null}function DM(){return Hc(Ut(),Ne())}function Hc(t,e){return new zn(qn(t,e))}var zn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=DM}return t})();function Uf(t){return(t.flags&128)===128}var _1=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(_1||{}),Gf=new Map,AM=0;function TM(){return AM++}function EM(t){Gf.set(t[fs],t)}function o1(t){Gf.delete(t[fs])}var cf="__ngContext__";function si(t,e){Pn(e)?(t[cf]=e[fs],EM(e)):t[cf]=e}function Wf(t){return Zf(t[Jo])}function $f(t){return Zf(t[en])}function Zf(t){for(;t!==null&&!yn(t);)t=t[en];return t}var LM;function w1(t){LM=t}var Bc=new ce("",{factory:()=>NM}),NM="ng";var zc=new ce(""),Ns=new ce("",{providedIn:"platform",factory:()=>"unknown"});var Uc=new ce("",{factory:()=>re(on).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Xf=!1,Qf=new ce("",{factory:()=>Xf});var OM=(t,e,n,r)=>{};function FM(t,e,n,r){OM(t,e,n,r)}function Gc(t){return(t.flags&32)===32}var RM=()=>null;function Kf(t,e,n=!1){return RM(t,e,n)}function Yf(t,e){let n=t.contentQueries;if(n!==null){let r=se(null);try{for(let o=0;o<n.length;o+=2){let i=n[o],s=n[o+1];if(s!==-1){let a=t.data[s];Fd(i),a.contentQueries(2,e[s],s)}}}finally{se(r)}}}function i1(t,e,n){Fd(0);let r=se(null);try{e(t,n)}finally{se(r)}}function Jf(t,e,n){if(_d(e)){let r=se(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{se(r)}}}var kn=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t[t.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",t})(kn||{});var s1=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nd})`}};function e2(t){return t instanceof s1?t.changingThisBreaksApplicationSecurity:t}function PM(t,e){return t.createText(e)}function VM(t,e,n){t.setValue(e,n)}function t2(t,e,n){return t.createElement(e,n)}function Pc(t,e,n,r,o){t.insertBefore(e,n,r,o)}function n2(t,e,n){t.appendChild(e,n)}function lf(t,e,n,r,o){r!==null?Pc(t,e,n,r,o):n2(t,e,n)}function qM(t,e,n,r){t.removeChild(null,e,n,r)}function jM(t,e,n){t.setAttribute(e,"style",n)}function HM(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function r2(t,e,n){let{mergedAttrs:r,classes:o,styles:i}=n;r!==null&&yM(t,e,r),o!==null&&HM(t,e,o),i!==null&&jM(t,e,i)}function BM(t,e,n){let r=t.length;for(;;){let o=t.indexOf(e,n);if(o===-1)return o;if(o===0||t.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}var o2="ng-template";function zM(t,e,n,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&BM(e[o+1].toLowerCase(),n,0)!==-1)return!0}else if(C1(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===n)return!0}return!1}function C1(t){return t.type===4&&t.value!==o2}function UM(t,e,n){let r=t.type===4&&!n?o2:t.value;return e===r}function GM(t,e,n){let r=4,o=t.attrs,i=o!==null?ZM(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!gn(r)&&!gn(c))return!1;if(s&&gn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!UM(t,c,n)||c===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(o===null||!zM(t,o,c,n)){if(gn(r))return!1;s=!0}}else{let l=e[++a],u=WM(c,o,C1(t),n);if(u===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let d;if(u>i?d="":d=o[u+1].toLowerCase(),r&2&&l!==d){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(t){return(t&1)===0}function WM(t,e,n,r){if(e===null)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){let s=e[o];if(s===t)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return XM(e,t)}function i2(t,e,n=!1){for(let r=0;r<e.length;r++)if(GM(t,e[r],n))return!0;return!1}function $M(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function ZM(t){for(let e=0;e<t.length;e++){let n=t[e];if(gM(n))return e}return t.length}function XM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function QM(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let o=0;o<t.length;o++)if(t[o]!==r[o])continue e;return!0}}return!1}function uf(t,e){return t?":not("+e.trim()+")":e}function KM(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!gn(s)&&(e+=uf(i,o),o=""),r=s,i=i||!gn(r);n++}return o!==""&&(e+=uf(i,o)),e}function YM(t){return t.map(KM).join(",")}function JM(t){let e=[],n=[],r=1,o=2;for(;r<t.length;){let i=t[r];if(typeof i=="string")o===2?i!==""&&e.push(i,t[++r]):o===8&&n.push(i);else{if(!gn(o))break;o=i}r++}return n.length&&e.push(1,...n),e}var ir={};function b1(t,e,n,r,o,i,s,a,c,l,u){let d=at+r,p=d+o,h=e3(d,p),m=typeof l=="function"?l():l;return h[ae]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}function e3(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ir);return n}function t3(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=b1(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function I1(t,e,n,r,o,i,s,a,c,l,u){let d=e.blueprint.slice();return d[mn]=o,d[oe]=r|4|128|8|64|1024,(l!==null||t&&t[oe]&2048)&&(d[oe]|=2048),bd(d),d[pt]=d[ro]=t,d[kt]=n,d[rr]=s||t&&t[rr],d[Ke]=a||t&&t[Ke],d[br]=c||t&&t[br]||null,d[Ct]=i,d[fs]=TM(),d[Ko]=u,d[xd]=l,d[Et]=e.type==2?t[Et]:d,d}function n3(t,e,n){let r=qn(e,t),o=t3(n),i=t[rr].rendererFactory,s=S1(t,I1(t,o,null,s2(n),r,e,null,i.createRenderer(r,n),null,null,null));return t[e.index]=s}function s2(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function a2(t,e,n,r){if(n===0)return-1;let o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function S1(t,e){return t[Jo]?t[Md][en]=e:t[Jo]=e,t[Md]=e,e}function xe(t=1){c2(rn(),Ne(),uo()+t,!1)}function c2(t,e,n,r){if(!r)if((e[oe]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Dc(e,i,n)}else{let i=t.preOrderHooks;i!==null&&Ac(e,i,0,n)}Dr(n)}var Wc=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Wc||{});function a1(t,e,n,r){let o=se(null);try{let[i,s,a]=t.inputs[n],c=null;(s&Wc.SignalBased)!==0&&(c=e[i][Yt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,c,r,n,i):Af(e,c,i,r)}finally{se(o)}}var Bn=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Bn||{}),r3;function D1(t,e){return r3(t,e)}var ai=new Set,$c=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})($c||{}),yo=new ce(""),df=new Set;function A1(t){df.has(t)||(df.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var T1=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t})}return t})(),l2=[0,1,2,3],u2=(()=>{class t{ngZone=re(Bt);scheduler=re(wr);errorHandler=re(On,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){re(yo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&be(me.AfterRenderHooksStart),this.executing=!0;for(let r of l2)for(let o of this.sequences)if(!(o.erroredOrDestroyed||!o.hooks[r]))try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let i=o.hooks[r];return i(o.pipelinedValue)},o.snapshot))}catch(i){o.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&be(me.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[ao]??=[]).push(n),lo(r),r[oe]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run($c.AFTER_NEXT_RENDER,n):n()}static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t})}return t})(),Vc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,o,i,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=o,this.snapshot=s,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ao];e&&(this.view[ao]=e.filter(n=>n!==this))}};function E1(t,e){let n=e?.injector??re(Nn);return A1("NgAfterNextRender"),i3(t,n,e,!0)}function o3(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function i3(t,e,n,r){let o=e.get(T1);o.impl??=e.get(u2);let i=e.get(yo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(or):null,a=e.get(Ms,null,{optional:!0}),c=new Vc(o.impl,o3(t),a?.view,r,s,i?.snapshot(null));return o.impl.register(c),c}var s3=new ce("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:re(Jt)})});function d2(t,e,n){let r=t.get(s3);if(Array.isArray(e))for(let o of e)r.queue.add(o),n?.detachedLeaveAnimationFns?.push(o);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function a3(t,e){for(let[n,r]of e)d2(t,r.animateFns)}function hf(t,e,n,r){let o=t?.[ms]?.enter;e!==null&&o&&o.has(n.index)&&a3(r,o)}function oi(t,e,n,r,o,i,s,a){if(o!=null){let c,l=!1;yn(o)?c=o:Pn(o)&&(l=!0,o=o[mn]);let u=tn(o);t===0&&r!==null?(hf(a,r,i,n),s==null?n2(e,r,u):Pc(e,r,u,s||null,!0)):t===1&&r!==null?(hf(a,r,i,n),Pc(e,r,u,s||null,!0)):t===2?pf(a,i,n,d=>{qM(e,u,l,d)}):t===3&&pf(a,i,n,()=>{e.destroyNode(u)}),c!=null&&k3(e,t,n,c,i,r,s)}}function c3(t,e){h2(t,e),e[mn]=null,e[Ct]=null}function l3(t,e,n,r,o,i){r[mn]=o,r[Ct]=e,Zc(t,r,n,1,o,i)}function h2(t,e){e[rr].changeDetectionScheduler?.notify(9),Zc(t,e,e[Ke],2,null,null)}function u3(t){let e=t[Jo];if(!e)return Wd(t[ae],t);for(;e;){let n=null;if(Pn(e))n=e[Jo];else{let r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[en]&&e!==t;)Pn(e)&&Wd(e[ae],e),e=e[pt];e===null&&(e=t),Pn(e)&&Wd(e[ae],e),n=e&&e[en]}e=n}}function L1(t,e){let n=t[gs],r=n.indexOf(e);n.splice(r,1)}function p2(t,e){if(co(e))return;let n=e[Ke];n.destroyNode&&Zc(t,e,n,3,null,null),u3(e)}function Wd(t,e){if(co(e))return;let n=se(null);try{e[oe]&=-129,e[oe]|=256,e[zt]&&qo(e[zt]),p3(t,e),h3(t,e),e[ae].type===1&&e[Ke].destroy();let r=e[oo];if(r!==null&&yn(e[pt])){r!==e[pt]&&L1(r,e);let o=e[so];o!==null&&o.detachView(t)}o1(e)}finally{se(n)}}function pf(t,e,n,r){let o=t?.[ms];if(o==null||o.leave==null||!o.leave.has(e.index))return r(!1);t&&ai.add(t),d2(n,()=>{if(o.leave&&o.leave.has(e.index)){let s=o.leave.get(e.index),a=[];if(s){for(let c=0;c<s.animateFns.length;c++){let l=s.animateFns[c],{promise:u}=l();a.push(u)}o.detachedLeaveAnimationFns=void 0}o.running=Promise.allSettled(a),d3(t,r)}else t&&ai.delete(t),r(!1)},o)}function d3(t,e){let n=t[ms]?.running;if(n){n.then(()=>{t[ms].running=void 0,ai.delete(t),e(!0)});return}e(!1)}function h3(t,e){let n=t.cleanup,r=e[Yo];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Yo]=null);let o=e[nr];if(o!==null){e[nr]=null;for(let s=0;s<o.length;s++){let a=o[s];a()}}let i=e[xr];if(i!==null){e[xr]=null;for(let s of i)s.destroy()}}function p3(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let o=e[n[r]];if(!(o instanceof po)){let i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];be(me.LifecycleHookStart,a,c);try{c.call(a)}finally{be(me.LifecycleHookEnd,a,c)}}else{be(me.LifecycleHookStart,o,i);try{i.call(o)}finally{be(me.LifecycleHookEnd,o,i)}}}}}function f2(t,e,n){return f3(t,e.parent,n)}function f3(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[mn];if(Sr(r)){let{encapsulation:o}=t.data[r.directiveStart+r.componentOffset];if(o===kn.None||o===kn.Emulated)return null}return qn(r,n)}function m2(t,e,n){return y3(t,e,n)}function m3(t,e,n){return t.type&40?qn(t,n):null}var y3=m3,ff;function N1(t,e,n,r){let o=f2(t,r,e),i=e[Ke],s=r.parent||e[Ct],a=m2(s,r,e);if(o!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)lf(i,o,n[c],a,!1);else lf(i,o,n,a,!1);ff!==void 0&&ff(i,r,e,n,o)}function Cs(t,e){if(e!==null){let n=e.type;if(n&3)return qn(e,t);if(n&4)return c1(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Cs(t,r);{let o=t[e.index];return yn(o)?c1(-1,o):tn(o)}}else{if(n&128)return Cs(t,e.next);if(n&32)return D1(e,t)()||tn(t[e.index]);{let r=y2(t,e);if(r!==null){if(Array.isArray(r))return r[0];let o=_r(t[Et]);return Cs(o,r)}else return Cs(t,e.next)}}}return null}function y2(t,e){if(e!==null){let r=t[Et][Ct],o=e.projection;return r.projection[o]}return null}function c1(t,e){let n=Lt+t+1;if(n<e.length){let r=e[n],o=r[ae].firstChild;if(o!==null)return Cs(r,o)}return e[Ir]}function O1(t,e,n,r,o,i,s){for(;n!=null;){let a=r[br];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(s&&e===0&&(c&&si(tn(c),r),n.flags|=2),!Gc(n))if(l&8)O1(t,e,n.child,r,o,i,!1),oi(e,t,a,o,c,n,i,r);else if(l&32){let u=D1(n,r),d;for(;d=u();)oi(e,t,a,o,d,n,i,r);oi(e,t,a,o,c,n,i,r)}else l&16?g2(t,e,r,n,o,i):oi(e,t,a,o,c,n,i,r);n=s?n.projectionNext:n.next}}function Zc(t,e,n,r,o,i){O1(n,r,t.firstChild,e,o,i,!1)}function g3(t,e,n){let r=e[Ke],o=f2(t,n,e),i=n.parent||e[Ct],s=m2(i,n,e);g2(r,0,e,n,o,s)}function g2(t,e,n,r,o,i){let s=n[Et],c=s[Ct].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];oi(e,t,n[br],o,u,r,i,n)}else{let l=c,u=s[pt];Uf(r)&&(l.flags|=128),O1(t,e,l,u,o,i,!0)}}function k3(t,e,n,r,o,i,s){let a=r[Ir],c=tn(r);a!==c&&oi(e,t,n,i,a,o,s);for(let l=Lt;l<r.length;l++){let u=r[l];Zc(u[ae],u,t,e,i,a)}}function v3(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=r.indexOf("-")===-1?void 0:Bn.DashCase;o==null?t.removeStyle(n,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Bn.Important),t.setStyle(n,r,o,i))}}function k2(t,e,n,r,o){let i=uo(),s=r&2;try{Dr(-1),s&&e.length>at&&c2(t,e,at,!1);let a=s?me.TemplateUpdateStart:me.TemplateCreateStart;be(a,o,n),n(r,o)}finally{Dr(i);let a=s?me.TemplateUpdateEnd:me.TemplateCreateEnd;be(a,o,n)}}function F1(t,e,n){S3(t,e,n),(n.flags&64)===64&&D3(t,e,n)}function R1(t,e,n=qn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?n(e,t):t[s];t[o++]=a}}}function M3(t,e,n,r){let i=r.get(Qf,Xf)||n===kn.ShadowDom||n===kn.ExperimentalIsolatedShadowDom,s=t.selectRootElement(e,i);return x3(s),s}function x3(t){_3(t)}var _3=()=>null;function w3(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function C3(t,e,n,r,o,i){let s=e[ae];if(P1(t,s,e,n,r)){Sr(t)&&I3(e,t.index);return}t.type&3&&(n=w3(n)),b3(t,e,n,r,o,i)}function b3(t,e,n,r,o,i){if(t.type&3){let s=qn(t,e);r=i!=null?i(r,t.value||"",n):r,o.setProperty(s,n,r)}else t.type&12}function I3(t,e){let n=nn(e,t);n[oe]&16||(n[oe]|=64)}function S3(t,e,n){let r=n.directiveStart,o=n.directiveEnd;Sr(n)&&n3(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Fc(n,e);let i=n.initialInputs;for(let s=r;s<o;s++){let a=t.data[s],c=Rc(e,t,s,n);if(si(c,e),i!==null&&T3(e,s-r,c,a,n,i),Vn(a)){let l=nn(n.index,e);l[kt]=Rc(e,t,s,n)}}}function D3(t,e,n){let r=n.directiveStart,o=n.directiveEnd,i=n.index,s=j0();try{Dr(i);for(let a=r;a<o;a++){let c=t.data[a],l=e[a];Mc(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&A3(c,l)}}finally{Dr(-1),Mc(s)}}function A3(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function v2(t,e){let n=t.directiveRegistry,r=null;if(n)for(let o=0;o<n.length;o++){let i=n[o];i2(e,i.selectors,!1)&&(r??=[],Vn(i)?r.unshift(i):r.push(i))}return r}function T3(t,e,n,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],l=s[a+1];a1(r,n,c,l)}}function E3(t,e,n,r,o){let i=at+n,s=e[ae],a=o(s,e,t,r,n);e[i]=a,ni(t,!0);let c=t.type===2;return c?(r2(e[Ke],a,t),(A0()===0||ks(t))&&si(a,e),T0()):si(a,e),wc()&&(!c||!Gc(t))&&N1(s,e,a,t),t}function L3(t){let e=t;return Ed()?Ld():(e=e.parent,ni(e,!1)),e}function N3(t,e){let n=t[br];if(!n)return;let r;try{r=n.get(Ar,null)}catch{r=null}r?.(e)}function P1(t,e,n,r,o){let i=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let l=s[c],u=s[c+1],d=e.data[l];a1(d,n[l],u,o),a=!0}if(i)for(let c of i){let l=n[c],u=e.data[c];a1(u,l,r,o),a=!0}return a}function O3(t,e){let n=nn(e,t),r=n[ae];F3(r,n);let o=n[mn];o!==null&&n[Ko]===null&&(n[Ko]=Kf(o,n[br])),be(me.ComponentStart);try{V1(r,n,n[kt])}finally{be(me.ComponentEnd,n[kt])}}function F3(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function V1(t,e,n){xc(e);try{let r=t.viewQuery;r!==null&&i1(1,r,n);let o=t.template;o!==null&&k2(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[so]?.finishViewCreation(t),t.staticContentQueries&&Yf(t,e),t.staticViewQueries&&i1(2,t.viewQuery,n);let i=t.components;i!==null&&R3(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[oe]&=-5,_c()}}function R3(t,e){for(let n=0;n<e.length;n++)O3(t,e[n])}function M2(t,e,n,r){let o=se(null);try{let i=e.tView,a=t[oe]&4096?4096:16,c=I1(t,i,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[oo]=l;let u=t[so];return u!==null&&(c[so]=u.createEmbeddedView(i)),V1(i,c,n),c}finally{se(o)}}function l1(t,e){return!e||e.firstChild===null||Uf(t)}function Ss(t,e,n,r,o=!1){for(;n!==null;){if(n.type===128){n=o?n.projectionNext:n.next;continue}let i=e[n.index];i!==null&&r.push(tn(i)),yn(i)&&x2(i,r);let s=n.type;if(s&8)Ss(t,e,n.child,r);else if(s&32){let a=D1(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=y2(e,n);if(Array.isArray(a))r.push(...a);else{let c=_r(e[Et]);Ss(c[ae],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function x2(t,e){for(let n=Lt;n<t.length;n++){let r=t[n],o=r[ae].firstChild;o!==null&&Ss(r[ae],r,o,e)}t[Ir]!==t[mn]&&e.push(t[Ir])}function _2(t){if(t[ao]!==null){for(let e of t[ao])e.impl.addSequence(e);t[ao].length=0}}var w2=[];function P3(t){return t[zt]??V3(t)}function V3(t){let e=w2.pop()??Object.create(j3);return e.lView=t,e}function q3(t){t.lView[zt]!==t&&(t.lView=null,w2.push(t))}var j3=j(T({},Vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{lo(t.lView)},consumerOnSignalRead(){this.lView[zt]=this}});function H3(t){let e=t[zt]??Object.create(B3);return e.lView=t,e}var B3=j(T({},Vo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=_r(t.lView);for(;e&&!C2(e[ae]);)e=_r(e);e&&Id(e)},consumerOnSignalRead(){this.lView[zt]=this}});function C2(t){return t.type!==2}function b2(t){if(t[xr]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[xr])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[oe]&8192)}}var z3=100;function I2(t,e=0){let r=t[rr].rendererFactory,o=!1;o||r.begin?.();try{U3(t,e)}finally{o||r.end?.()}}function U3(t,e){let n=Nd();try{cs(!0),u1(t,e);let r=0;for(;vs(t);){if(r===z3)throw new ne(103,!1);r++,u1(t,1)}}finally{cs(n)}}function G3(t,e,n,r){if(co(e))return;let o=e[oe],i=!1,s=!1;xc(e);let a=!0,c=null,l=null;i||(C2(t)?(l=P3(e),c=ns(l)):Na()===null?(a=!1,l=H3(e),c=ns(l)):e[zt]&&(qo(e[zt]),e[zt]=null));try{bd(e),R0(t.bindingStartIndex),n!==null&&k2(t,e,n,2,r);let u=(o&3)===3;if(!i)if(u){let h=t.preOrderCheckHooks;h!==null&&Dc(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Ac(e,h,0,null),Ud(e,0)}if(s||W3(e),b2(e),S2(e,0),t.contentQueries!==null&&Yf(t,e),!i)if(u){let h=t.contentCheckHooks;h!==null&&Dc(e,h)}else{let h=t.contentHooks;h!==null&&Ac(e,h,1),Ud(e,1)}Z3(t,e);let d=t.components;d!==null&&A2(e,d,0);let p=t.viewQuery;if(p!==null&&i1(2,p,r),!i)if(u){let h=t.viewCheckHooks;h!==null&&Dc(e,h)}else{let h=t.viewHooks;h!==null&&Ac(e,h,2),Ud(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[yc]){for(let h of e[yc])h();e[yc]=null}i||(_2(e),e[oe]&=-73)}catch(u){throw i||lo(e),u}finally{l!==null&&(Oa(l,c),a&&q3(l)),_c()}}function S2(t,e){for(let n=Wf(t);n!==null;n=$f(n))for(let r=Lt;r<n.length;r++){let o=n[r];D2(o,e)}}function W3(t){for(let e=Wf(t);e!==null;e=$f(e)){if(!(e[oe]&2))continue;let n=e[gs];for(let r=0;r<n.length;r++){let o=n[r];Id(o)}}}function $3(t,e,n){be(me.ComponentStart);let r=nn(e,t);try{D2(r,n)}finally{be(me.ComponentEnd,r[kt])}}function D2(t,e){kc(t)&&u1(t,e)}function u1(t,e){let r=t[ae],o=t[oe],i=t[zt],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Fa(i)),s||=!1,i&&(i.dirty=!1),t[oe]&=-9217,s)G3(r,t,r.template,t[kt]);else if(o&8192){let a=se(null);try{b2(t),S2(t,1);let c=r.components;c!==null&&A2(t,c,1),_2(t)}finally{se(a)}}}function A2(t,e,n){for(let r=0;r<e.length;r++)$3(t,e[r],n)}function Z3(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let o=n[r];if(o<0)Dr(~o);else{let i=o,s=n[++r],a=n[++r];q0(s,i);let c=e[i];be(me.HostBindingsUpdateStart,c);try{a(2,c)}finally{be(me.HostBindingsUpdateEnd,c)}}}}finally{Dr(-1)}}function q1(t,e){let n=Nd()?64:1088;for(t[rr].changeDetectionScheduler?.notify(e);t;){t[oe]|=n;let r=_r(t);if(ei(t)&&!r)return t;t=r}return null}function T2(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function E2(t,e,n,r=!0){let o=e[ae];if(X3(o,e,t,n),r){let s=c1(n,t),a=e[Ke],c=a.parentNode(t[Ir]);c!==null&&l3(o,t[Ct],a,e,c,s)}let i=e[Ko];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function d1(t,e){if(t.length<=Lt)return;let n=Lt+e,r=t[n];if(r){let o=r[oo];o!==null&&o!==t&&L1(o,r),e>0&&(t[n-1][en]=r[en]);let i=ds(t,Lt+e);c3(r[ae],r);let s=i[so];s!==null&&s.detachView(i[ae]),r[pt]=null,r[en]=null,r[oe]&=-129}return r}function X3(t,e,n,r){let o=Lt+r,i=n.length;r>0&&(n[o-1][en]=e),r<i-Lt?(e[en]=n[o],fd(n,Lt+r,e)):(n.push(e),e[en]=null),e[pt]=n;let s=e[oo];s!==null&&n!==s&&L2(s,e);let a=e[so];a!==null&&a.insertView(t),vc(e),e[oe]|=128}function L2(t,e){let n=t[gs],r=e[pt];if(Pn(r))t[oe]|=2;else{let o=r[pt][Et];e[Et]!==o&&(t[oe]|=2)}n===null?t[gs]=[e]:n.push(e)}var Tr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[ae];return Ss(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[kt]}set context(e){this._lView[kt]=e}get destroyed(){return co(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[pt];if(yn(e)){let n=e[ys],r=n?n.indexOf(this):-1;r>-1&&(d1(e,r),ds(n,r))}this._attachedToViewContainer=!1}p2(this._lView[ae],this._lView)}onDestroy(e){Sd(this._lView,e)}markForCheck(){q1(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[oe]&=-129}reattach(){vc(this._lView),this._lView[oe]|=128}detectChanges(){this._lView[oe]|=1024,I2(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ne(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ei(this._lView),n=this._lView[oo];n!==null&&!e&&L1(n,this._lView),h2(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ne(902,!1);this._appRef=e;let n=ei(this._lView),r=this._lView[oo];r!==null&&!n&&L2(r,this._lView),vc(this._lView)}};var Os=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Q3;constructor(n,r,o){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){let i=M2(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new Tr(i)}}return t})();function Q3(){return K3(Ut(),Ne())}function K3(t,e){return t.type&4?new Os(e,t,Hc(t,e)):null}function Fs(t,e,n,r,o){let i=t.data[e];if(i===null)i=Y3(t,e,n,r,o),V0()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=r,i.attrs=o;let s=O0();i.injectorIndex=s===null?-1:s.injectorIndex}return ni(i,!0),i}function Y3(t,e,n,r,o){let i=Td(),s=Ed(),a=s?i:i&&i.parent,c=t.data[e]=ex(t,a,n,e,r,o);return J3(t,c,i,s),c}function J3(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function ex(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Ad()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var tx=()=>null;function h1(t,e){return tx(t,e)}var N2=class{},Xc=class{},p1=class{resolveComponentFactory(e){throw new ne(917,!1)}},Qc=class{static NULL=new p1},fo=class{},sr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>nx()}return t})();function nx(){let t=Ne(),e=Ut(),n=nn(e.index,t);return(Pn(n)?n:t)[Ke]}var O2=(()=>{class t{static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>null})}return t})();var Tc={},f1=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let o=this.injector.get(e,Tc,r);return o!==Tc||n===Tc?o:this.parentInjector.get(e,n,r)}};function mf(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=rd(o,a);else if(i==2){let c=a,l=e[++s];r=rd(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}function pe(t,e=0){let n=Ne();if(n===null)return De(t,e);let r=Ut();return Hf(r,n,ht(t),e)}function F2(t,e,n,r,o){let i=r===null?null:{"":-1},s=o(t,n);if(s!==null){let a=s,c=null,l=null;for(let u of s)if(u.resolveHostDirectives!==null){[a,c,l]=u.resolveHostDirectives(s);break}ix(t,e,n,a,i,c,l)}i!==null&&r!==null&&rx(n,r,i)}function rx(t,e,n){let r=t.localNames=[];for(let o=0;o<e.length;o+=2){let i=n[e[o+1]];if(i==null)throw new ne(-301,!1);r.push(e[o],i)}}function ox(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ix(t,e,n,r,o,i,s){let a=r.length,c=null;for(let p=0;p<a;p++){let h=r[p];c===null&&Vn(h)&&(c=h,ox(t,n,p)),n1(Fc(n,e),t,h.type)}dx(n,t.data.length,a),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<a;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,u=!1,d=a2(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let p=0;p<a;p++){let h=r[p];if(n.mergedAttrs=Is(n.mergedAttrs,h.hostAttrs),ax(t,n,e,d,h),ux(d,h,o),s!==null&&s.has(h)){let[k,v]=s.get(h);n.directiveToIndex.set(h.type,[d,k+n.directiveStart,v+n.directiveStart])}else(i===null||!i.has(h))&&n.directiveToIndex.set(h.type,d);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let m=h.type.prototype;!l&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),u=!0),d++}sx(t,n,i)}function sx(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let o=t.data[r];if(n===null||!n.has(o))yf(0,e,o,r),yf(1,e,o,r),kf(e,r,!1);else{let i=n.get(o);gf(0,e,i,r),gf(1,e,i,r),kf(e,r,!0)}}}function yf(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[i]??=[],s[i].push(r),R2(e,i)}}function gf(t,e,n,r){let o=t===0?n.inputs:n.outputs;for(let i in o)if(o.hasOwnProperty(i)){let s=o[i],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,i),R2(e,s)}}function R2(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function kf(t,e,n){let{attrs:r,inputs:o,hostDirectiveInputs:i}=t;if(r===null||!n&&o===null||n&&i===null||C1(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!n&&o.hasOwnProperty(c)){let l=o[c];for(let u of l)if(u===e){s??=[],s.push(c,r[a+1]);break}}else if(n&&i.hasOwnProperty(c)){let l=i[c];for(let u=0;u<l.length;u+=2)if(l[u]===e){s??=[],s.push(l[u+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function ax(t,e,n,r,o){t.data[r]=o;let i=o.factory||(o.factory=Mr(o.type,!0)),s=new po(i,Vn(o),pe,null);t.blueprint[r]=s,n[r]=s,cx(t,e,r,a2(t,n,o.hostVars,ir),o)}function cx(t,e,n,r,o){let i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;lx(s)!=a&&s.push(a),s.push(n,r,i)}}function lx(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ux(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Vn(e)&&(n[""]=t)}}function dx(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function P2(t,e,n,r,o,i,s,a){let c=e[ae],l=c.consts,u=ti(l,s),d=Fs(c,t,n,r,u);return i&&F2(c,e,d,ti(l,a),o),d.mergedAttrs=Is(d.mergedAttrs,d.attrs),d.attrs!==null&&mf(d,d.attrs,!1),d.mergedAttrs!==null&&mf(d,d.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,d),d}function V2(t,e){Nf(t,e),_d(e)&&t.queries.elementEnd(e)}function j1(t){return j2(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function q2(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function j2(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function hx(t,e,n){return t[e]=n}function Ds(t,e,n){if(n===ir)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function px(t,e,n,r){let o=Ds(t,e,n);return Ds(t,e+1,r)||o}function $d(t,e,n){return function r(o){let i=Sr(t)?nn(t.index,e):e;q1(i,5);let s=e[kt],a=vf(e,s,n,o),c=r.__ngNextListenerFn__;for(;c;)a=vf(e,s,c,o)&&a,c=c.__ngNextListenerFn__;return a}}function vf(t,e,n,r){let o=se(null);try{return be(me.OutputStart,e,n),n(r)!==!1}catch(i){return N3(t,i),!1}finally{be(me.OutputEnd,e,n),se(o)}}function fx(t,e,n,r,o,i,s,a){let c=ks(t),l=!1,u=null;if(!r&&c&&(u=yx(e,n,i,t.index)),u!==null){let d=u.__ngLastListenerFn__||u;d.__ngNextListenerFn__=s,u.__ngLastListenerFn__=s,l=!0}else{let d=qn(t,n),p=r?r(d):d;FM(n,p,i,a);let h=o.listen(p,i,a);if(!mx(i)){let m=r?k=>r(tn(k[t.index])):t.index;H2(m,e,n,i,a,h,!1)}}return l}function mx(t){return t.startsWith("animation")||t.startsWith("transition")}function yx(t,e,n,r){let o=t.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===n&&o[i+1]===r){let a=e[Yo],c=o[i+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function H2(t,e,n,r,o,i,s){let a=e.firstCreatePass?D0(e):null,c=S0(n),l=c.length;c.push(o,i),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function Mf(t,e,n,r,o,i){let s=e[n],a=e[ae],l=a.data[n].outputs[r],d=s[l].subscribe(i);H2(t.index,a,e,o,i,d,!0)}var m1=Symbol("BINDING");var y1=class extends Qc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=no(e);return new As(n,this.ngModule)}};function gx(t){return Object.keys(t).map(e=>{let[n,r,o]=t[e],i={propName:n,templateName:e,isSignal:(r&Wc.SignalBased)!==0};return o&&(i.transform=o),i})}function kx(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function vx(t,e,n){let r=e instanceof Jt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new f1(n,r):n}function Mx(t){let e=t.get(fo,null);if(e===null)throw new ne(407,!1);let n=t.get(O2,null),r=t.get(wr,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function xx(t,e){let n=B2(t);return t2(e,n,n==="svg"?x0:n==="math"?_0:null)}function B2(t){return(t.selectors[0][0]||"div").toLowerCase()}var As=class extends Xc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gx(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=kx(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=YM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,o,i,s){be(me.DynamicComponentStart);let a=se(null);try{let c=this.componentDef,l=_x(r,c,s,i),u=vx(c,o||this.ngModule,e),d=Mx(u),p=d.rendererFactory.createRenderer(null,c),h=r?M3(p,r,c.encapsulation,u):xx(c,p),m=s?.some(xf)||i?.some(_=>typeof _!="function"&&_.bindings.some(xf)),k=I1(null,l,null,512|s2(c),null,null,d,p,u,null,Kf(h,u,!0));k[at]=h,xc(k);let v=null;try{let _=P2(at,k,2,"#host",()=>l.directiveRegistry,!0,0);r2(p,h,_),si(h,k),F1(l,k,_),Jf(l,_,k),V2(l,_),n!==void 0&&Cx(_,this.ngContentSelectors,n),v=nn(_.index,k),k[kt]=v[kt],V1(l,k,null)}catch(_){throw v!==null&&o1(v),o1(k),_}finally{be(me.DynamicComponentEnd),_c()}return new qc(this.componentType,k,!!m)}finally{se(a)}}};function _x(t,e,n,r){let o=t?["ng-version","21.0.6"]:JM(e.selectors[0]),i=null,s=null,a=0;if(n)for(let u of n)a+=u[m1].requiredVars,u.create&&(u.targetIdx=0,(i??=[]).push(u)),u.update&&(u.targetIdx=0,(s??=[]).push(u));if(r)for(let u=0;u<r.length;u++){let d=r[u];if(typeof d!="function")for(let p of d.bindings){a+=p[m1].requiredVars;let h=u+1;p.create&&(p.targetIdx=h,(i??=[]).push(p)),p.update&&(p.targetIdx=h,(s??=[]).push(p))}}let c=[e];if(r)for(let u of r){let d=typeof u=="function"?u:u.type,p=ld(d);c.push(p)}return b1(0,null,wx(i,s),1,a,c,null,null,null,[o],null)}function wx(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function xf(t){let e=t[m1].kind;return e==="input"||e==="twoWay"}var qc=class extends N2{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=gc(n[ae],at),this.location=Hc(this._tNode,n),this.instance=nn(this._tNode.index,n)[kt],this.hostView=this.changeDetectorRef=new Tr(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView,i=P1(r,o[ae],o,e,n);this.previousInputValues.set(e,n);let s=nn(r.index,o);q1(s,1)}get injector(){return new ho(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Cx(t,e,n){let r=t.projection=[];for(let o=0;o<e.length;o++){let i=n[o];r.push(i!=null&&i.length?Array.from(i):null)}}var Rs=(()=>{class t{static __NG_ELEMENT_ID__=bx}return t})();function bx(){let t=Ut();return Sx(t,Ne())}var Ix=Rs,z2=class extends Ix{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new ho(this._hostTNode,this._hostLView)}get parentInjector(){let e=x1(this._hostTNode,this._hostLView);if(Ff(e)){let n=Nc(e,this._hostLView),r=Lc(e),o=n[ae].data[r+8];return new ho(o,n)}else return new ho(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_f(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=h1(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,l1(this._hostTNode,s)),a}createComponent(e,n,r,o,i,s,a){let c=e&&!cM(e),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,o=v.projectableNodes,i=v.environmentInjector||v.ngModuleRef,s=v.directives,a=v.bindings}let u=c?e:new As(no(e)),d=r||this.parentInjector;if(!i&&u.ngModule==null){let _=(c?d:this.parentInjector).get(Jt,null);_&&(i=_)}let p=no(u.componentType??{}),h=h1(this._lContainer,p?.id??null),m=h?.firstChild??null,k=u.create(d,o,m,i,s,a);return this.insertImpl(k.hostView,l,l1(this._hostTNode,h)),k}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let o=e._lView;if(C0(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[pt],l=new z2(c,c[Ct],c[pt]);l.detach(l.indexOf(e))}}let i=this._adjustIndex(n),s=this._lContainer;return E2(s,o,i,r),e.attachToViewContainerRef(),fd(Zd(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_f(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=d1(this._lContainer,n);r&&(ds(Zd(this._lContainer),n),p2(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=d1(this._lContainer,n);return r&&ds(Zd(this._lContainer),n)!=null?new Tr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _f(t){return t[ys]}function Zd(t){return t[ys]||(t[ys]=[])}function Sx(t,e){let n,r=e[t.index];return yn(r)?n=r:(n=T2(r,e,null,t),e[t.index]=n,S1(e,n)),Ax(n,e,t,r),new z2(n,t,e)}function Dx(t,e){let n=t[Ke],r=n.createComment(""),o=qn(e,t),i=n.parentNode(o);return Pc(n,i,r,n.nextSibling(o),!1),r}var Ax=Lx,Tx=()=>!1;function Ex(t,e,n){return Tx(t,e,n)}function Lx(t,e,n,r){if(t[Ir])return;let o;n.type&8?o=tn(r):o=Dx(e,n),t[Ir]=o}var Ts=class{};var Es=class extends Ts{injector;componentFactoryResolver=new y1(this);instance=null;constructor(e){super();let n=new Jr([...e.providers,{provide:Ts,useValue:this},{provide:Qc,useValue:this.componentFactoryResolver}],e.parent||ps(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function U2(t,e,n=null){return new Es({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Nx=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=gd(!1,n.type),o=r.length>0?U2([r],this._injector,""):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ce({token:t,providedIn:"environment",factory:()=>new t(De(Jt))})}return t})();function go(t){return li(()=>{let e=G2(t),n=j(T({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(Nx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||Ht,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&A1("NgStandalone"),W2(n);let r=t.dependencies;return n.directiveDefs=wf(r,Ox),n.pipeDefs=wf(r,i0),n.id=Px(n),n})}function Ox(t){return no(t)||ld(t)}function ar(t){return li(()=>({type:t.type,bootstrap:t.bootstrap||Ht,declarations:t.declarations||Ht,imports:t.imports||Ht,exports:t.exports||Ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Fx(t,e){if(t==null)return Cr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let o=t[r],i,s,a,c;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i,c=o[3]||null):(i=o,s=o,a=Wc.None,c=null),n[i]=[r,a,c],e[i]=s}return n}function Rx(t){if(t==null)return Cr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function bt(t){return li(()=>{let e=G2(t);return W2(e),e})}function H1(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function G2(t){let e={};return{type:t.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Cr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Fx(t.inputs,e),outputs:Rx(t.outputs),debugInfo:null}}function W2(t){t.features?.forEach(e=>e(t))}function wf(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let o of n){let i=e(o);i!==null&&r.push(i)}return r}:null}function Px(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let i of r.join("|"))e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vx(t){return Object.getPrototypeOf(t.prototype).constructor}function Un(t){let e=Vx(t.type),n=!0,r=[t];for(;e;){let o;if(Vn(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ne(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);let s=t;s.inputs=Xd(t.inputs),s.declaredInputs=Xd(t.declaredInputs),s.outputs=Xd(t.outputs);let a=o.hostBindings;a&&zx(t,a);let c=o.viewQuery,l=o.contentQueries;if(c&&Hx(t,c),l&&Bx(t,l),qx(t,o),o0(t.outputs,o.outputs),Vn(o)&&o.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(t),a===Un&&(n=!1)}}e=Object.getPrototypeOf(e)}jx(r)}function qx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function jx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Is(o.hostAttrs,n=Is(n,o.hostAttrs))}}function Xd(t){return t===Cr?{}:t===Ht?[]:t}function Hx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,o)=>{e(r,o),n(r,o)}:t.viewQuery=e}function Bx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,o,i)=>{e(r,o,i),n(r,o,i)}:t.contentQueries=e}function zx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,o)=>{e(r,o),n(r,o)}:t.hostBindings=e}function $2(t,e,n,r,o,i,s,a){if(n.firstCreatePass){t.mergedAttrs=Is(t.mergedAttrs,t.attrs);let u=t.tView=b1(2,t,o,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),u.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),ni(t,!1);let c=Wx(n,e,t,r);wc()&&N1(n,e,c,t),si(c,e);let l=T2(c,e,c,t);e[r+at]=l,S1(e,l),Ex(l,t,e)}function Ux(t,e,n,r,o,i,s,a,c,l,u){let d=n+at,p;return e.firstCreatePass?(p=Fs(e,d,4,s||null,a||null),Dd()&&F2(e,t,p,ti(e.consts,l),v2),Nf(e,p)):p=e.data[d],$2(p,t,e,n,r,o,i,c),ks(p)&&F1(e,t,p),l!=null&&R1(t,p,u),p}function Gx(t,e,n,r,o,i,s,a,c,l,u){let d=n+at,p;if(e.firstCreatePass){if(p=Fs(e,d,4,s||null,a||null),l!=null){let h=ti(e.consts,l);p.localNames=[];for(let m=0;m<h.length;m+=2)p.localNames.push(h[m],-1)}}else p=e.data[d];return $2(p,t,e,n,r,o,i,c),l!=null&&R1(t,p,u),p}function Er(t,e,n,r,o,i,s,a){let c=Ne(),l=rn(),u=ti(l.consts,i);return Ux(c,l,t,e,n,r,o,u,void 0,s,a),Er}var Wx=$x;function $x(t,e,n,r){return Cc(!0),e[Ke].createComment("")}var B1=new ce("");function hi(t){return!!t&&typeof t.then=="function"}function z1(t){return!!t&&typeof t.subscribe=="function"}var Z2=new ce("");var U1=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=re(Z2,{optional:!0})??[];injector=re(Nn);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let i=mc(this.injector,o);if(hi(i))n.push(i);else if(z1(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),X2=new ce("");function Q2(){Su(()=>{let t="";throw new ne(600,t)})}function K2(t){return t.isBoundToModule}var Zx=10;var pi=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=re(Ar);afterRenderManager=re(T1);zonelessEnabled=re(xs);rootEffectScheduler=re(bc);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Tn;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=re(ri);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(Xr(n=>!n))}constructor(){re(yo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=re(Jt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,o=Nn.NULL){return this._injector.get(Bt).run(()=>{be(me.BootstrapComponentStart);let s=n instanceof Xc;if(!this._injector.get(U1).done){let m="";throw new ne(405,m)}let c;s?c=n:c=this._injector.get(Qc).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=K2(c)?void 0:this._injector.get(Ts),u=r||c.selector,d=c.create(o,[],u,l),p=d.location.nativeElement,h=d.injector.get(B1,null);return h?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),bs(this.components,d),h?.unregisterApplication(p)}),this._loadComponent(d),be(me.BootstrapComponentEnd,d),d})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){be(me.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run($c.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw be(me.ChangeDetectionEnd),new ne(101,!1);let n=se(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,se(n),this.afterTick.next(),be(me.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(fo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<Zx;){be(me.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{be(me.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:o}of this.allViews){if(!r&&!vs(o))continue;let i=r&&!this.zonelessEnabled?0:1;I2(o,i),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>vs(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bs(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(o){this.internalErrorHandler(o)}this.components.push(n),this._injector.get(X2,[]).forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bs(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ne(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var ED=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Pe(t,e,n){let r=Ne(),o=Od();if(Ds(r,o,e)){let i=rn(),s=W0();C3(s,r,t,e,r[Ke],n)}return Pe}function Cf(t,e,n,r,o){P1(e,t,n,o?"class":"style",r)}function ue(t,e,n,r){let o=Ne(),i=o[ae],s=t+at,a=i.firstCreatePass?P2(s,o,2,e,v2,Dd(),n,r):i.data[s];if(E3(a,o,t,e,Xx),ks(a)){let c=o[ae];F1(c,o,a),Jf(c,a,o)}return r!=null&&R1(o,a),ue}function le(){let t=rn(),e=Ut(),n=L3(e);return t.firstCreatePass&&V2(t,n),L0(n)&&N0(),E0(),n.classesWithoutHost!=null&&fM(n)&&Cf(t,n,Ne(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&mM(n)&&Cf(t,n,Ne(),n.stylesWithoutHost,!1),le}function vn(t,e,n,r){return ue(t,e,n,r),le(),vn}var Xx=(t,e,n,r,o)=>(Cc(!0),t2(e[Ke],r,$0()));function fi(){return Ne()}var ws=void 0;function Qx(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var Kx=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",ws,ws,ws],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Qx],Qd={};function Kc(t){let e=Yx(t),n=bf(e);if(n)return n;let r=e.split("-")[0];if(n=bf(r),n)return n;if(r==="en")return Kx;throw new ne(701,!1)}function bf(t){return t in Qd||(Qd[t]=eo.ng&&eo.ng.common&&eo.ng.common.locales&&eo.ng.common.locales[t]),Qd[t]}var ko=(function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t})(ko||{});function Yx(t){return t.toLowerCase().replace(/_/g,"-")}var Ps="en-US";var Jx=Ps;function Y2(t){typeof t=="string"&&(Jx=t.toLowerCase().replace(/_/g,"-"))}function He(t,e,n){let r=Ne(),o=rn(),i=Ut();return e8(o,r,r[Ke],i,t,e,n),He}function e8(t,e,n,r,o,i,s){let a=!0,c=null;if((r.type&3||s)&&(c??=$d(r,e,i),fx(r,t,e,s,n,o,i,c)&&(a=!1)),a){let l=r.outputs?.[o],u=r.hostDirectiveOutputs?.[o];if(u&&u.length)for(let d=0;d<u.length;d+=2){let p=u[d],h=u[d+1];c??=$d(r,e,i),Mf(r,e,p,h,o,c)}if(l&&l.length)for(let d of l)c??=$d(r,e,i),Mf(r,e,d,o,o,c)}}function Ge(t=1){return G0(t)}function t8(t,e){let n=null,r=$M(t);for(let o=0;o<e.length;o++){let i=e[o];if(i==="*"){n=o;continue}if(r===null?i2(t,i,!0):QM(r,i))return o}return n}function G1(t){let e=Ne()[Et][Ct];if(!e.projection){let n=t?t.length:1,r=e.projection=d0(n,null),o=r.slice(),i=e.child;for(;i!==null;){if(i.type!==128){let s=t?t8(i,t):0;s!==null&&(o[s]?o[s].projectionNext=i:r[s]=i,o[s]=i)}i=i.next}}}function W1(t,e=0,n,r,o,i){let s=Ne(),a=rn(),c=r?t+1:null;c!==null&&Gx(s,a,c,r,o,i,null,n);let l=Fs(a,at+t,16,null,n||null);l.projection===null&&(l.projection=e),Ld();let d=!s[Ko]||Ad();s[Et][Ct].projection[l.projection]===null&&c!==null?n8(s,a,c):d&&!Gc(l)&&g3(a,s,l)}function n8(t,e,n){let r=at+n,o=e.data[r],i=t[r],s=h1(i,o.tView.ssrId),a=M2(t,o,void 0,{dehydratedView:s});E2(i,a,0,l1(o,s))}function Sc(t,e){return t<<17|e<<2}function mo(t){return t>>17&32767}function r8(t){return(t&2)==2}function o8(t,e){return t&131071|e<<17}function g1(t){return t|2}function ci(t){return(t&131068)>>2}function Kd(t,e){return t&-131069|e<<2}function i8(t){return(t&1)===1}function k1(t){return t|1}function s8(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=mo(s),c=ci(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Xo(d,u)>0)&&(l=!0)}else u=n;if(o)if(c!==0){let p=mo(t[a+1]);t[r+1]=Sc(p,a),p!==0&&(t[p+1]=Kd(t[p+1],r)),t[a+1]=o8(t[a+1],r)}else t[r+1]=Sc(a,0),a!==0&&(t[a+1]=Kd(t[a+1],r)),a=r;else t[r+1]=Sc(c,0),a===0?a=r:t[c+1]=Kd(t[c+1],r),c=r;l&&(t[r+1]=g1(t[r+1])),If(t,u,r,!0),If(t,u,r,!1),a8(e,u,t,r,i),s=Sc(a,c),i?e.classBindings=s:e.styleBindings=s}function a8(t,e,n,r,o){let i=o?t.residualClasses:t.residualStyles;i!=null&&typeof e=="string"&&Xo(i,e)>=0&&(n[r+1]=k1(n[r+1]))}function If(t,e,n,r){let o=t[n+1],i=e===null,s=r?mo(o):ci(o),a=!1;for(;s!==0&&(a===!1||i);){let c=t[s],l=t[s+1];c8(c,e)&&(a=!0,t[s+1]=r?k1(l):g1(l)),s=r?mo(l):ci(l)}a&&(t[n+1]=r?g1(o):k1(o))}function c8(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Xo(t,e)>=0:!1}function Lr(t,e){return l8(t,e,null,!0),Lr}function l8(t,e,n,r){let o=Ne(),i=rn(),s=P0(2);if(i.firstUpdatePass&&d8(i,t,s,r),e!==ir&&Ds(o,s,e)){let a=i.data[uo()];y8(i,a,o,o[Ke],t,o[s+1]=g8(e,n),r,s)}}function u8(t,e){return e>=t.expandoStartIndex}function d8(t,e,n,r){let o=t.data;if(o[n+1]===null){let i=o[uo()],s=u8(t,n);k8(i,r)&&e===null&&!s&&(e=!1),e=h8(o,i,e,r),s8(o,i,e,n,s,r)}}function h8(t,e,n,r){let o=H0(t),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(n=Yd(null,t,e,n,r),n=Ls(n,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==o)if(n=Yd(o,t,e,n,r),i===null){let c=p8(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Yd(null,t,e,c[1],r),c=Ls(c,e.attrs,r),f8(t,e,r,c))}else i=m8(t,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),n}function p8(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ci(r)!==0)return t[mo(r)]}function f8(t,e,n,r){let o=n?e.classBindings:e.styleBindings;t[mo(o)]=r}function m8(t,e,n){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=t[i].hostAttrs;r=Ls(r,s,n)}return Ls(r,e.attrs,n)}function Yd(t,e,n,r,o){let i=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(i=e[a],r=Ls(r,i.hostAttrs,o),i!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ls(t,e,n){let r=n?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),p0(t,s,n?!0:e[++i]))}return t===void 0?null:t}function y8(t,e,n,r,o,i,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=i8(l)?Sf(c,e,n,o,ci(l),s):void 0;if(!jc(u)){jc(i)||r8(l)&&(i=Sf(c,null,n,o,a,s));let d=wd(uo(),n);v3(r,s,d,o,i)}}function Sf(t,e,n,r,o,i){let s=e===null,a;for(;o>0;){let c=t[o],l=Array.isArray(c),u=l?c[1]:c,d=u===null,p=n[o+1];p===ir&&(p=d?Ht:void 0);let h=d?pc(p,r):u===r?p:void 0;if(l&&!jc(h)&&(h=pc(c,r)),jc(h)&&(a=h,s))return a;let m=t[o+1];o=s?mo(m):ci(m)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=pc(c,r))}return a}function jc(t){return t!==void 0}function g8(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=vr(e2(t)))),t}function k8(t,e){return(t.flags&(e?8:16))!==0}function Fe(t,e=""){let n=Ne(),r=rn(),o=t+at,i=r.firstCreatePass?Fs(r,o,1,e,null):r.data[o],s=v8(r,n,i,e,t);n[o]=s,wc()&&N1(r,n,s,i),ni(i,!1)}var v8=(t,e,n,r,o)=>(Cc(!0),PM(e[Ke],r));function M8(t,e,n,r=""){return Ds(t,Od(),n)?e+dd(n)+r:ir}function mi(t){return vo("",t),mi}function vo(t,e,n){let r=Ne(),o=M8(r,t,e,n);return o!==ir&&x8(r,uo(),o),vo}function x8(t,e,n){let r=wd(e,t);VM(t[Ke],r,n)}function Df(t,e,n){let r=rn();r.firstCreatePass&&J2(e,r.data,r.blueprint,Vn(t),n)}function J2(t,e,n,r,o){if(t=ht(t),Array.isArray(t))for(let i=0;i<t.length;i++)J2(t[i],e,n,r,o);else{let i=rn(),s=Ne(),a=Ut(),c=Yr(t)?t:ht(t.provide),l=vd(t),u=a.providerIndexes&1048575,d=a.directiveStart,p=a.providerIndexes>>20;if(Yr(t)||!t.multi){let h=new po(l,o,pe,null),m=e1(c,e,o?u:u+p,d);m===-1?(n1(Fc(a,s),i,c),Jd(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{let h=e1(c,e,u+p,d),m=e1(c,e,u,u+p),k=h>=0&&n[h],v=m>=0&&n[m];if(o&&!v||!o&&!k){n1(Fc(a,s),i,c);let _=C8(o?w8:_8,n.length,o,r,l,t);!o&&v&&(n[m].providerFactory=_),Jd(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(_),s.push(_)}else{let _=em(n[o?m:h],l,!o&&r);Jd(i,t,h>-1?h:m,_)}!o&&r&&v&&n[m].componentProviders++}}}function Jd(t,e,n,r){let o=Yr(e),i=k0(e);if(o||i){let c=(i?ht(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){let u=l.indexOf(n);u===-1?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function em(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function e1(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function _8(t,e,n,r,o){return v1(this.multi,[])}function w8(t,e,n,r,o){let i=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Rc(r,r[ae],this.providerFactory.index,o);s=c.slice(0,a),v1(i,s);for(let l=a;l<c.length;l++)s.push(c[l])}else s=[],v1(i,s);return s}function v1(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function C8(t,e,n,r,o,i){let s=new po(t,n,pe,null);return s.multi=[],s.index=e,s.componentProviders=0,em(s,o,r&&!n),s}function Mo(t,e){return n=>{n.providersResolver=(r,o)=>Df(r,o?o(t):t,!1),e&&(n.viewProvidersResolver=(r,o)=>Df(r,o?o(e):e,!0))}}function b8(t,e){let n=t[e];return n===ir?void 0:n}function I8(t,e,n,r,o,i,s){let a=e+n;return px(t,a,o,i)?hx(t,a+2,s?r.call(s,o,i):r(o,i)):b8(t,a+2)}function Yc(t,e){let n=rn(),r,o=t+at;n.firstCreatePass?(r=S8(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];let i=r.factory||(r.factory=Mr(r.type,!0)),s,a=wt(pe);try{let c=Oc(!1),l=i();return Oc(c),Cd(n,Ne(),o,l),l}finally{wt(a)}}function S8(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Jc(t,e,n,r){let o=t+at,i=Ne(),s=w0(i,o);return D8(i,o)?I8(i,F0(),e,s.transform,n,r,s):s.transform(n,r)}function D8(t,e){return t[ae].data[e].pure}var tm=(()=>{class t{applicationErrorHandler=re(Ar);appRef=re(pi);taskService=re(ri);ngZone=re(Bt);zonelessEnabled=re(xs);tracing=re(yo,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _t;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ls):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(re(zd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?qd:Vd;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ls+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,qd(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nm(){return[{provide:wr,useExisting:tm},{provide:Bt,useClass:us},{provide:xs,useValue:!0}]}function A8(){return typeof $localize<"u"&&$localize.locale||Ps}var Vs=new ce("",{factory:()=>re(Vs,{optional:!0,skipSelf:!0})||A8()});function qs(t,e){return Ra(t,e?.equal)}var $1=new ce(""),H8=new ce("");function js(t){return!t.moduleRef}function B8(t){let e=js(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Bt);return n.run(()=>{js(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Ar),o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:r})}),js(t)){let i=()=>e.destroy(),s=t.platformInjector.get($1);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{let i=()=>t.moduleRef.destroy(),s=t.platformInjector.get($1);s.add(i),t.moduleRef.onDestroy(()=>{bs(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return U8(r,n,()=>{let i=e.get(ri),s=i.add(),a=e.get(U1);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(Vs,Ps);if(Y2(c||Ps),!e.get(H8,!0))return js(t)?e.get(pi):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(js(t)){let u=e.get(pi);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return z8?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void i.remove(s))})})}var z8;function U8(t,e,n){try{let r=n();return hi(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var el=null;function G8(t=[],e){return Nn.create({name:e,providers:[{provide:hs,useValue:"platform"},{provide:$1,useValue:new Set([()=>el=null])},...t]})}function W8(t=[]){if(el)return el;let e=G8(t);return el=e,Q2(),$8(e),e}function $8(t){let e=t.get(zc,null);mc(t,()=>{e?.forEach(n=>n())})}var yi=(()=>{class t{static __NG_ELEMENT_ID__=Z8}return t})();function Z8(t){return X8(Ut(),Ne(),(t&16)===16)}function X8(t,e,n){if(Sr(t)&&!n){let r=nn(t.index,e);return new Tr(r,r)}else if(t.type&175){let r=e[Et];return new Tr(r,e)}return null}var Z1=class{constructor(){}supports(e){return j1(e)}create(e){return new X1(e)}},Q8=(t,e)=>e,X1=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Q8}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){let s=!r||n&&n.currentIndex<rm(r,o,i)?n:r,a=rm(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)o++;else{i||(i=[]);let l=a-o,u=c-o;if(l!=u){for(let p=0;p<l;p++){let h=p<i.length?i[p]:i[p]=0,m=h+p;u<=m&&m<l&&(i[p]=h+1)}let d=s.previousIndex;i[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!j1(e))throw new ne(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,i,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)),n=n._next}else o=0,q2(e,a=>{s=this._trackByFn(o,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,o),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new Q1(n,r),i,o)),e}_verifyReinsertion(e,n,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let o=n===null?this._itHead:n._next;return e._next=o,e._prev=n,o===null?this._itTail=e:o._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new tl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new tl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Q1=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},K1=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},tl=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new K1,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,o=this.map.get(r);return o?o.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rm(t,e,n){let r=t.previousIndex;if(r===null)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function om(){return new Y1([new Z1])}var Y1=(()=>{class t{factories;static \u0275prov=Ce({token:t,providedIn:"root",factory:om});constructor(n){this.factories=n}static create(n,r){if(r!=null){let o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:()=>{let r=re(t,{optional:!0,skipSelf:!0});return t.create(n,r||om())}}}find(n){let r=this.factories.find(o=>o.supports(n));if(r!=null)return r;throw new ne(901,!1)}}return t})();function sm(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:o}=t;be(me.BootstrapApplicationStart);try{let i=o?.injector??W8(r),s=[nm(),Y0,...n||[]],a=new Es({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return B8({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(i){return Promise.reject(i)}finally{be(me.BootstrapApplicationEnd)}}function am(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var cm=null;function Nr(){return cm}function J1(t){cm??=t}var Hs=class{};var nh=(function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t})(nh||{});var Gn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gi(t,e){let n=Kc(t),r=n[ko.NumberSymbols][e];if(typeof r>"u"){if(e===Gn.CurrencyDecimal)return n[ko.NumberSymbols][Gn.Decimal];if(e===Gn.CurrencyGroup)return n[ko.NumberSymbols][Gn.Group]}return r}function hm(t,e){return Kc(t)[ko.NumberFormats][e]}var K8=/^(\d+)?\.((\d+)(-(\d+))?)?$/,lm=22,nl=".",Bs="0",Y8=";",J8=",",eh="#";function e6(t,e,n,r,o,i,s=!1){let a="",c=!1;if(!isFinite(t))a=gi(n,Gn.Infinity);else{let l=r6(t);s&&(l=n6(l));let u=e.minInt,d=e.minFrac,p=e.maxFrac;if(i){let O=i.match(K8);if(O===null)throw new ne(2306,!1);let F=O[1],P=O[3],N=O[5];F!=null&&(u=th(F)),P!=null&&(d=th(P)),N!=null?p=th(N):P!=null&&d>p&&(p=d)}o6(l,d,p);let h=l.digits,m=l.integerLen,k=l.exponent,v=[];for(c=h.every(O=>!O);m<u;m++)h.unshift(0);for(;m<0;m++)h.unshift(0);m>0?v=h.splice(m,h.length):(v=h,h=[0]);let _=[];for(h.length>=e.lgSize&&_.unshift(h.splice(-e.lgSize,h.length).join(""));h.length>e.gSize;)_.unshift(h.splice(-e.gSize,h.length).join(""));h.length&&_.unshift(h.join("")),a=_.join(gi(n,r)),v.length&&(a+=gi(n,o)+v.join("")),k&&(a+=gi(n,Gn.Exponential)+"+"+k)}return t<0&&!c?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function pm(t,e,n){let r=hm(e,nh.Decimal),o=t6(r,gi(e,Gn.MinusSign));return e6(t,o,e,Gn.Group,Gn.Decimal,n)}function t6(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Y8),o=r[0],i=r[1],s=o.indexOf(nl)!==-1?o.split(nl):[o.substring(0,o.lastIndexOf(Bs)+1),o.substring(o.lastIndexOf(Bs)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(eh));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===Bs?n.minFrac=n.maxFrac=u+1:d===eh?n.maxFrac=u+1:n.posSuf+=d}let l=a.split(J8);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,i){let u=o.length-n.posPre.length-n.posSuf.length,d=i.indexOf(eh);n.negPre=i.substring(0,d).replace(/'/g,""),n.negSuf=i.slice(d+u).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function n6(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function r6(t){let e=Math.abs(t)+"",n=0,r,o,i,s,a;for((o=e.indexOf(nl))>-1&&(e=e.replace(nl,"")),(i=e.search(/e/i))>0?(o<0&&(o=i),o+=+e.slice(i+1),e=e.substring(0,i)):o<0&&(o=e.length),i=0;e.charAt(i)===Bs;i++);if(i===(a=e.length))r=[0],o=1;else{for(a--;e.charAt(a)===Bs;)a--;for(o-=i,r=[],s=0;i<=a;i++,s++)r[s]=Number(e.charAt(i))}return o>lm&&(r=r.splice(0,lm-1),n=o-1,o=1),{digits:r,exponent:n,integerLen:o}}function o6(t,e,n){if(e>n)throw new ne(2307,!1);let r=t.digits,o=r.length-t.integerLen,i=Math.min(Math.max(e,o),n),s=i+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{o=Math.max(0,o),t.integerLen=1,r.length=Math.max(1,s=i+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;o<Math.max(0,i);o++)r.push(0);let c=i!==0,l=e+t.integerLen,u=r.reduceRight(function(d,p,h,m){return p=p+d,m[h]=p<10?p:p-10,c&&(m[h]===0&&h>=l?m.pop():c=!1),p>=10?1:0},0);u&&(r.unshift(u),t.integerLen++)}function th(t){let e=parseInt(t);if(isNaN(e))throw new ne(2305,!1);return e}var rl=class{$implicit;ngForOf;index;count;constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},il=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new rl(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),um(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);um(i,o)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(pe(Rs),pe(Os),pe(Y1))};static \u0275dir=bt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function um(t,e){t.context.$implicit=e.item}var rh=(()=>{class t{_viewContainer;_context=new ol;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dm(n,!1),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dm(n,!1),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(pe(Rs),pe(Os))};static \u0275dir=bt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),ol=class{$implicit=null;ngIf=null};function dm(t,e){if(t&&!t.createEmbeddedView)throw new ne(2020,!1)}function i6(t,e){return new ne(2100,!1)}var oh=(()=>{class t{_locale;constructor(n){this._locale=n}transform(n,r,o){if(!s6(n))return null;o||=this._locale;try{let i=a6(n);return pm(i,o,r)}catch(i){throw i6(t,i.message)}}static \u0275fac=function(r){return new(r||t)(pe(Vs,16))};static \u0275pipe=H1({name:"number",type:t,pure:!0})}return t})();function s6(t){return!(t==null||t===""||t!==t)}function a6(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new ne(2309,!1);return t}var sl=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=Rn({})}return t})();function ih(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[o,i]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var zs=class{};var fm="browser";var Us=class{_doc;constructor(e){this._doc=e}manager},al=(()=>{class t extends Us{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o,i){return n.addEventListener(r,o,i),()=>this.removeEventListener(n,r,o,i)}removeEventListener(n,r,o,i){return n.removeEventListener(r,o,i)}static \u0275fac=function(r){return new(r||t)(De(on))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),ul=new ce(""),lh=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let o=n.filter(s=>!(s instanceof al));this._plugins=o.slice().reverse();let i=n.find(s=>s instanceof al);i&&this._plugins.push(i)}addEventListener(n,r,o,i){return this._findPluginFor(r).addEventListener(n,r,o,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new ne(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(De(ul),De(Bt))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),sh="ng-app-id";function mm(t){for(let e of t)e.remove()}function ym(t,e){let n=e.createElement("style");return n.textContent=t,n}function l6(t,e,n,r){let o=t.head?.querySelectorAll(`style[${sh}="${e}"],link[${sh}="${e}"]`);if(o)for(let i of o)i.removeAttribute(sh),i instanceof HTMLLinkElement?r.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&n.set(i.textContent,{usage:0,elements:[i]})}function ch(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var uh=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,l6(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let o of n)this.addUsage(o,this.inline,ym);r?.forEach(o=>this.addUsage(o,this.external,ch))}removeStyles(n,r){for(let o of n)this.removeUsage(o,this.inline);r?.forEach(o=>this.removeUsage(o,this.external))}addUsage(n,r,o){let i=r.get(n);i?i.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(n,this.doc)))})}removeUsage(n,r){let o=r.get(n);o&&(o.usage--,o.usage<=0&&(mm(o.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])mm(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:o}]of this.inline)o.push(this.addElement(n,ym(r,this.doc)));for(let[r,{elements:o}]of this.external)o.push(this.addElement(n,ch(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(De(on),De(Bc),De(Uc,8),De(Ns))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),ah={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dh=/%COMP%/g;var km="%COMP%",u6=`_nghost-${km}`,d6=`_ngcontent-${km}`,h6=!0,p6=new ce("",{factory:()=>h6});function f6(t){return d6.replace(dh,t)}function m6(t){return u6.replace(dh,t)}function vm(t,e){return e.map(n=>n.replace(dh,t))}var hh=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,o,i,s,a,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.ngZone=a,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Gs(n,s,a,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let o=this.getOrCreateRenderer(n,r);return o instanceof ll?o.applyToHost(n):o instanceof Ws&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.tracingService;switch(r.encapsulation){case kn.Emulated:i=new ll(c,l,r,this.appId,u,s,a,d);break;case kn.ShadowDom:return new cl(c,n,r,s,a,this.nonce,d,l);case kn.ExperimentalIsolatedShadowDom:return new cl(c,n,r,s,a,this.nonce,d);default:i=new Ws(c,l,r,u,s,a,d);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(De(lh),De(uh),De(Bc),De(p6),De(on),De(Bt),De(Uc),De(yo,8))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),Gs=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(ah[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(gm(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(gm(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new ne(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;let i=ah[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let o=ah[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Bn.DashCase|Bn.Important)?e.style.setProperty(n,r,o&Bn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,o){if(typeof e=="string"&&(e=Nr().getGlobalEventTarget(this.doc,e),!e))throw new ne(5102,!1);let i=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(e,n,i)),this.eventManager.addEventListener(e,n,i,o)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function gm(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var cl=class extends Gs{hostEl;sharedStylesHost;shadowRoot;constructor(e,n,r,o,i,s,a,c){super(e,o,i,a),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=vm(r.id,l);for(let d of l){let p=document.createElement("style");s&&p.setAttribute("nonce",s),p.textContent=d,this.shadowRoot.appendChild(p)}let u=r.getExternalStyles?.();if(u)for(let d of u){let p=ch(d,o);s&&p.setAttribute("nonce",s),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Ws=class extends Gs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o;let l=r.styles;this.styles=c?vm(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ai.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ll=class extends Ws{contentAttr;hostAttr;constructor(e,n,r,o,i,s,a,c){let l=o+"-"+r.id;super(e,n,r,i,s,a,c,l),this.contentAttr=f6(l),this.hostAttr=m6(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var dl=class t extends Hs{supportsDOMEvents=!0;static makeCurrent(){J1(new t)}onAndCancel(e,n,r,o){return e.addEventListener(n,r,o),()=>{e.removeEventListener(n,r,o)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=y6();return n==null?null:g6(n)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ih(document.cookie,e)}},$s=null;function y6(){return $s=$s||document.head.querySelector("base"),$s?$s.getAttribute("href"):null}function g6(t){return new URL(t,document.baseURI).pathname}var k6=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),Mm=["alt","control","meta","shift"],v6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M6={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},xm=(()=>{class t extends Us{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o,i){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nr().onAndCancel(n,s.domEventName,a,i))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Mm.forEach(l=>{let u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=v6[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Mm.forEach(s=>{if(s!==o){let a=M6[s];a(n)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(De(on))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();function ph(t,e,n){let r=T({rootComponent:t,platformRef:n?.platformRef},x6(e));return sm(r)}function x6(t){return{appProviders:[...I6,...t?.providers??[]],platformProviders:b6}}function _6(){dl.makeCurrent()}function w6(){return new On}function C6(){return w1(document),document}var b6=[{provide:Ns,useValue:fm},{provide:zc,useValue:_6,multi:!0},{provide:on,useFactory:C6}];var I6=[{provide:hs,useValue:"root"},{provide:On,useFactory:w6},{provide:ul,useClass:al,multi:!0},{provide:ul,useClass:xm,multi:!0},hh,uh,lh,{provide:fo,useExisting:hh},{provide:zs,useClass:k6},[]];var _m={providers:[Bd()]};var Em=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(pe(sr),pe(zn))};static \u0275dir=bt({type:t})}return t})(),yl=(()=>{class t extends Em{static \u0275fac=(()=>{let n;return function(o){return(n||(n=di(t)))(o||t)}})();static \u0275dir=bt({type:t,features:[Un]})}return t})(),Js=new ce("");var S6={provide:Js,useExisting:Fn(()=>gl),multi:!0};function D6(){let t=Nr()?Nr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var A6=new ce(""),gl=(()=>{class t extends Em{_compositionMode;_composing=!1;constructor(n,r,o){super(n,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!D6())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(pe(sr),pe(zn),pe(A6,8))};static \u0275dir=bt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&He("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},standalone:!1,features:[Mo([S6]),Un]})}return t})();var T6=new ce(""),E6=new ce("");function Lm(t){return t!=null}function Nm(t){return hi(t)?ju(t):t}function Om(t){let e={};return t.forEach(n=>{e=n!=null?T(T({},e),n):e}),Object.keys(e).length===0?null:e}function Fm(t,e){return e.map(n=>n(t))}function L6(t){return!t.validate}function Rm(t){return t.map(e=>L6(e)?e:n=>e.validate(n))}function N6(t){if(!t)return null;let e=t.filter(Lm);return e.length==0?null:function(n){return Om(Fm(n,e))}}function Pm(t){return t!=null?N6(Rm(t)):null}function O6(t){if(!t)return null;let e=t.filter(Lm);return e.length==0?null:function(n){let r=Fm(n,e).map(Nm);return Hu(r).pipe(Xr(Om))}}function Vm(t){return t!=null?O6(Rm(t)):null}function wm(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function F6(t){return t._rawValidators}function R6(t){return t._rawAsyncValidators}function fh(t){return t?Array.isArray(t)?t:[t]:[]}function pl(t,e){return Array.isArray(t)?t.includes(e):t===e}function Cm(t,e){let n=fh(e);return fh(t).forEach(o=>{pl(n,o)||n.push(o)}),n}function bm(t,e){return fh(e).filter(n=>!pl(t,n))}var fl=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},mh=class extends fl{name;get formDirective(){return null}get path(){return null}},Ys=class extends fl{_parent=null;name=null;valueAccessor=null},yh=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var qm=(()=>{class t extends yh{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(pe(Ys,2))};static \u0275dir=bt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Lr("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Un]})}return t})();var Zs="VALID",hl="INVALID",ki="PENDING",Xs="DISABLED",xo=class{},ml=class extends xo{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Qs=class extends xo{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Ks=class extends xo{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},vi=class extends xo{status;source;constructor(e,n){super(),this.status=e,this.source=n}};var gh=class extends xo{source;constructor(e){super(),this.source=e}};function P6(t){return(kl(t)?t.validators:t)||null}function V6(t){return Array.isArray(t)?Pm(t):t||null}function q6(t,e){return(kl(e)?e.asyncValidators:t)||null}function j6(t){return Array.isArray(t)?Vm(t):t||null}function kl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var kh=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return jn(this.statusReactive)}set status(e){jn(()=>this.statusReactive.set(e))}_status=qs(()=>this.statusReactive());statusReactive=nt(void 0);get valid(){return this.status===Zs}get invalid(){return this.status===hl}get pending(){return this.status==ki}get disabled(){return this.status===Xs}get enabled(){return this.status!==Xs}errors;get pristine(){return jn(this.pristineReactive)}set pristine(e){jn(()=>this.pristineReactive.set(e))}_pristine=qs(()=>this.pristineReactive());pristineReactive=nt(!0);get dirty(){return!this.pristine}get touched(){return jn(this.touchedReactive)}set touched(e){jn(()=>this.touchedReactive.set(e))}_touched=qs(()=>this.touchedReactive());touchedReactive=nt(!1);get untouched(){return!this.touched}_events=new Tn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Cm(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Cm(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bm(e,this._rawAsyncValidators))}hasValidator(e){return pl(this._rawValidators,e)}hasAsyncValidator(e){return pl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(j(T({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ks(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ks(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(j(T({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Qs(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Qs(!0,r))}markAsPending(e={}){this.status=ki;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new vi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(j(T({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Xs,this.errors=null,this._forEachChild(o=>{o.disable(j(T({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,r)),this._events.next(new vi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(T({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zs,this._forEachChild(r=>{r.enable(j(T({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(j(T({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zs||this.status===ki)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ml(this.value,n)),this._events.next(new vi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(j(T({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xs:Zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ki,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=Nm(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new vi(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?Xs:this.errors?hl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ki)?ki:this._anyControlsHaveStatus(hl)?hl:Zs}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new Qs(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ks(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=V6(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=j6(this._rawAsyncValidators)}};var jm=new ce("",{factory:()=>vh}),vh="always";function H6(t,e){return[...e.path,t]}function B6(t,e,n=vh){U6(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),G6(t,e),$6(t,e),W6(t,e),z6(t,e)}function Im(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function z6(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function U6(t,e){let n=F6(t);e.validator!==null?t.setValidators(wm(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=R6(t);e.asyncValidator!==null?t.setAsyncValidators(wm(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let o=()=>t.updateValueAndValidity();Im(e._rawValidators,o),Im(e._rawAsyncValidators,o)}function G6(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Hm(t,e)})}function W6(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Hm(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Hm(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function $6(t,e){let n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Z6(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function X6(t){return Object.getPrototypeOf(t.constructor)===yl}function Q6(t,e){if(!e)return null;Array.isArray(e);let n,r,o;return e.forEach(i=>{i.constructor===gl?n=i:X6(i)?r=i:o=i}),o||r||n||null}function Sm(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Dm(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var K6=class extends kh{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(P6(n),q6(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Dm(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new gh(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Sm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Sm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Dm(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Y6={provide:Ys,useExisting:Fn(()=>Mh)},Am=Promise.resolve(),Mh=(()=>{class t extends Ys{_changeDetectorRef;callSetDisabledState;control=new K6;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new jt;constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Q6(this,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Z6(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){B6(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Am.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&am(r);Am.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?H6(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(pe(mh,9),pe(T6,10),pe(E6,10),pe(Js,10),pe(yi,8),pe(jm,8))};static \u0275dir=bt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Mo([Y6]),Un,ui]})}return t})();var J6={provide:Js,useExisting:Fn(()=>xh),multi:!0},xh=(()=>{class t extends yl{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(o){return(n||(n=di(t)))(o||t)}})();static \u0275dir=bt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&He("input",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Mo([J6]),Un]})}return t})();var e_={provide:Js,useExisting:Fn(()=>vl),multi:!0};function Bm(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function t_(t){return t.split(":")[0]}var vl=(()=>{class t extends yl{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;appRefInjector=re(pi).injector;destroyRef=re(or);cdr=re(yi);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,E1({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(n){this.cdr.markForCheck(),this.value=n;let r=this._getOptionId(n),o=Bm(r,n);this.setProperty("value",o)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=t_(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=di(t)))(o||t)}})();static \u0275dir=bt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&He("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mo([e_]),Un]})}return t})(),zm=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(Bm(this.id,n)),this._select._writeValueAfterRender())}set value(n){this._setElementValue(n),this._select&&this._select._writeValueAfterRender()}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||t)(pe(zn),pe(sr),pe(vl,9))};static \u0275dir=bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),n_={provide:Js,useExisting:Fn(()=>Um),multi:!0};function Tm(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function r_(t){return t.split(":")[0]}var Um=(()=>{class t extends yl{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let o=n.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],l=this._getOptionValue(c.value);o.push(l)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let l=this._getOptionValue(c.value);o.push(l)}}}this.value=o,n(o)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=r_(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(o){return(n||(n=di(t)))(o||t)}})();static \u0275dir=bt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&He("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Mo([n_]),Un]})}return t})(),Gm=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,o){this._element=n,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(Tm(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(Tm(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(pe(zn),pe(sr),pe(Um,9))};static \u0275dir=bt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var o_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=Rn({})}return t})();var Wm=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:jm,useValue:n.callSetDisabledState??vh}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=Rn({imports:[o_]})}return t})();var s_=["*"];var $m=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]];var Zm=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]];var Xm=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]];var Qm=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]];var Km=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]];var Ym=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]];var ea={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},_h=new ce("LucideIcons",{factory:()=>new ta({})}),ta=class{constructor(e){this.icons=e}getIcon(e){return this.hasIcon(e)?this.icons[e]:null}hasIcon(e){return typeof this.icons=="object"&&e in this.icons}},a_=(()=>{class t{constructor(){this.color=ea.stroke,this.size=ea.width,this.strokeWidth=ea["stroke-width"],this.absoluteStrokeWidth=!1}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function c_(t,e=3){return parseFloat(t.toFixed(e)).toString(10)}var Jm=(()=>{class t{constructor(n,r,o,i,s){this.elem=n,this.renderer=r,this.changeDetector=o,this.iconProviders=i,this.iconConfig=s,this.absoluteStrokeWidth=!1,this.defaultSize=ea.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let o=this.getIcon(this.toPascalCase(r));if(o)this.replaceElement(o);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=j(T({},ea),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?c_(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),o=this.createElement(["svg",r,n]);o.classList.add("lucide"),typeof this.name=="string"&&o.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&o.classList.add(...this.class.split(/ /).map(s=>s.trim()).filter(s=>s.length>0));let i=this.elem.nativeElement.childNodes;for(let s of i)this.renderer.removeChild(this.elem.nativeElement,s);this.renderer.appendChild(this.elem.nativeElement,o)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,o,i)=>o.toUpperCase()+i.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,o=[]]){let i=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(s=>{let a=typeof r[s]=="string"?r[s]:r[s].toString(10);this.renderer.setAttribute(i,s,a)}),o.length&&o.forEach(s=>{let a=this.createElement(s);this.renderer.appendChild(i,a)}),i}}return t.\u0275fac=function(n){return new(n||t)(pe(zn),pe(sr),pe(yi),pe(_h),pe(a_))},t.\u0275cmp=go({type:t,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[ui],ngContentSelectors:s_,decls:1,vars:0,template:function(n,r){n&1&&(G1(),W1(0))},encapsulation:2}),t})(),wh=class{constructor(e){this.icons=e}},l_=t=>new ta(t??{}),ey=(()=>{class t{static pick(n){return{ngModule:t,providers:[{provide:_h,multi:!0,useValue:new ta(n)},{provide:_h,multi:!0,useFactory:l_,deps:[[new M1,wh]]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ar({type:t}),t.\u0275inj=Rn({imports:[[]]}),t})();var na="15.1.22";var Nt=mu(Ih());var my=()=>new DOMException("","AbortError");var yy=t=>(e,n,[r,o,i],s)=>{t(e[o],[n,r,i],a=>a[0]===n&&a[1]===r,s)};var gy=t=>(e,n,r)=>{let o=[];for(let i=0;i<r.numberOfInputs;i+=1)o.push(new Set);t.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})};var ky=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})};var Wn=new WeakSet,xl=new WeakMap,Mi=new WeakMap,_l=new WeakMap,pa=new WeakMap,xi=new WeakMap,wl=new WeakMap,fa=new WeakMap,ma=new WeakMap,ya=new WeakMap;var vy={construct(){return vy}},My=t=>{try{let e=new Proxy(t,vy);new e}catch{return!1}return!0};var xy=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Sh=(t,e)=>{let n=[],r=t.replace(/^[\s]+/,""),o=r.match(xy);for(;o!==null;){let i=o[1].slice(1,-1),s=o[0].replace(/([\s]+)?;?$/,"").replace(i,new URL(i,e).toString());n.push(s),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match(xy)}return[n.join(";"),r]};var _y=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},wy=t=>{if(!My(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Cy=(t,e,n,r,o,i,s,a,c,l,u,d,p)=>{let h=0;return(m,k,v={credentials:"omit"})=>{let _=u.get(m);if(_!==void 0&&_.has(k))return Promise.resolve();let O=l.get(m);if(O!==void 0){let N=O.get(k);if(N!==void 0)return N}let F=i(m),P=F.audioWorklet===void 0?o(k).then(([N,E])=>{let[b,S]=Sh(N,E),q=`${b};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${S}
})})(window,'_AWGS')`;return n(q)}).then(()=>{let N=p._AWGS.pop();if(N===void 0)throw new SyntaxError;r(F.currentTime,F.sampleRate,()=>N(class{},void 0,(E,b)=>{if(E.trim()==="")throw e();let S=ma.get(F);if(S!==void 0){if(S.has(E))throw e();wy(b),_y(b.parameterDescriptors),S.set(E,b)}else wy(b),_y(b.parameterDescriptors),ma.set(F,new Map([[E,b]]))},F.sampleRate,void 0,void 0))}):Promise.all([o(k),Promise.resolve(t(d,d))]).then(([[N,E],b])=>{let S=h+1;h=S;let[q,G]=Sh(N,E),y=`${q};((AudioWorkletProcessor,registerProcessor)=>{${G}
})(${b?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${b?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${b?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${S}',class extends AudioWorkletProcessor{process(){return !1}})`,M=new Blob([y],{type:"application/javascript; charset=utf-8"}),w=URL.createObjectURL(M);return F.audioWorklet.addModule(w,v).then(()=>{if(a(F))return F;let I=s(F);return I.audioWorklet.addModule(w,v).then(()=>I)}).then(I=>{if(c===null)throw new SyntaxError;try{new c(I,`__sac${S}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(w))});return O===void 0?l.set(m,new Map([[k,P]])):O.set(k,P),P.then(()=>{let N=u.get(m);N===void 0?u.set(m,new Set([k])):N.add(k)}).finally(()=>{let N=l.get(m);N!==void 0&&N.delete(k)}),P}};var Ye=(t,e)=>{let n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n};var Or=(t,e)=>{let n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");let[r]=n;return t.delete(r),r};var Cl=(t,e,n,r)=>{let o=Ye(t,e),i=Or(o,s=>s[0]===n&&s[1]===r);return o.size===0&&t.delete(e),i};var $n=t=>Ye(wl,t);var Mn=t=>{if(Wn.has(t))throw new Error("The AudioNode is already stored.");Wn.add(t),$n(t).forEach(e=>e(!0))};var bl=t=>"port"in t;var Zn=t=>{if(!Wn.has(t))throw new Error("The AudioNode is not stored.");Wn.delete(t),$n(t).forEach(e=>e(!1))};var ga=(t,e)=>{!bl(t)&&e.every(n=>n.size===0)&&Zn(t)};var by=(t,e,n,r,o,i,s,a,c,l,u,d,p)=>{let h=new WeakMap;return(m,k,v,_,O)=>{let{activeInputs:F,passiveInputs:P}=i(k),{outputs:N}=i(m),E=a(m),b=S=>{let q=c(k),G=c(m);if(S){let g=Cl(P,m,v,_);t(F,m,g,!1),!O&&!d(m)&&n(G,q,v,_),p(k)&&Mn(k)}else{let g=r(F,m,v,_);e(P,_,g,!1),!O&&!d(m)&&o(G,q,v,_);let f=s(k);if(f===0)u(k)&&ga(k,F);else{let C=h.get(k);C!==void 0&&clearTimeout(C),h.set(k,setTimeout(()=>{u(k)&&ga(k,F)},f*1e3))}}};return l(N,[k,v,_],S=>S[0]===k&&S[1]===v&&S[2]===_,!0)?(E.add(b),u(m)?t(F,m,[v,_,b],!0):e(P,_,[m,v,b],!0),!0):!1}};var Iy=t=>(e,n,[r,o,i],s)=>{let a=e.get(r);a===void 0?e.set(r,new Set([[o,n,i]])):t(a,[o,n,i],c=>c[0]===o&&c[1]===n,s)};var Sy=t=>(e,n)=>{let r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);let o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)};var Dy=t=>(e,n)=>{t(e).add(n)};var D_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Ay=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let l=o(a),u=T(T({},D_),c),d=r(l,u),p=i(l)?e():null;super(a,!1,d,p),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){let c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){let c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}};var ye=(t,e)=>t.context===e;var Ty=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!ye(a,s)){let l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,l)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var _i=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0};var sn=()=>new DOMException("","IndexSizeError");var wi=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(r){throw r.code===12?sn():r}})(t.getChannelData)};var A_={numberOfChannels:1},Ey=(t,e,n,r,o,i,s,a)=>{let c=null;return class Ly{constructor(u){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");let{length:d,numberOfChannels:p,sampleRate:h}=T(T({},A_),u);c===null&&(c=new o(1,1,44100));let m=r!==null&&e(i,i)?new r({length:d,numberOfChannels:p,sampleRate:h}):c.createBuffer(p,d,h);if(m.numberOfChannels===0)throw n();return typeof m.copyFromChannel!="function"?(s(m),wi(m)):e(_i,()=>_i(m))||a(m),t.add(m),m}static[Symbol.hasInstance](u){return u!==null&&typeof u=="object"&&Object.getPrototypeOf(u)===Ly.prototype||t.has(u)}}};var We=-34028234663852886e22,Be=-We;var It=t=>Wn.has(t);var T_={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Ny=(t,e,n,r,o,i,s,a)=>class extends t{constructor(l,u){let d=i(l),p=T(T({},T_),u),h=o(d,p),m=s(d),k=m?e():null;super(l,!1,h,k),this._audioBufferSourceNodeRenderer=k,this._isBufferNullified=!1,this._isBufferSet=p.buffer!==null,this._nativeAudioBufferSourceNode=h,this._onended=null,this._playbackRate=n(this,m,h.playbackRate,Be,We)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(l){if(this._nativeAudioBufferSourceNode.buffer=l,l!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(l){this._nativeAudioBufferSourceNode.loop=l}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(l){this._nativeAudioBufferSourceNode.loopEnd=l}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(l){this._nativeAudioBufferSourceNode.loopStart=l}get onended(){return this._onended}set onended(l){let u=typeof l=="function"?a(this,l):null;this._nativeAudioBufferSourceNode.onended=u;let d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===u?l:d}get playbackRate(){return this._playbackRate}start(l=0,u=0,d){if(this._nativeAudioBufferSourceNode.start(l,u,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[l,u]:[l,u,d]),this.context.state!=="closed"){Mn(this);let p=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",p),It(this)&&Zn(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",p)}}stop(l=0){this._nativeAudioBufferSourceNode.stop(l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=l)}};var Oy=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=async(l,u)=>{let d=n(l),p=ye(d,u);if(!p){let h={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(u,h),s!==null&&d.start(...s),a!==null&&d.stop(a)}return i.set(u,d),p?await t(u,l.playbackRate,d.playbackRate):await r(u,l.playbackRate,d.playbackRate),await o(l,u,d),d};return{set start(l){s=l},set stop(l){a=l},render(l,u){let d=i.get(u);return d!==void 0?Promise.resolve(d):c(l,u)}}};var Fy=t=>"playbackRate"in t;var Ry=t=>"frequency"in t&&"gain"in t;var Py=t=>"offset"in t;var Vy=t=>!("frequency"in t)&&"gain"in t;var qy=t=>"detune"in t&&"frequency"in t&&!("gain"in t);var jy=t=>"pan"in t;var rt=t=>Ye(xl,t);var Fr=t=>Ye(_l,t);var Il=(t,e)=>{let{activeInputs:n}=rt(t);n.forEach(o=>o.forEach(([i])=>{e.includes(t)||Il(i,[...e,t])}));let r=Fy(t)?[t.playbackRate]:bl(t)?Array.from(t.parameters.values()):Ry(t)?[t.Q,t.detune,t.frequency,t.gain]:Py(t)?[t.offset]:Vy(t)?[t.gain]:qy(t)?[t.detune,t.frequency]:jy(t)?[t.pan]:[];for(let o of r){let i=Fr(o);i!==void 0&&i.activeInputs.forEach(([s])=>Il(s,e))}It(t)&&Zn(t)};var Rr=t=>{Il(t.destination,[])};var Sl=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback");var Hy=(t,e,n,r,o,i,s,a,c)=>class extends t{constructor(u={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(u)}catch(m){throw m.code===12&&m.message==="sampleRate is not in range"?n():m}if(d===null)throw r();if(!Sl(u.latencyHint))throw new TypeError(`The provided value '${u.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(u.sampleRate!==void 0&&d.sampleRate!==u.sampleRate)throw n();super(d,2);let{latencyHint:p}=u,{sampleRate:h}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:p==="balanced"?512/h:p==="interactive"||p===void 0?256/h:p==="playback"?1024/h:Math.max(2,Math.min(128,Math.round(p*h/128)))*128/h,this._nativeAudioContext=d,c.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";let m=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",m)};d.addEventListener("statechange",m)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Rr(this)}))}createMediaElementSource(u){return new o(this,{mediaElement:u})}createMediaStreamDestination(){return new i(this)}createMediaStreamSource(u){return new s(this,{mediaStream:u})}createMediaStreamTrackSource(u){return new a(this,{mediaStreamTrack:u})}resume(){return this._state==="suspended"?new Promise((u,d)=>{let p=()=>{this._nativeAudioContext.removeEventListener("statechange",p),this._nativeAudioContext.state==="running"?u():this.resume().then(u,d)};this._nativeAudioContext.addEventListener("statechange",p)}):this._nativeAudioContext.resume().catch(u=>{throw u===void 0||u.code===15?e():u})}suspend(){return this._nativeAudioContext.suspend().catch(u=>{throw u===void 0?e():u})}};var By=(t,e,n,r,o,i,s,a)=>class extends t{constructor(l,u){let d=i(l),p=s(d),h=o(d,u,p),m=p?e(a):null;super(l,!1,h,m),this._isNodeOfNativeOfflineAudioContext=p,this._nativeAudioDestinationNode=h}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(l>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=l}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(l){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=l}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}};var zy=t=>{let e=new WeakMap,n=async(r,o)=>{let i=o.destination;return e.set(o,i),await t(r,o,i),i};return{render(r,o){let i=e.get(o);return i!==void 0?Promise.resolve(i):n(r,o)}}};var Uy=(t,e,n,r,o,i,s,a)=>(c,l)=>{let u=l.listener,d=()=>{let N=new Float32Array(1),E=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),b=s(l),S=!1,q=[0,0,-1,0,1,0],G=[0,0,0],g=()=>{if(S)return;S=!0;let M=r(l,256,9,0);M.onaudioprocess=({inputBuffer:w})=>{let I=[i(w,N,0),i(w,N,1),i(w,N,2),i(w,N,3),i(w,N,4),i(w,N,5)];I.some((L,A)=>L!==q[A])&&(u.setOrientation(...I),q=I);let R=[i(w,N,6),i(w,N,7),i(w,N,8)];R.some((L,A)=>L!==G[A])&&(u.setPosition(...R),G=R)},E.connect(M)},f=M=>w=>{w!==q[M]&&(q[M]=w,u.setOrientation(...q))},C=M=>w=>{w!==G[M]&&(G[M]=w,u.setPosition(...G))},y=(M,w,I)=>{let R=n(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:w});R.connect(E,0,M),R.start(),Object.defineProperty(R.offset,"defaultValue",{get(){return w}});let L=t({context:c},b,R.offset,Be,We);return a(L,"value",A=>()=>A.call(L),A=>B=>{try{A.call(L,B)}catch(J){if(J.code!==9)throw J}g(),b&&I(B)}),L.cancelAndHoldAtTime=(A=>b?()=>{throw o()}:(...B)=>{let J=A.apply(L,B);return g(),J})(L.cancelAndHoldAtTime),L.cancelScheduledValues=(A=>b?()=>{throw o()}:(...B)=>{let J=A.apply(L,B);return g(),J})(L.cancelScheduledValues),L.exponentialRampToValueAtTime=(A=>b?()=>{throw o()}:(...B)=>{let J=A.apply(L,B);return g(),J})(L.exponentialRampToValueAtTime),L.linearRampToValueAtTime=(A=>b?()=>{throw o()}:(...B)=>{let J=A.apply(L,B);return g(),J})(L.linearRampToValueAtTime),L.setTargetAtTime=(A=>b?()=>{throw o()}:(...B)=>{let J=A.apply(L,B);return g(),J})(L.setTargetAtTime),L.setValueAtTime=(A=>b?()=>{throw o()}:(...B)=>{let J=A.apply(L,B);return g(),J})(L.setValueAtTime),L.setValueCurveAtTime=(A=>b?()=>{throw o()}:(...B)=>{let J=A.apply(L,B);return g(),J})(L.setValueCurveAtTime),L};return{forwardX:y(0,0,f(0)),forwardY:y(1,0,f(1)),forwardZ:y(2,-1,f(2)),positionX:y(6,0,C(0)),positionY:y(7,0,C(1)),positionZ:y(8,0,C(2)),upX:y(3,0,f(3)),upY:y(4,1,f(4)),upZ:y(5,0,f(5))}},{forwardX:p,forwardY:h,forwardZ:m,positionX:k,positionY:v,positionZ:_,upX:O,upY:F,upZ:P}=u.forwardX===void 0?d():u;return{get forwardX(){return p},get forwardY(){return h},get forwardZ(){return m},get positionX(){return k},get positionY(){return v},get positionZ(){return _},get upX(){return O},get upY(){return F},get upZ(){return P}}};var _o=t=>"context"in t;var Pr=t=>_o(t[0]);var xn=(t,e,n,r)=>{for(let o of t)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0};var Dh=(t,e,[n,r],o)=>{xn(t,[e,n,r],i=>i[0]===e&&i[1]===n,o)};var Ah=(t,[e,n,r],o)=>{let i=t.get(e);i===void 0?t.set(e,new Set([[n,r]])):xn(i,[n,r],s=>s[0]===n,o)};var an=t=>"inputs"in t;var Ci=(t,e,n,r)=>{if(an(e)){let o=e.inputs[r];return t.connect(o,n,0),[o,n,0]}return t.connect(e,n,r),[e,n,r]};var Th=(t,e,n)=>{for(let r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null};var Gy=(t,e,n)=>Or(t,r=>r[0]===e&&r[1]===n);var Eh=(t,e)=>{if(!$n(t).delete(e))throw new Error("Missing the expected event listener.")};var Lh=(t,e,n)=>{let r=Ye(t,e),o=Or(r,i=>i[0]===n);return r.size===0&&t.delete(e),o};var bi=(t,e,n,r)=>{an(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)};var Ee=t=>Ye(Mi,t);var wo=t=>Ye(pa,t);var ur=t=>fa.has(t);var Ii=t=>!Wn.has(t);var Nh=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{let r=t.createScriptProcessor(256,1,1),o=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;let a=t.createBufferSource();a.buffer=i,a.loop=!0,a.connect(r).connect(t.destination),a.connect(o),a.disconnect(o),r.onaudioprocess=c=>{let l=c.inputBuffer.getChannelData(0);Array.prototype.some.call(l,u=>u===1)?n(!0):n(!1),a.stop(),r.onaudioprocess=null,a.disconnect(r),r.disconnect(t.destination)},a.start()}});var Dl=(t,e)=>{let n=new Map;for(let r of t)for(let o of r){let i=n.get(o);n.set(o,i===void 0?1:i+1)}n.forEach((r,o)=>e(o,r))};var Co=t=>"context"in t;var Wy=t=>{let e=new Map;t.connect=(n=>(r,o=0,i=0)=>{let s=Co(r)?n(r,o,i):n(r,o),a=e.get(r);return a===void 0?e.set(r,[{input:i,output:o}]):a.every(c=>c.input!==i||c.output!==o)&&a.push({input:i,output:o}),s})(t.connect.bind(t)),t.disconnect=(n=>(r,o,i)=>{if(n.apply(t),r===void 0)e.clear();else if(typeof r=="number")for(let[s,a]of e){let c=a.filter(l=>l.output!==r);c.length===0?e.delete(s):e.set(s,c)}else if(e.has(r))if(o===void 0)e.delete(r);else{let s=e.get(r);if(s!==void 0){let a=s.filter(c=>c.output!==o&&(c.input!==i||i===void 0));a.length===0?e.delete(r):e.set(r,a)}}for(let[s,a]of e)a.forEach(c=>{Co(s)?t.connect(s,c.output,c.input):t.connect(s,c.output)})})(t.disconnect)};var E_=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=Fr(e),{outputs:s}=rt(t),a=$n(t),c=l=>{let u=Ee(t),d=wo(e);if(l){let p=Lh(i,t,n);Dh(o,t,p,!1),!r&&!ur(t)&&u.connect(d,n)}else{let p=Gy(o,t,n);Ah(i,p,!1),!r&&!ur(t)&&u.disconnect(d,n)}};return xn(s,[e,n],l=>l[0]===e&&l[1]===n,!0)?(a.add(c),It(t)?Dh(o,t,[n,c],!0):Ah(i,[t,n,c],!0),!0):!1},L_=(t,e,n,r)=>{let{activeInputs:o,passiveInputs:i}=rt(e),s=Th(o[r],t,n);return s===null?[Cl(i,t,n,r)[2],!1]:[s[2],!0]},N_=(t,e,n)=>{let{activeInputs:r,passiveInputs:o}=Fr(e),i=Th(r,t,n);return i===null?[Lh(o,t,n)[1],!1]:[i[2],!0]},Oh=(t,e,n,r,o)=>{let[i,s]=L_(t,n,r,o);if(i!==null&&(Eh(t,i),s&&!e&&!ur(t)&&bi(Ee(t),Ee(n),r,o)),It(n)){let{activeInputs:a}=rt(n);ga(n,a)}},Fh=(t,e,n,r)=>{let[o,i]=N_(t,n,r);o!==null&&(Eh(t,o),i&&!e&&!ur(t)&&Ee(t).disconnect(wo(n),r))},O_=(t,e)=>{let n=rt(t),r=[];for(let o of n.outputs)Pr(o)?Oh(t,e,...o):Fh(t,e,...o),r.push(o[0]);return n.outputs.clear(),r},F_=(t,e,n)=>{let r=rt(t),o=[];for(let i of r.outputs)i[1]===n&&(Pr(i)?Oh(t,e,...i):Fh(t,e,...i),o.push(i[0]),r.outputs.delete(i));return o},R_=(t,e,n,r,o)=>{let i=rt(t);return Array.from(i.outputs).filter(s=>s[0]===n&&(r===void 0||s[1]===r)&&(o===void 0||s[2]===o)).map(s=>(Pr(s)?Oh(t,e,...s):Fh(t,e,...s),i.outputs.delete(s),s[0]))},$y=(t,e,n,r,o,i,s,a,c,l,u,d,p,h,m,k)=>class extends l{constructor(_,O,F,P){super(F),this._context=_,this._nativeAudioNode=F;let N=u(_);d(N)&&n(Nh,()=>Nh(N,k))!==!0&&Wy(F),Mi.set(this,F),wl.set(this,new Set),_.state!=="closed"&&O&&Mn(this),t(this,P,F)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(_){this._nativeAudioNode.channelCount=_}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(_){this._nativeAudioNode.channelCountMode=_}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(_){this._nativeAudioNode.channelInterpretation=_}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(_,O=0,F=0){if(O<0||O>=this._nativeAudioNode.numberOfOutputs)throw o();let P=u(this._context),N=m(P);if(p(_)||h(_))throw i();if(_o(_)){let S=Ee(_);try{let G=Ci(this._nativeAudioNode,S,O,F),g=Ii(this);(N||g)&&this._nativeAudioNode.disconnect(...G),this.context.state!=="closed"&&!g&&Ii(_)&&Mn(_)}catch(G){throw G.code===12?i():G}if(e(this,_,O,F,N)){let G=c([this],_);Dl(G,r(N))}return _}let E=wo(_);if(E.name==="playbackRate"&&E.maxValue===1024)throw s();try{this._nativeAudioNode.connect(E,O),(N||Ii(this))&&this._nativeAudioNode.disconnect(E,O)}catch(S){throw S.code===12?i():S}if(E_(this,_,O,N)){let S=c([this],_);Dl(S,r(N))}}disconnect(_,O,F){let P,N=u(this._context),E=m(N);if(_===void 0)P=O_(this,E);else if(typeof _=="number"){if(_<0||_>=this.numberOfOutputs)throw o();P=F_(this,E,_)}else{if(O!==void 0&&(O<0||O>=this.numberOfOutputs)||_o(_)&&F!==void 0&&(F<0||F>=_.numberOfInputs))throw o();if(P=R_(this,E,_,O,F),P.length===0)throw i()}for(let b of P){let S=c([this],b);Dl(S,a)}}};var Zy=mu(Ih()),Xy=(t,e,n,r,o,i,s,a,c,l,u,d,p)=>(h,m,k,v=null,_=null)=>{let O=k.value,F=new Zy.AutomationEventList(O),P=m?r(F):null,N={get defaultValue(){return O},get maxValue(){return v===null?k.maxValue:v},get minValue(){return _===null?k.minValue:_},get value(){return k.value},set value(E){k.value=E,N.setValueAtTime(E,h.context.currentTime)},cancelAndHoldAtTime(E){if(typeof k.cancelAndHoldAtTime=="function")P===null&&F.flush(h.context.currentTime),F.add(o(E)),k.cancelAndHoldAtTime(E);else{let b=Array.from(F).pop();P===null&&F.flush(h.context.currentTime),F.add(o(E));let S=Array.from(F).pop();k.cancelScheduledValues(E),b!==S&&S!==void 0&&(S.type==="exponentialRampToValue"?k.exponentialRampToValueAtTime(S.value,S.endTime):S.type==="linearRampToValue"?k.linearRampToValueAtTime(S.value,S.endTime):S.type==="setValue"?k.setValueAtTime(S.value,S.startTime):S.type==="setValueCurve"&&k.setValueCurveAtTime(S.values,S.startTime,S.duration))}return N},cancelScheduledValues(E){return P===null&&F.flush(h.context.currentTime),F.add(i(E)),k.cancelScheduledValues(E),N},exponentialRampToValueAtTime(E,b){if(E===0)throw new RangeError;if(!Number.isFinite(b)||b<0)throw new RangeError;let S=h.context.currentTime;return P===null&&F.flush(S),Array.from(F).length===0&&(F.add(l(O,S)),k.setValueAtTime(O,S)),F.add(s(E,b)),k.exponentialRampToValueAtTime(E,b),N},linearRampToValueAtTime(E,b){let S=h.context.currentTime;return P===null&&F.flush(S),Array.from(F).length===0&&(F.add(l(O,S)),k.setValueAtTime(O,S)),F.add(a(E,b)),k.linearRampToValueAtTime(E,b),N},setTargetAtTime(E,b,S){return P===null&&F.flush(h.context.currentTime),F.add(c(E,b,S)),k.setTargetAtTime(E,b,S),N},setValueAtTime(E,b){return P===null&&F.flush(h.context.currentTime),F.add(l(E,b)),k.setValueAtTime(E,b),N},setValueCurveAtTime(E,b,S){let q=E instanceof Float32Array?E:new Float32Array(E);if(d!==null&&d.name==="webkitAudioContext"){let G=b+S,g=h.context.sampleRate,f=Math.ceil(b*g),C=Math.floor(G*g),y=C-f,M=new Float32Array(y);for(let I=0;I<y;I+=1){let R=(q.length-1)/S*((f+I)/g-b),L=Math.floor(R),A=Math.ceil(R);M[I]=L===A?q[L]:(1-(R-L))*q[L]+(1-(A-R))*q[A]}P===null&&F.flush(h.context.currentTime),F.add(u(M,b,S)),k.setValueCurveAtTime(M,b,S);let w=C/g;w<G&&p(N,M[M.length-1],w),p(N,q[q.length-1],G)}else P===null&&F.flush(h.context.currentTime),F.add(u(q,b,S)),k.setValueCurveAtTime(q,b,S);return N}};return n.set(N,k),e.set(N,h),t(N,P),N};var Qy=t=>({replay(e){for(let n of t)if(n.type==="exponentialRampToValue"){let{endTime:r,value:o}=n;e.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){let{endTime:r,value:o}=n;e.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){let{startTime:r,target:o,timeConstant:i}=n;e.setTargetAtTime(o,r,i)}else if(n.type==="setValue"){let{startTime:r,value:o}=n;e.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){let{duration:r,startTime:o,values:i}=n;e.setValueCurveAtTime(i,o,r)}else throw new Error("Can't apply an unknown automation.")}});var Si=class{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((r,o)=>e.call(n,r,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}};var P_={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Ky=(t,e,n,r,o,i,s,a,c,l,u,d,p,h)=>class extends e{constructor(k,v,_){var O;let F=a(k),P=c(F),N=u(T(T({},P_),_));p(N);let E=ma.get(F),b=E?.get(v),S=P||F.state!=="closed"?F:(O=s(F))!==null&&O!==void 0?O:F,q=o(S,P?null:k.baseLatency,l,v,b,N),G=P?r(v,N,b):null;super(k,!0,q,G);let g=[];q.parameters.forEach((C,y)=>{let M=n(this,P,C);g.push([y,M])}),this._nativeAudioWorkletNode=q,this._onprocessorerror=null,this._parameters=new Si(g),P&&t(F,this);let{activeInputs:f}=i(this);d(q,f)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(k){let v=typeof k=="function"?h(this,k):null;this._nativeAudioWorkletNode.onprocessorerror=v;let _=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=_!==null&&_===v?k:_}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Di(t,e,n,r,o){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,o);else{let i=t.getChannelData(r);if(e[n].byteLength===0)e[n]=i.slice(o,o+128);else{let s=new Float32Array(i.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(s)}}}var Al=(t,e,n,r,o)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],r,o):e[n].byteLength!==0&&t.getChannelData(r).set(e[n],o)};var Ai=(t,e)=>{let n=[];for(let r=0;r<t;r+=1){let o=[],i=typeof e=="number"?e:e[r];for(let s=0;s<i;s+=1)o.push(new Float32Array(128));n.push(o)}return n};var Yy=(t,e)=>{let n=Ye(ya,t),r=Ee(e);return Ye(n,r)};var V_=async(t,e,n,r,o,i,s)=>{let a=e===null?Math.ceil(t.context.length/128)*128:e.length,c=r.channelCount*r.numberOfInputs,l=o.reduce((v,_)=>v+_,0),u=l===0?null:n.createBuffer(l,a,n.sampleRate);if(i===void 0)throw new Error("Missing the processor constructor.");let d=rt(t),p=await Yy(n,t),h=Ai(r.numberOfInputs,r.channelCount),m=Ai(r.numberOfOutputs,o),k=Array.from(t.parameters.keys()).reduce((v,_)=>j(T({},v),{[_]:new Float32Array(128)}),{});for(let v=0;v<a;v+=128){if(r.numberOfInputs>0&&e!==null)for(let _=0;_<r.numberOfInputs;_+=1)for(let O=0;O<r.channelCount;O+=1)Di(e,h[_],O,O,v);i.parameterDescriptors!==void 0&&e!==null&&i.parameterDescriptors.forEach(({name:_},O)=>{Di(e,k,_,c+O,v)});for(let _=0;_<r.numberOfInputs;_+=1)for(let O=0;O<o[_];O+=1)m[_][O].byteLength===0&&(m[_][O]=new Float32Array(128));try{let _=h.map((F,P)=>d.activeInputs[P].size===0?[]:F),O=s(v/n.sampleRate,n.sampleRate,()=>p.process(_,m,k));if(u!==null)for(let F=0,P=0;F<r.numberOfOutputs;F+=1){for(let N=0;N<o[F];N+=1)Al(u,m[F],N,P+N,v);P+=o[F]}if(!O)break}catch(_){t.dispatchEvent(new ErrorEvent("processorerror",{colno:_.colno,filename:_.filename,lineno:_.lineno,message:_.message}));break}}return u},Jy=(t,e,n,r,o,i,s,a,c,l,u,d,p,h,m,k)=>(v,_,O)=>{let F=new WeakMap,P=null,N=async(E,b)=>{let S=u(E),q=null,G=ye(S,b),g=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(d===null){let f=g.reduce((w,I)=>w+I,0),C=o(b,{channelCount:Math.max(1,f),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,f)}),y=[];for(let w=0;w<E.numberOfOutputs;w+=1)y.push(r(b,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[w]}));let M=s(b,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});M.connect=e.bind(null,y),M.disconnect=c.bind(null,y),q=[C,y,M]}else G||(S=new d(b,v));if(F.set(b,q===null?S:q[2]),q!==null){if(P===null){if(O===void 0)throw new Error("Missing the processor constructor.");if(p===null)throw new Error("Missing the native OfflineAudioContext constructor.");let I=E.channelCount*E.numberOfInputs,R=O.parameterDescriptors===void 0?0:O.parameterDescriptors.length,L=I+R;P=V_(E,L===0?null:await(async()=>{let B=new p(L,Math.ceil(E.context.length/128)*128,b.sampleRate),J=[],W=[];for(let ee=0;ee<_.numberOfInputs;ee+=1)J.push(s(B,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),W.push(o(B,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));let Ae=await Promise.all(Array.from(E.parameters.values()).map(async ee=>{let X=i(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ee.value});return await h(B,ee,X.offset),X})),ke=r(B,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,I+R)});for(let ee=0;ee<_.numberOfInputs;ee+=1){J[ee].connect(W[ee]);for(let X=0;X<_.channelCount;X+=1)W[ee].connect(ke,X,ee*_.channelCount+X)}for(let[ee,X]of Ae.entries())X.connect(ke,0,I+ee),X.start(0);return ke.connect(B.destination),await Promise.all(J.map(ee=>m(E,B,ee))),k(B)})(),b,_,g,O,l)}let f=await P,C=n(b,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[y,M,w]=q;f!==null&&(C.buffer=f,C.start(0)),C.connect(y);for(let I=0,R=0;I<E.numberOfOutputs;I+=1){let L=M[I];for(let A=0;A<g[I];A+=1)y.connect(L,R+A,A);R+=g[I]}return w}if(G)for(let[f,C]of E.parameters.entries())await t(b,C,S.parameters.get(f));else for(let[f,C]of E.parameters.entries())await h(b,C,S.parameters.get(f));return await m(E,b,S),S};return{render(E,b){a(b,E);let S=F.get(b);return S!==void 0?Promise.resolve(S):N(E,b)}}};var eg=(t,e,n,r,o,i,s,a,c,l,u,d,p,h,m,k,v,_,O,F)=>class extends m{constructor(N,E){super(N,E),this._nativeContext=N,this._audioWorklet=t===void 0?void 0:{addModule:(b,S)=>t(this,b,S)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(N,E,b){return new n({length:E,numberOfChannels:N,sampleRate:b})}createBufferSource(){return new r(this)}createChannelMerger(N=6){return new i(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new s(this,{numberOfOutputs:N})}createConstantSource(){return new a(this)}createConvolver(){return new c(this)}createDelay(N=1){return new u(this,{maxDelayTime:N})}createDynamicsCompressor(){return new d(this)}createGain(){return new p(this)}createIIRFilter(N,E){return new h(this,{feedback:E,feedforward:N})}createOscillator(){return new k(this)}createPanner(){return new v(this)}createPeriodicWave(N,E,b={disableNormalization:!1}){return new _(this,j(T({},b),{imag:E,real:N}))}createStereoPanner(){return new O(this)}createWaveShaper(){return new F(this)}decodeAudioData(N,E,b){return l(this._nativeContext,N).then(S=>(typeof E=="function"&&E(S),S),S=>{throw typeof b=="function"&&b(S),S})}};var q_={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},tg=(t,e,n,r,o,i,s,a)=>class extends t{constructor(l,u){let d=i(l),p=T(T({},q_),u),h=o(d,p),m=s(d),k=m?n():null;super(l,!1,h,k),this._Q=e(this,m,h.Q,Be,We),this._detune=e(this,m,h.detune,1200*Math.log2(Be),-1200*Math.log2(Be)),this._frequency=e(this,m,h.frequency,l.sampleRate/2,0),this._gain=e(this,m,h.gain,40*Math.log10(Be),We),this._nativeBiquadFilterNode=h,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(l){this._nativeBiquadFilterNode.type=l}getFrequencyResponse(l,u,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(l,u,d)}catch(p){throw p.code===11?r():p}if(l.length!==u.length||u.length!==d.length)throw r()}};var ng=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let l=n(a),u=ye(l,c);if(!u){let d={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(c,d)}return i.set(c,l),u?(await t(c,a.Q,l.Q),await t(c,a.detune,l.detune),await t(c,a.frequency,l.frequency),await t(c,a.gain,l.gain)):(await r(c,a.Q,l.Q),await r(c,a.detune,l.detune),await r(c,a.frequency,l.frequency),await r(c,a.gain,l.gain)),await o(a,c,l),l};return{render(a,c){let l=i.get(c);return l!==void 0?Promise.resolve(l):s(a,c)}}};var rg=(t,e)=>(n,r)=>{let o=e.get(n);if(o!==void 0)return o;let i=t.get(n);if(i!==void 0)return i;try{let s=r();return s instanceof Promise?(t.set(n,s),s.catch(()=>!1).then(a=>(t.delete(n),e.set(n,a),a))):(e.set(n,s),s)}catch{return e.set(n,!1),!1}};var j_={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},og=(t,e,n,r,o)=>class extends t{constructor(s,a){let c=r(s),l=T(T({},j_),a),u=n(c,l),d=o(c)?e():null;super(s,!1,u,d)}};var ig=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!ye(a,s)){let l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,l)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var H_={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},sg=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let l=r(a),u=i(T(T({},H_),c)),d=n(l,u),p=o(l)?e():null;super(a,!1,d,p)}};var ag=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!ye(a,s)){let l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,l)}return r.set(s,a),await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var cg=t=>(e,n,r)=>t(n,e,r);var lg=t=>(e,n,r=0,o=0)=>{let i=e[r];if(i===void 0)throw t();return Co(n)?i.connect(n,0,o):i.connect(n,0)};var ug=t=>(e,n)=>{let r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return r.buffer=o,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}};var B_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},dg=(t,e,n,r,o,i,s)=>class extends t{constructor(c,l){let u=o(c),d=T(T({},B_),l),p=r(u,d),h=i(u),m=h?n():null;super(c,!1,p,m),this._constantSourceNodeRenderer=m,this._nativeConstantSourceNode=p,this._offset=e(this,h,p.offset,Be,We),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){let l=typeof c=="function"?s(this,c):null;this._nativeConstantSourceNode.onended=l;let u=this._nativeConstantSourceNode.onended;this._onended=u!==null&&u===l?c:u}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){Mn(this);let l=()=>{this._nativeConstantSourceNode.removeEventListener("ended",l),It(this)&&Zn(this)};this._nativeConstantSourceNode.addEventListener("ended",l)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}};var hg=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=async(l,u)=>{let d=n(l),p=ye(d,u);if(!p){let h={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(u,h),s!==null&&d.start(s),a!==null&&d.stop(a)}return i.set(u,d),p?await t(u,l.offset,d.offset):await r(u,l.offset,d.offset),await o(l,u,d),d};return{set start(l){s=l},set stop(l){a=l},render(l,u){let d=i.get(u);return d!==void 0?Promise.resolve(d):c(l,u)}}};var pg=t=>e=>(t[0]=e,t[0]);var z_={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},fg=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let l=r(a),u=T(T({},z_),c),d=n(l,u),h=o(l)?e():null;super(a,!1,d,h),this._isBufferNullified=!1,this._nativeConvolverNode=d,u.buffer!==null&&i(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){let c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,i(this,0)}else this._isBufferNullified=!1,i(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}};var mg=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!ye(a,s)){let l={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,l)}return r.set(s,a),an(a)?await n(i,s,a.inputs[0]):await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var yg=(t,e)=>(n,r,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,o)}catch(i){throw i.name==="SyntaxError"?t():i}};var gg=()=>new DOMException("","DataCloneError");var Rh=t=>{let{port1:e,port2:n}=new MessageChannel;return new Promise(r=>{let o=()=>{n.onmessage=null,e.close(),n.close(),r()};n.onmessage=()=>o();try{e.postMessage(t,[t])}catch{}finally{o()}})};var kg=(t,e,n,r,o,i,s,a,c,l,u)=>(d,p)=>{let h=s(d)?d:i(d);if(o.has(p)){let m=n();return Promise.reject(m)}try{o.add(p)}catch{}return e(c,()=>c(h))?h.decodeAudioData(p).then(m=>(Rh(p).catch(()=>{}),e(a,()=>a(m))||u(m),t.add(m),m)):new Promise((m,k)=>{let v=async()=>{try{await Rh(p)}catch{}},_=O=>{k(O),v()};try{h.decodeAudioData(p,O=>{typeof O.copyFromChannel!="function"&&(l(O),wi(O)),t.add(O),v().then(()=>m(O))},O=>{_(O===null?r():O)})}catch(O){_(O)}})};var vg=(t,e,n,r,o,i,s,a)=>(c,l)=>{let u=e.get(c);if(u===void 0)throw new Error("Missing the expected cycle count.");let d=i(c.context),p=a(d);if(u===l){if(e.delete(c),!p&&s(c)){let h=r(c),{outputs:m}=n(c);for(let k of m)if(Pr(k)){let v=r(k[0]);t(h,v,k[1],k[2])}else{let v=o(k[0]);h.connect(v,k[1])}}}else e.set(c,u-l)};var U_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Mg=(t,e,n,r,o,i,s)=>class extends t{constructor(c,l){let u=o(c),d=T(T({},U_),l),p=r(u,d),h=i(u),m=h?n(d.maxDelayTime):null;super(c,!1,p,m),this._delayTime=e(this,h,p.delayTime),s(this,d.maxDelayTime)}get delayTime(){return this._delayTime}};var xg=(t,e,n,r,o)=>i=>{let s=new WeakMap,a=async(c,l)=>{let u=n(c),d=ye(u,l);if(!d){let p={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:i};u=e(l,p)}return s.set(l,u),d?await t(l,c.delayTime,u.delayTime):await r(l,c.delayTime,u.delayTime),await o(c,l,u),u};return{render(c,l){let u=s.get(l);return u!==void 0?Promise.resolve(u):a(c,l)}}};var _g=t=>(e,n,r,o)=>t(e[o],i=>i[0]===n&&i[1]===r);var wg=t=>(e,n)=>{t(e).delete(n)};var Cg=t=>"delayTime"in t;var bg=(t,e,n)=>function r(o,i){let s=_o(i)?i:n(t,i);if(Cg(s))return[];if(o[0]===s)return[o];if(o.includes(s))return[];let{outputs:a}=e(s);return Array.from(a).map(c=>r([...o,s],c[0])).reduce((c,l)=>c.concat(l),[])};var Tl=(t,e,n)=>{let r=e[n];if(r===void 0)throw t();return r},Ig=t=>(e,n=void 0,r=void 0,o=0)=>n===void 0?e.forEach(i=>i.disconnect()):typeof n=="number"?Tl(t,e,n).disconnect():Co(n)?r===void 0?e.forEach(i=>i.disconnect(n)):o===void 0?Tl(t,e,r).disconnect(n,0):Tl(t,e,r).disconnect(n,0,o):r===void 0?e.forEach(i=>i.disconnect(n)):Tl(t,e,r).disconnect(n,0);var G_={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Sg=(t,e,n,r,o,i,s,a)=>class extends t{constructor(l,u){let d=i(l),p=T(T({},G_),u),h=r(d,p),m=s(d),k=m?n():null;super(l,!1,h,k),this._attack=e(this,m,h.attack),this._knee=e(this,m,h.knee),this._nativeDynamicsCompressorNode=h,this._ratio=e(this,m,h.ratio),this._release=e(this,m,h.release),this._threshold=e(this,m,h.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(l){let u=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=l,l>2)throw this._nativeDynamicsCompressorNode.channelCount=u,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(l){let u=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=l,l==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=u,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}};var Dg=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let l=n(a),u=ye(l,c);if(!u){let d={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(c,d)}return i.set(c,l),u?(await t(c,a.attack,l.attack),await t(c,a.knee,l.knee),await t(c,a.ratio,l.ratio),await t(c,a.release,l.release),await t(c,a.threshold,l.threshold)):(await r(c,a.attack,l.attack),await r(c,a.knee,l.knee),await r(c,a.ratio,l.ratio),await r(c,a.release,l.release),await r(c,a.threshold,l.threshold)),await o(a,c,l),l};return{render(a,c){let l=i.get(c);return l!==void 0?Promise.resolve(l):s(a,c)}}};var Ag=()=>new DOMException("","EncodingError");var Tg=t=>e=>new Promise((n,r)=>{if(t===null){r(new SyntaxError);return}let o=t.document.head;if(o===null)r(new SyntaxError);else{let i=t.document.createElement("script"),s=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(s),c=t.onerror,l=()=>{t.onerror=c,URL.revokeObjectURL(a)};t.onerror=(u,d,p,h,m)=>{if(d===a||d===t.location.href&&p===1&&h===1)return l(),r(m),!1;if(c!==null)return c(u,d,p,h,m)},i.onerror=()=>{l(),r(new SyntaxError)},i.onload=()=>{l(),n()},i.src=a,i.type="module",o.appendChild(i)}});var Eg=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let i=this._listeners.get(r);i===void 0&&(i=t(this,r),typeof r=="function"&&this._listeners.set(r,i)),this._nativeEventTarget.addEventListener(n,i,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){let i=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,i===void 0?null:i,o)}};var Lg=t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return r()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}};var Ng=t=>async e=>{try{let n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()};var W_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Og=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let l=o(a),u=T(T({},W_),c),d=r(l,u),p=i(l),h=p?n():null;super(a,!1,d,h),this._gain=e(this,p,d.gain,Be,We)}get gain(){return this._gain}};var Fg=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let l=n(a),u=ye(l,c);if(!u){let d={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(c,d)}return i.set(c,l),u?await t(c,a.gain,l.gain):await r(c,a.gain,l.gain),await o(a,c,l),l};return{render(a,c){let l=i.get(c);return l!==void 0?Promise.resolve(l):s(a,c)}}};var Rg=(t,e)=>n=>e(t,n);var Pg=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer};var Vg=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0};var qg=t=>e=>{let n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer};var jg=t=>e=>t.get(e);var Ve=()=>new DOMException("","InvalidStateError");var Hg=t=>e=>{let n=t.get(e);if(n===void 0)throw Ve();return n};var Bg=(t,e)=>n=>{let r=t.get(n);if(r!==void 0)return r;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r};var zg=t=>e=>{let n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n};var Ti=()=>new DOMException("","InvalidAccessError");var Ug=t=>{t.getFrequencyResponse=(e=>(n,r,o)=>{if(n.length!==r.length||r.length!==o.length)throw Ti();return e.call(t,n,r,o)})(t.getFrequencyResponse)};var $_={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Gg=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let l=r(a),u=o(l),d=T(T({},$_),c),p=e(l,u?null:a.baseLatency,d),h=u?n(d.feedback,d.feedforward):null;super(a,!1,p,h),Ug(p),this._nativeIIRFilterNode=p,i(this,1)}getFrequencyResponse(a,c,l){return this._nativeIIRFilterNode.getFrequencyResponse(a,c,l)}};var El=(t,e,n,r,o,i,s,a,c,l,u)=>{let d=l.length,p=a;for(let h=0;h<d;h+=1){let m=n[0]*l[h];for(let k=1;k<o;k+=1){let v=p-k&c-1;m+=n[k]*i[v],m-=t[k]*s[v]}for(let k=o;k<r;k+=1)m+=n[k]*i[p-k&c-1];for(let k=o;k<e;k+=1)m-=t[k]*s[p-k&c-1];i[p]=l[h],s[p]=m,p=p+1&c-1,u[h]=m}return p};var Z_=(t,e,n,r)=>{let o=n instanceof Float64Array?n:new Float64Array(n),i=r instanceof Float64Array?r:new Float64Array(r),s=o.length,a=i.length,c=Math.min(s,a);if(o[0]!==1){for(let m=0;m<s;m+=1)i[m]/=o[0];for(let m=1;m<a;m+=1)o[m]/=o[0]}let l=32,u=new Float32Array(l),d=new Float32Array(l),p=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),h=t.numberOfChannels;for(let m=0;m<h;m+=1){let k=t.getChannelData(m),v=p.getChannelData(m);u.fill(0),d.fill(0),El(o,s,i,a,c,u,d,0,l,k,v)}return p},Wg=(t,e,n,r,o)=>(i,s)=>{let a=new WeakMap,c=null,l=async(u,d)=>{let p=null,h=e(u),m=ye(h,d);if(d.createIIRFilter===void 0?p=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):m||(h=d.createIIRFilter(s,i)),a.set(d,p===null?h:p),p!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");let v=new n(u.context.destination.channelCount,u.context.length,d.sampleRate);c=(async()=>{await r(u,v,v.destination);let _=await o(v);return Z_(_,d,i,s)})()}let k=await c;return p.buffer=k,p.start(0),p}return await r(u,d,h),h};return{render(u,d){let p=a.get(d);return p!==void 0?Promise.resolve(p):l(u,d)}}};var $g=(t,e,n,r,o,i)=>s=>(a,c)=>{let l=t.get(a);if(l===void 0){if(!s&&i(a)){let u=r(a),{outputs:d}=n(a);for(let p of d)if(Pr(p)){let h=r(p[0]);e(u,h,p[1],p[2])}else{let h=o(p[0]);u.disconnect(h,p[1])}}t.set(a,c)}else t.set(a,l+c)};var Zg=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var Xg=(t,e)=>n=>t.has(n)||e(n);var Qg=(t,e)=>n=>t.has(n)||e(n);var Kg=(t,e)=>n=>{let r=t.get(n);return e(r)||e(n)};var Yg=t=>e=>t!==null&&e instanceof t;var Jg=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode;var ek=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam;var tk=(t,e)=>n=>t(n)||e(n);var nk=t=>e=>t!==null&&e instanceof t;var rk=t=>t!==null&&t.isSecureContext;var ok=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw TypeError();super(i,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}};var X_={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},ik=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i);if(r(a))throw new TypeError;let c=T(T({},X_),s),l=e(a,c);super(i,!1,l,null),this._nativeMediaStreamAudioDestinationNode=l}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}};var sk=(t,e,n,r)=>class extends t{constructor(i,s){let a=n(i),c=e(a,s);if(r(a))throw new TypeError;super(i,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}};var ak=(t,e,n)=>class extends t{constructor(o,i){let s=n(o),a=e(s,i);super(o,!0,a,null)}};var ck=(t,e,n,r,o)=>class extends r{constructor(s={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let a;try{a=new o(s)}catch(u){throw u.code===12&&u.message==="sampleRate is not in range"?e():u}if(a===null)throw n();if(!Sl(s.latencyHint))throw new TypeError(`The provided value '${s.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(s.sampleRate!==void 0&&a.sampleRate!==s.sampleRate)throw e();super(a,2);let{latencyHint:c}=s,{sampleRate:l}=a;if(this._baseLatency=typeof a.baseLatency=="number"?a.baseLatency:c==="balanced"?512/l:c==="interactive"||c===void 0?256/l:c==="playback"?1024/l:Math.max(2,Math.min(128,Math.round(c*l/128)))*128/l,this._nativeAudioContext=a,o.name==="webkitAudioContext"?(this._nativeGainNode=a.createGain(),this._nativeOscillatorNode=a.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(a.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,a.state==="running"){this._state="suspended";let u=()=>{this._state==="suspended"&&(this._state=null),a.removeEventListener("statechange",u)};a.addEventListener("statechange",u)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Rr(this)}))}resume(){return this._state==="suspended"?new Promise((s,a)=>{let c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?s():this.resume().then(s,a)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(s=>{throw s===void 0||s.code===15?t():s})}suspend(){return this._nativeAudioContext.suspend().catch(s=>{throw s===void 0?t():s})}};var lk=(t,e,n,r,o,i)=>class extends n{constructor(a,c){super(a),this._nativeContext=a,xi.set(this,a),r(a)&&o.set(a,new Set),this._destination=new t(this,c),this._listener=e(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){let c=typeof a=="function"?i(this,a):null;this._nativeContext.onstatechange=c;let l=this._nativeContext.onstatechange;this._onstatechange=l!==null&&l===c?a:l}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}};var _n=t=>{let e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{let n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1};var Q_={numberOfChannels:1},uk=(t,e,n,r,o)=>class extends r{constructor(s){let{length:a,numberOfChannels:c,sampleRate:l}=T(T({},Q_),s),u=n(c,a,l);t(_n,()=>_n(u))||u.addEventListener("statechange",(()=>{let d=0,p=h=>{this._state==="running"&&(d>0?(u.removeEventListener("statechange",p),h.stopImmediatePropagation(),this._waitForThePromiseToSettle(h)):d+=1)};return p})()),super(u,c),this._length=a,this._nativeOfflineAudioContext=u,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Rr(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var dk=(t,e)=>(n,r,o)=>{let i=new Set;return n.connect=(s=>(a,c=0,l=0)=>{let u=i.size===0;if(e(a))return s.call(n,a,c,l),t(i,[a,c,l],d=>d[0]===a&&d[1]===c&&d[2]===l,!0),u&&r(),a;s.call(n,a,c),t(i,[a,c],d=>d[0]===a&&d[1]===c,!0),u&&r()})(n.connect),n.disconnect=(s=>(a,c,l)=>{let u=i.size>0;if(a===void 0)s.apply(n),i.clear();else if(typeof a=="number"){s.call(n,a);for(let p of i)p[1]===a&&i.delete(p)}else{e(a)?s.call(n,a,c,l):s.call(n,a,c);for(let p of i)p[0]===a&&(c===void 0||p[1]===c)&&(l===void 0||p[2]===l)&&i.delete(p)}let d=i.size===0;u&&d&&o()})(n.disconnect),n};var ge=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n]&&(t[n]=r)};var fe=(t,e)=>{ge(t,e,"channelCount"),ge(t,e,"channelCountMode"),ge(t,e,"channelInterpretation")};var Ph=t=>typeof t.getFloatTimeDomainData=="function";var hk=t=>{t.getFloatTimeDomainData=e=>{let n=new Uint8Array(e.length);t.getByteTimeDomainData(n);let r=Math.max(n.length,t.fftSize);for(let o=0;o<r;o+=1)e[o]=(n[o]-128)*.0078125;return e}};var pk=(t,e)=>(n,r)=>{let o=n.createAnalyser();if(fe(o,r),!(r.maxDecibels>r.minDecibels))throw e();return ge(o,r,"fftSize"),ge(o,r,"maxDecibels"),ge(o,r,"minDecibels"),ge(o,r,"smoothingTimeConstant"),t(Ph,()=>Ph(o))||hk(o),o};var fk=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null;var _e=(t,e,n)=>{let r=e[n];r!==void 0&&r!==t[n].value&&(t[n].value=r)};var mk=t=>{t.start=(e=>{let n=!1;return(r=0,o=0,i)=>{if(n)throw Ve();e.call(t,r,o,i),n=!0}})(t.start)};var Ei=t=>{t.start=(e=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,o)})(t.start)};var Li=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)};var yk=(t,e,n,r,o,i,s,a,c,l,u)=>(d,p)=>{let h=d.createBufferSource();return fe(h,p),_e(h,p,"playbackRate"),ge(h,p,"buffer"),ge(h,p,"loop"),ge(h,p,"loopEnd"),ge(h,p,"loopStart"),e(n,()=>n(d))||mk(h),e(r,()=>r(d))||c(h),e(o,()=>o(d))||l(h,d),e(i,()=>i(d))||Ei(h),e(s,()=>s(d))||u(h,d),e(a,()=>a(d))||Li(h),t(d,h),h};var gk=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null;var kk=(t,e)=>(n,r,o)=>{let i=n.destination;if(i.channelCount!==r)try{i.channelCount=r}catch{}o&&i.channelCountMode!=="explicit"&&(i.channelCountMode="explicit"),i.maxChannelCount===0&&Object.defineProperty(i,"maxChannelCount",{value:r});let s=t(n,{channelCount:r,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation,gain:1});return e(s,"channelCount",a=>()=>a.call(s),a=>c=>{a.call(s,c);try{i.channelCount=c}catch(l){if(c>i.maxChannelCount)throw l}}),e(s,"channelCountMode",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelCountMode=c}),e(s,"channelInterpretation",a=>()=>a.call(s),a=>c=>{a.call(s,c),i.channelInterpretation=c}),Object.defineProperty(s,"maxChannelCount",{get:()=>i.maxChannelCount}),s.connect(i),s};var vk=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null;var Mk=t=>{let{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}};var xk=(t,e,n,r,o)=>(i,s,a,c,l,u)=>{if(a!==null)try{let d=new a(i,c,u),p=new Map,h=null;if(Object.defineProperties(d,{channelCount:{get:()=>u.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>h,set:m=>{typeof h=="function"&&d.removeEventListener("processorerror",h),h=typeof m=="function"?m:null,typeof h=="function"&&d.addEventListener("processorerror",h)}}}),d.addEventListener=(m=>(...k)=>{if(k[0]==="processorerror"){let v=typeof k[1]=="function"?k[1]:typeof k[1]=="object"&&k[1]!==null&&typeof k[1].handleEvent=="function"?k[1].handleEvent:null;if(v!==null){let _=p.get(k[1]);_!==void 0?k[1]=_:(k[1]=O=>{O.type==="error"?(Object.defineProperties(O,{type:{value:"processorerror"}}),v(O)):v(new ErrorEvent(k[0],T({},O)))},p.set(v,k[1]))}}return m.call(d,"error",k[1],k[2]),m.call(d,...k)})(d.addEventListener),d.removeEventListener=(m=>(...k)=>{if(k[0]==="processorerror"){let v=p.get(k[1]);v!==void 0&&(p.delete(k[1]),k[1]=v)}return m.call(d,"error",k[1],k[2]),m.call(d,k[0],k[1],k[2])})(d.removeEventListener),u.numberOfOutputs!==0){let m=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(m).connect(i.destination),o(d,()=>m.disconnect(),()=>m.connect(i.destination))}return d}catch(d){throw d.code===11?r():d}if(l===void 0)throw r();return Mk(u),e(i,s,l,u)};var Ll=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e)))));var _k=t=>new Promise((e,n)=>{let{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:i})=>{r.close(),o.close(),e(i)},r.onmessageerror=({data:i})=>{r.close(),o.close(),n(i)},o.postMessage(t)});var wk=async(t,e)=>{let n=await _k(e);return new t(n)};var Ck=(t,e,n,r)=>{let o=ya.get(t);o===void 0&&(o=new WeakMap,ya.set(t,o));let i=wk(n,r);return o.set(e,i),i};var bk=(t,e,n,r,o,i,s,a,c,l,u,d,p)=>(h,m,k,v)=>{if(v.numberOfInputs===0&&v.numberOfOutputs===0)throw c();let _=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(_.some(z=>z<1))throw c();if(_.length!==v.numberOfOutputs)throw e();if(v.channelCountMode!=="explicit")throw c();let O=v.channelCount*v.numberOfInputs,F=_.reduce((z,te)=>z+te,0),P=k.parameterDescriptors===void 0?0:k.parameterDescriptors.length;if(O+P>6||F>6)throw c();let N=new MessageChannel,E=[],b=[];for(let z=0;z<v.numberOfInputs;z+=1)E.push(s(h,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),b.push(o(h,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));let S=[];if(k.parameterDescriptors!==void 0)for(let{defaultValue:z,maxValue:te,minValue:tt,name:qe}of k.parameterDescriptors){let Me=i(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:v.parameterData[qe]!==void 0?v.parameterData[qe]:z===void 0?0:z});Object.defineProperties(Me.offset,{defaultValue:{get:()=>z===void 0?0:z},maxValue:{get:()=>te===void 0?Be:te},minValue:{get:()=>tt===void 0?We:tt}}),S.push(Me)}let q=r(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,O+P)}),G=Ll(m,h.sampleRate),g=a(h,G,O+P,Math.max(1,F)),f=o(h,{channelCount:Math.max(1,F),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,F)}),C=[];for(let z=0;z<v.numberOfOutputs;z+=1)C.push(r(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:_[z]}));for(let z=0;z<v.numberOfInputs;z+=1){E[z].connect(b[z]);for(let te=0;te<v.channelCount;te+=1)b[z].connect(q,te,z*v.channelCount+te)}let y=new Si(k.parameterDescriptors===void 0?[]:k.parameterDescriptors.map(({name:z},te)=>{let tt=S[te];return tt.connect(q,0,O+te),tt.start(0),[z,tt.offset]}));q.connect(g);let M=v.channelInterpretation,w=null,I=v.numberOfOutputs===0?[g]:C,R={get bufferSize(){return G},get channelCount(){return v.channelCount},set channelCount(z){throw n()},get channelCountMode(){return v.channelCountMode},set channelCountMode(z){throw n()},get channelInterpretation(){return M},set channelInterpretation(z){for(let te of E)te.channelInterpretation=z;M=z},get context(){return g.context},get inputs(){return E},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get onprocessorerror(){return w},set onprocessorerror(z){typeof w=="function"&&R.removeEventListener("processorerror",w),w=typeof z=="function"?z:null,typeof w=="function"&&R.addEventListener("processorerror",w)},get parameters(){return y},get port(){return N.port2},addEventListener(...z){return g.addEventListener(z[0],z[1],z[2])},connect:t.bind(null,I),disconnect:l.bind(null,I),dispatchEvent(...z){return g.dispatchEvent(z[0])},removeEventListener(...z){return g.removeEventListener(z[0],z[1],z[2])}},L=new Map;N.port1.addEventListener=(z=>(...te)=>{if(te[0]==="message"){let tt=typeof te[1]=="function"?te[1]:typeof te[1]=="object"&&te[1]!==null&&typeof te[1].handleEvent=="function"?te[1].handleEvent:null;if(tt!==null){let qe=L.get(te[1]);qe!==void 0?te[1]=qe:(te[1]=Me=>{u(h.currentTime,h.sampleRate,()=>tt(Me))},L.set(tt,te[1]))}}return z.call(N.port1,te[0],te[1],te[2])})(N.port1.addEventListener),N.port1.removeEventListener=(z=>(...te)=>{if(te[0]==="message"){let tt=L.get(te[1]);tt!==void 0&&(L.delete(te[1]),te[1]=tt)}return z.call(N.port1,te[0],te[1],te[2])})(N.port1.removeEventListener);let A=null;Object.defineProperty(N.port1,"onmessage",{get:()=>A,set:z=>{typeof A=="function"&&N.port1.removeEventListener("message",A),A=typeof z=="function"?z:null,typeof A=="function"&&(N.port1.addEventListener("message",A),N.port1.start())}}),k.prototype.port=N.port1;let B=null;Ck(h,R,k,v).then(z=>B=z);let W=Ai(v.numberOfInputs,v.channelCount),Ae=Ai(v.numberOfOutputs,_),ke=k.parameterDescriptors===void 0?[]:k.parameterDescriptors.reduce((z,{name:te})=>j(T({},z),{[te]:new Float32Array(128)}),{}),ee=!0,X=()=>{v.numberOfOutputs>0&&g.disconnect(f);for(let z=0,te=0;z<v.numberOfOutputs;z+=1){let tt=C[z];for(let qe=0;qe<_[z];qe+=1)f.disconnect(tt,te+qe,qe);te+=_[z]}},ve=new Map;g.onaudioprocess=({inputBuffer:z,outputBuffer:te})=>{if(B!==null){let tt=d(R);for(let qe=0;qe<G;qe+=128){for(let Me=0;Me<v.numberOfInputs;Me+=1)for(let je=0;je<v.channelCount;je+=1)Di(z,W[Me],je,je,qe);k.parameterDescriptors!==void 0&&k.parameterDescriptors.forEach(({name:Me},je)=>{Di(z,ke,Me,O+je,qe)});for(let Me=0;Me<v.numberOfInputs;Me+=1)for(let je=0;je<_[Me];je+=1)Ae[Me][je].byteLength===0&&(Ae[Me][je]=new Float32Array(128));try{let Me=W.map((Kt,yr)=>{if(tt[yr].size>0)return ve.set(yr,G/128),Kt;let hu=ve.get(yr);return hu===void 0?[]:(Kt.every(N4=>N4.every(O4=>O4===0))&&(hu===1?ve.delete(yr):ve.set(yr,hu-1)),Kt)});ee=u(h.currentTime+qe/h.sampleRate,h.sampleRate,()=>B.process(Me,Ae,ke));for(let Kt=0,yr=0;Kt<v.numberOfOutputs;Kt+=1){for(let ts=0;ts<_[Kt];ts+=1)Al(te,Ae[Kt],ts,yr+ts,qe);yr+=_[Kt]}}catch(Me){ee=!1,R.dispatchEvent(new ErrorEvent("processorerror",{colno:Me.colno,filename:Me.filename,lineno:Me.lineno,message:Me.message}))}if(!ee){for(let Me=0;Me<v.numberOfInputs;Me+=1){E[Me].disconnect(b[Me]);for(let je=0;je<v.channelCount;je+=1)b[qe].disconnect(q,je,Me*v.channelCount+je)}if(k.parameterDescriptors!==void 0){let Me=k.parameterDescriptors.length;for(let je=0;je<Me;je+=1){let Kt=S[je];Kt.disconnect(q,0,O+je),Kt.stop()}}q.disconnect(g),g.onaudioprocess=null,Oe?X():Qt();break}}}};let Oe=!1,U=s(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),st=()=>g.connect(U).connect(h.destination),Qt=()=>{g.disconnect(U),U.disconnect()},An=()=>{if(ee){Qt(),v.numberOfOutputs>0&&g.connect(f);for(let z=0,te=0;z<v.numberOfOutputs;z+=1){let tt=C[z];for(let qe=0;qe<_[z];qe+=1)f.connect(tt,te+qe,qe);te+=_[z]}}Oe=!0},mr=()=>{ee&&(st(),X()),Oe=!1};return st(),p(R,An,mr)};var Vh=(t,e)=>{let n=t.createBiquadFilter();return fe(n,e),_e(n,e,"Q"),_e(n,e,"detune"),_e(n,e,"frequency"),_e(n,e,"gain"),ge(n,e,"type"),n};var Ik=(t,e)=>(n,r)=>{let o=n.createChannelMerger(r.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,o),fe(o,r),o};var Sk=t=>{let e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Ve()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Ve()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Ve()}})};var Ni=(t,e)=>{let n=t.createChannelSplitter(e.numberOfOutputs);return fe(n,e),Sk(n),n};var Dk=(t,e,n,r,o)=>(i,s)=>{if(i.createConstantSource===void 0)return n(i,s);let a=i.createConstantSource();return fe(a,s),_e(a,s,"offset"),e(r,()=>r(i))||Ei(a),e(o,()=>o(i))||Li(a),t(i,a),a};var cn=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t);var Ak=(t,e,n,r)=>(o,a)=>{var c=a,{offset:i}=c,s=gr(c,["offset"]);let l=o.createBuffer(1,2,44100),u=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=n(o,j(T({},s),{gain:i})),p=l.getChannelData(0);p[0]=1,p[1]=1,u.buffer=l,u.loop=!0;let h={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(v){d.channelCount=v},get channelCountMode(){return d.channelCountMode},set channelCountMode(v){d.channelCountMode=v},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(v){d.channelInterpretation=v},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return u.onended},set onended(v){u.onended=v},addEventListener(...v){return u.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return u.dispatchEvent(v[0])},removeEventListener(...v){return u.removeEventListener(v[0],v[1],v[2])},start(v=0){u.start.call(u,v)},stop(v=0){u.stop.call(u,v)}},m=()=>u.connect(d),k=()=>u.disconnect(d);return t(o,u),r(cn(h,d),m,k)};var Tk=(t,e)=>(n,r)=>{let o=n.createConvolver();if(fe(o,r),r.disableNormalization===o.normalize&&(o.normalize=!r.disableNormalization),ge(o,r,"buffer"),r.channelCount>2||(e(o,"channelCount",i=>()=>i.call(o),i=>s=>{if(s>2)throw t();return i.call(o,s)}),r.channelCountMode==="max"))throw t();return e(o,"channelCountMode",i=>()=>i.call(o),i=>s=>{if(s==="max")throw t();return i.call(o,s)}),o};var qh=(t,e)=>{let n=t.createDelay(e.maxDelayTime);return fe(n,e),_e(n,e,"delayTime"),n};var Ek=t=>(e,n)=>{let r=e.createDynamicsCompressor();if(fe(r,n),n.channelCount>2||n.channelCountMode==="max")throw t();return _e(r,n,"attack"),_e(r,n,"knee"),_e(r,n,"ratio"),_e(r,n,"release"),_e(r,n,"threshold"),r};var St=(t,e)=>{let n=t.createGain();return fe(n,e),_e(n,e,"gain"),n};var Lk=t=>(e,n,r)=>{if(e.createIIRFilter===void 0)return t(e,n,r);let o=e.createIIRFilter(r.feedforward,r.feedback);return fe(o,r),o};function K_(t,e){let n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Y_(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Nk(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Y_(n,e),n[0]+=t[r];return n}var Ok=(t,e,n,r)=>(o,i,{channelCount:s,channelCountMode:a,channelInterpretation:c,feedback:l,feedforward:u})=>{let d=Ll(i,o.sampleRate),p=l instanceof Float64Array?l:new Float64Array(l),h=u instanceof Float64Array?u:new Float64Array(u),m=p.length,k=h.length,v=Math.min(m,k);if(m===0||m>20)throw r();if(p[0]===0)throw e();if(k===0||k>20)throw r();if(h[0]===0)throw e();if(p[0]!==1){for(let S=0;S<k;S+=1)h[S]/=p[0];for(let S=1;S<m;S+=1)p[S]/=p[0]}let _=n(o,d,s,s);_.channelCount=s,_.channelCountMode=a,_.channelInterpretation=c;let O=32,F=[],P=[],N=[];for(let S=0;S<s;S+=1){F.push(0);let q=new Float32Array(O),G=new Float32Array(O);q.fill(0),G.fill(0),P.push(q),N.push(G)}_.onaudioprocess=S=>{let q=S.inputBuffer,G=S.outputBuffer,g=q.numberOfChannels;for(let f=0;f<g;f+=1){let C=q.getChannelData(f),y=G.getChannelData(f);F[f]=El(p,m,h,k,v,P[f],N[f],F[f],O,C,y)}};let E=o.sampleRate/2;return cn({get bufferSize(){return d},get channelCount(){return _.channelCount},set channelCount(S){_.channelCount=S},get channelCountMode(){return _.channelCountMode},set channelCountMode(S){_.channelCountMode=S},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(S){_.channelInterpretation=S},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener(...S){return _.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return _.dispatchEvent(S[0])},getFrequencyResponse(S,q,G){if(S.length!==q.length||q.length!==G.length)throw t();let g=S.length;for(let f=0;f<g;f+=1){let C=-Math.PI*(S[f]/E),y=[Math.cos(C),Math.sin(C)],M=Nk(h,y),w=Nk(p,y),I=K_(M,w);q[f]=Math.sqrt(I[0]*I[0]+I[1]*I[1]),G[f]=Math.atan2(I[1],I[0])}},removeEventListener(...S){return _.removeEventListener(S[0],S[1],S[2])}},_)};var Fk=(t,e)=>t.createMediaElementSource(e.mediaElement);var Rk=(t,e)=>{let n=t.createMediaStreamDestination();return fe(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n};var Pk=(t,{mediaStream:e})=>{let n=e.getAudioTracks();n.sort((i,s)=>i.id<s.id?-1:i.id>s.id?1:0);let r=n.slice(0,1),o=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:e}),o};var Vk=(t,e)=>(n,{mediaStreamTrack:r})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(r);let o=new MediaStream([r]),i=n.createMediaStreamSource(o);if(r.kind!=="audio")throw t();if(e(n))throw new TypeError;return i};var qk=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null;var jk=(t,e,n,r,o,i)=>(s,a)=>{let c=s.createOscillator();return fe(c,a),_e(c,a,"detune"),_e(c,a,"frequency"),a.periodicWave!==void 0?c.setPeriodicWave(a.periodicWave):ge(c,a,"type"),e(n,()=>n(s))||Ei(c),e(r,()=>r(s))||i(c,s),e(o,()=>o(s))||Li(c),t(s,c),c};var Hk=t=>(e,n)=>{let r=e.createPanner();return r.orientationX===void 0?t(e,n):(fe(r,n),_e(r,n,"orientationX"),_e(r,n,"orientationY"),_e(r,n,"orientationZ"),_e(r,n,"positionX"),_e(r,n,"positionY"),_e(r,n,"positionZ"),ge(r,n,"coneInnerAngle"),ge(r,n,"coneOuterAngle"),ge(r,n,"coneOuterGain"),ge(r,n,"distanceModel"),ge(r,n,"maxDistance"),ge(r,n,"panningModel"),ge(r,n,"refDistance"),ge(r,n,"rolloffFactor"),r)};var Bk=(t,e,n,r,o,i,s,a,c,l)=>(u,G)=>{var g=G,{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:h,distanceModel:m,maxDistance:k,orientationX:v,orientationY:_,orientationZ:O,panningModel:F,positionX:P,positionY:N,positionZ:E,refDistance:b,rolloffFactor:S}=g,q=gr(g,["coneInnerAngle","coneOuterAngle","coneOuterGain","distanceModel","maxDistance","orientationX","orientationY","orientationZ","panningModel","positionX","positionY","positionZ","refDistance","rolloffFactor"]);let f=u.createPanner();if(q.channelCount>2||q.channelCountMode==="max")throw s();fe(f,q);let C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},y=n(u,j(T({},C),{channelInterpretation:"speakers",numberOfInputs:6})),M=r(u,j(T({},q),{gain:1})),w=r(u,j(T({},C),{gain:1})),I=r(u,j(T({},C),{gain:0})),R=r(u,j(T({},C),{gain:0})),L=r(u,j(T({},C),{gain:0})),A=r(u,j(T({},C),{gain:0})),B=r(u,j(T({},C),{gain:0})),J=o(u,256,6,1),W=i(u,j(T({},C),{curve:new Float32Array([1,1]),oversample:"none"})),Ae=[v,_,O],ke=[P,N,E],ee=new Float32Array(1);J.onaudioprocess=({inputBuffer:U})=>{let st=[c(U,ee,0),c(U,ee,1),c(U,ee,2)];st.some((An,mr)=>An!==Ae[mr])&&(f.setOrientation(...st),Ae=st);let Qt=[c(U,ee,3),c(U,ee,4),c(U,ee,5)];Qt.some((An,mr)=>An!==ke[mr])&&(f.setPosition(...Qt),ke=Qt)},Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(L.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0});let X={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(U){if(U>2)throw s();M.channelCount=U,f.channelCount=U},get channelCountMode(){return f.channelCountMode},set channelCountMode(U){if(U==="max")throw s();M.channelCountMode=U,f.channelCountMode=U},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(U){M.channelInterpretation=U,f.channelInterpretation=U},get coneInnerAngle(){return f.coneInnerAngle},set coneInnerAngle(U){f.coneInnerAngle=U},get coneOuterAngle(){return f.coneOuterAngle},set coneOuterAngle(U){f.coneOuterAngle=U},get coneOuterGain(){return f.coneOuterGain},set coneOuterGain(U){if(U<0||U>1)throw e();f.coneOuterGain=U},get context(){return f.context},get distanceModel(){return f.distanceModel},set distanceModel(U){f.distanceModel=U},get inputs(){return[M]},get maxDistance(){return f.maxDistance},set maxDistance(U){if(U<0)throw new RangeError;f.maxDistance=U},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get orientationX(){return w.gain},get orientationY(){return I.gain},get orientationZ(){return R.gain},get panningModel(){return f.panningModel},set panningModel(U){f.panningModel=U},get positionX(){return L.gain},get positionY(){return A.gain},get positionZ(){return B.gain},get refDistance(){return f.refDistance},set refDistance(U){if(U<0)throw new RangeError;f.refDistance=U},get rolloffFactor(){return f.rolloffFactor},set rolloffFactor(U){if(U<0)throw new RangeError;f.rolloffFactor=U},addEventListener(...U){return M.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return M.dispatchEvent(U[0])},removeEventListener(...U){return M.removeEventListener(U[0],U[1],U[2])}};d!==X.coneInnerAngle&&(X.coneInnerAngle=d),p!==X.coneOuterAngle&&(X.coneOuterAngle=p),h!==X.coneOuterGain&&(X.coneOuterGain=h),m!==X.distanceModel&&(X.distanceModel=m),k!==X.maxDistance&&(X.maxDistance=k),v!==X.orientationX.value&&(X.orientationX.value=v),_!==X.orientationY.value&&(X.orientationY.value=_),O!==X.orientationZ.value&&(X.orientationZ.value=O),F!==X.panningModel&&(X.panningModel=F),P!==X.positionX.value&&(X.positionX.value=P),N!==X.positionY.value&&(X.positionY.value=N),E!==X.positionZ.value&&(X.positionZ.value=E),b!==X.refDistance&&(X.refDistance=b),S!==X.rolloffFactor&&(X.rolloffFactor=S),(Ae[0]!==1||Ae[1]!==0||Ae[2]!==0)&&f.setOrientation(...Ae),(ke[0]!==0||ke[1]!==0||ke[2]!==0)&&f.setPosition(...ke);let ve=()=>{M.connect(f),t(M,W,0,0),W.connect(w).connect(y,0,0),W.connect(I).connect(y,0,1),W.connect(R).connect(y,0,2),W.connect(L).connect(y,0,3),W.connect(A).connect(y,0,4),W.connect(B).connect(y,0,5),y.connect(J).connect(u.destination)},Oe=()=>{M.disconnect(f),a(M,W,0,0),W.disconnect(w),w.disconnect(y),W.disconnect(I),I.disconnect(y),W.disconnect(R),R.disconnect(y),W.disconnect(L),L.disconnect(y),W.disconnect(A),A.disconnect(y),W.disconnect(B),B.disconnect(y),y.disconnect(J),J.disconnect(u.destination)};return l(cn(X,f),ve,Oe)};var zk=t=>(e,{disableNormalization:n,imag:r,real:o})=>{let i=r instanceof Float32Array?r:new Float32Array(r),s=o instanceof Float32Array?o:new Float32Array(o),a=e.createPeriodicWave(s,i,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a};var Oi=(t,e,n,r)=>t.createScriptProcessor(e,n,r);var Uk=(t,e)=>(n,r)=>{let o=r.channelCountMode;if(o==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,r);let i=n.createStereoPanner();return fe(i,r),_e(i,r,"pan"),Object.defineProperty(i,"channelCountMode",{get:()=>o,set:s=>{if(s!==o)throw e()}}),i};var Gk=(t,e,n,r,o,i)=>{let a=new Float32Array([1,1]),c=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},u=j(T({},l),{oversample:"none"}),d=(m,k,v,_)=>{let O=new Float32Array(16385),F=new Float32Array(16385);for(let q=0;q<16385;q+=1){let G=q/16384*c;O[q]=Math.cos(G),F[q]=Math.sin(G)}let P=n(m,j(T({},l),{gain:0})),N=r(m,j(T({},u),{curve:O})),E=r(m,j(T({},u),{curve:a})),b=n(m,j(T({},l),{gain:0})),S=r(m,j(T({},u),{curve:F}));return{connectGraph(){k.connect(P),k.connect(E.inputs===void 0?E:E.inputs[0]),k.connect(b),E.connect(v),v.connect(N.inputs===void 0?N:N.inputs[0]),v.connect(S.inputs===void 0?S:S.inputs[0]),N.connect(P.gain),S.connect(b.gain),P.connect(_,0,0),b.connect(_,0,1)},disconnectGraph(){k.disconnect(P),k.disconnect(E.inputs===void 0?E:E.inputs[0]),k.disconnect(b),E.disconnect(v),v.disconnect(N.inputs===void 0?N:N.inputs[0]),v.disconnect(S.inputs===void 0?S:S.inputs[0]),N.disconnect(P.gain),S.disconnect(b.gain),P.disconnect(_,0,0),b.disconnect(_,0,1)}}},p=(m,k,v,_)=>{let O=new Float32Array(16385),F=new Float32Array(16385),P=new Float32Array(16385),N=new Float32Array(16385),E=Math.floor(16385/2);for(let I=0;I<16385;I+=1)if(I>E){let R=(I-E)/(16384-E)*c;O[I]=Math.cos(R),F[I]=Math.sin(R),P[I]=0,N[I]=1}else{let R=I/(16384-E)*c;O[I]=1,F[I]=0,P[I]=Math.cos(R),N[I]=Math.sin(R)}let b=e(m,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),S=n(m,j(T({},l),{gain:0})),q=r(m,j(T({},u),{curve:O})),G=n(m,j(T({},l),{gain:0})),g=r(m,j(T({},u),{curve:F})),f=r(m,j(T({},u),{curve:a})),C=n(m,j(T({},l),{gain:0})),y=r(m,j(T({},u),{curve:P})),M=n(m,j(T({},l),{gain:0})),w=r(m,j(T({},u),{curve:N}));return{connectGraph(){k.connect(b),k.connect(f.inputs===void 0?f:f.inputs[0]),b.connect(S,0),b.connect(G,0),b.connect(C,1),b.connect(M,1),f.connect(v),v.connect(q.inputs===void 0?q:q.inputs[0]),v.connect(g.inputs===void 0?g:g.inputs[0]),v.connect(y.inputs===void 0?y:y.inputs[0]),v.connect(w.inputs===void 0?w:w.inputs[0]),q.connect(S.gain),g.connect(G.gain),y.connect(C.gain),w.connect(M.gain),S.connect(_,0,0),C.connect(_,0,0),G.connect(_,0,1),M.connect(_,0,1)},disconnectGraph(){k.disconnect(b),k.disconnect(f.inputs===void 0?f:f.inputs[0]),b.disconnect(S,0),b.disconnect(G,0),b.disconnect(C,1),b.disconnect(M,1),f.disconnect(v),v.disconnect(q.inputs===void 0?q:q.inputs[0]),v.disconnect(g.inputs===void 0?g:g.inputs[0]),v.disconnect(y.inputs===void 0?y:y.inputs[0]),v.disconnect(w.inputs===void 0?w:w.inputs[0]),q.disconnect(S.gain),g.disconnect(G.gain),y.disconnect(C.gain),w.disconnect(M.gain),S.disconnect(_,0,0),C.disconnect(_,0,0),G.disconnect(_,0,1),M.disconnect(_,0,1)}}},h=(m,k,v,_,O)=>{if(k===1)return d(m,v,_,O);if(k===2)return p(m,v,_,O);throw o()};return(m,F)=>{var P=F,{channelCount:k,channelCountMode:v,pan:_}=P,O=gr(P,["channelCount","channelCountMode","pan"]);if(v==="max")throw o();let N=t(m,j(T({},O),{channelCount:1,channelCountMode:v,numberOfInputs:2})),E=n(m,j(T({},O),{channelCount:k,channelCountMode:v,gain:1})),b=n(m,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:_}),{connectGraph:S,disconnectGraph:q}=h(m,k,E,b,N);Object.defineProperty(b.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"maxValue",{get:()=>1}),Object.defineProperty(b.gain,"minValue",{get:()=>-1});let G={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(y){E.channelCount!==y&&(g&&q(),{connectGraph:S,disconnectGraph:q}=h(m,y,E,b,N),g&&S()),E.channelCount=y},get channelCountMode(){return E.channelCountMode},set channelCountMode(y){if(y==="clamped-max"||y==="max")throw o();E.channelCountMode=y},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(y){E.channelInterpretation=y},get context(){return E.context},get inputs(){return[E]},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get pan(){return b.gain},addEventListener(...y){return E.addEventListener(y[0],y[1],y[2])},dispatchEvent(...y){return E.dispatchEvent(y[0])},removeEventListener(...y){return E.removeEventListener(y[0],y[1],y[2])}},g=!1,f=()=>{S(),g=!0},C=()=>{q(),g=!1};return i(cn(G,N),f,C)}};var Wk=(t,e,n,r,o,i,s)=>(a,c)=>{let l=a.createWaveShaper();if(i!==null&&i.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return n(a,c);fe(l,c);let u=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(u!==null&&u.length<2)throw e();ge(l,{curve:u},"curve"),ge(l,c,"oversample");let d=null,p=!1;return s(l,"curve",k=>()=>k.call(l),k=>v=>(k.call(l,v),p&&(r(v)&&d===null?d=t(a,l):!r(v)&&d!==null&&(d(),d=null)),v)),o(l,()=>{p=!0,r(l.curve)&&(d=t(a,l))},()=>{p=!1,d!==null&&(d(),d=null)})};var $k=(t,e,n,r,o)=>(i,l)=>{var u=l,{curve:s,oversample:a}=u,c=gr(u,["curve","oversample"]);let d=i.createWaveShaper(),p=i.createWaveShaper();fe(d,c),fe(p,c);let h=n(i,j(T({},c),{gain:1})),m=n(i,j(T({},c),{gain:-1})),k=n(i,j(T({},c),{gain:1})),v=n(i,j(T({},c),{gain:-1})),_=null,O=!1,F=null,P={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(b){h.channelCount=b,m.channelCount=b,d.channelCount=b,k.channelCount=b,p.channelCount=b,v.channelCount=b},get channelCountMode(){return d.channelCountMode},set channelCountMode(b){h.channelCountMode=b,m.channelCountMode=b,d.channelCountMode=b,k.channelCountMode=b,p.channelCountMode=b,v.channelCountMode=b},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(b){h.channelInterpretation=b,m.channelInterpretation=b,d.channelInterpretation=b,k.channelInterpretation=b,p.channelInterpretation=b,v.channelInterpretation=b},get context(){return d.context},get curve(){return F},set curve(b){if(b!==null&&b.length<2)throw e();if(b===null)d.curve=b,p.curve=b;else{let S=b.length,q=new Float32Array(S+2-S%2),G=new Float32Array(S+2-S%2);q[0]=b[0],G[0]=-b[S-1];let g=Math.ceil((S+1)/2),f=(S+1)/2-1;for(let C=1;C<g;C+=1){let y=C/g*f,M=Math.floor(y),w=Math.ceil(y);q[C]=M===w?b[M]:(1-(y-M))*b[M]+(1-(w-y))*b[w],G[C]=M===w?-b[S-1-M]:-((1-(y-M))*b[S-1-M])-(1-(w-y))*b[S-1-w]}q[g]=S%2===1?b[g-1]:(b[g-2]+b[g-1])/2,d.curve=q,p.curve=G}F=b,O&&(r(F)&&_===null?_=t(i,h):_!==null&&(_(),_=null))},get inputs(){return[h]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(b){d.oversample=b,p.oversample=b},addEventListener(...b){return h.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return h.dispatchEvent(b[0])},removeEventListener(...b){return h.removeEventListener(b[0],b[1],b[2])}};s!==null&&(P.curve=s instanceof Float32Array?s:new Float32Array(s)),a!==P.oversample&&(P.oversample=a);let N=()=>{h.connect(d).connect(k),h.connect(m).connect(p).connect(v).connect(k),O=!0,r(F)&&(_=t(i,h))},E=()=>{h.disconnect(d),d.disconnect(k),h.disconnect(m),m.disconnect(p),p.disconnect(v),v.disconnect(k),O=!1,_!==null&&(_(),_=null)};return o(cn(P,k),N,E)};var ft=()=>new DOMException("","NotSupportedError");var J_={numberOfChannels:1},Zk=(t,e,n,r,o)=>class extends t{constructor(s,a,c){let l;if(typeof s=="number"&&a!==void 0&&c!==void 0)l={length:a,numberOfChannels:s,sampleRate:c};else if(typeof s=="object")l=s;else throw new Error("The given parameters are not valid.");let{length:u,numberOfChannels:d,sampleRate:p}=T(T({},J_),l),h=r(d,u,p);e(_n,()=>_n(h))||h.addEventListener("statechange",(()=>{let m=0,k=v=>{this._state==="running"&&(m>0?(h.removeEventListener("statechange",k),v.stopImmediatePropagation(),this._waitForThePromiseToSettle(v)):m+=1)};return k})()),super(h,d),this._length=u,this._nativeOfflineAudioContext=h,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Rr(this)}))}_waitForThePromiseToSettle(s){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(s):setTimeout(()=>this._waitForThePromiseToSettle(s))}};var ew={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Xk=(t,e,n,r,o,i,s)=>class extends t{constructor(c,l){let u=o(c),d=T(T({},ew),l),p=n(u,d),h=i(u),m=h?r():null,k=c.sampleRate/2;super(c,!1,p,m),this._detune=e(this,h,p.detune,153600,-153600),this._frequency=e(this,h,p.frequency,k,-k),this._nativeOscillatorNode=p,this._onended=null,this._oscillatorNodeRenderer=m,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){let l=typeof c=="function"?s(this,c):null;this._nativeOscillatorNode.onended=l;let u=this._nativeOscillatorNode.onended;this._onended=u!==null&&u===l?c:u}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){Mn(this);let l=()=>{this._nativeOscillatorNode.removeEventListener("ended",l),It(this)&&Zn(this)};this._nativeOscillatorNode.addEventListener("ended",l)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}};var Qk=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=null,a=null,c=null,l=async(u,d)=>{let p=n(u),h=ye(p,d);if(!h){let m={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,periodicWave:s===null?void 0:s,type:p.type};p=e(d,m),a!==null&&p.start(a),c!==null&&p.stop(c)}return i.set(d,p),h?(await t(d,u.detune,p.detune),await t(d,u.frequency,p.frequency)):(await r(d,u.detune,p.detune),await r(d,u.frequency,p.frequency)),await o(u,d,p),p};return{set periodicWave(u){s=u},set start(u){a=u},set stop(u){c=u},render(u,d){let p=i.get(d);return p!==void 0?Promise.resolve(p):l(u,d)}}};var tw={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Kk=(t,e,n,r,o,i,s)=>class extends t{constructor(c,l){let u=o(c),d=T(T({},tw),l),p=n(u,d),h=i(u),m=h?r():null;super(c,!1,p,m),this._nativePannerNode=p,this._orientationX=e(this,h,p.orientationX,Be,We),this._orientationY=e(this,h,p.orientationY,Be,We),this._orientationZ=e(this,h,p.orientationZ,Be,We),this._positionX=e(this,h,p.positionX,Be,We),this._positionY=e(this,h,p.positionY,Be,We),this._positionZ=e(this,h,p.positionZ,Be,We),s(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}};var Yk=(t,e,n,r,o,i,s,a,c,l)=>()=>{let u=new WeakMap,d=null,p=async(h,m)=>{let k=null,v=i(h),_={channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation},O=j(T({},_),{coneInnerAngle:v.coneInnerAngle,coneOuterAngle:v.coneOuterAngle,coneOuterGain:v.coneOuterGain,distanceModel:v.distanceModel,maxDistance:v.maxDistance,panningModel:v.panningModel,refDistance:v.refDistance,rolloffFactor:v.rolloffFactor}),F=ye(v,m);if("bufferSize"in v)k=r(m,j(T({},_),{gain:1}));else if(!F){let P=j(T({},O),{orientationX:v.orientationX.value,orientationY:v.orientationY.value,orientationZ:v.orientationZ.value,positionX:v.positionX.value,positionY:v.positionY.value,positionZ:v.positionZ.value});v=o(m,P)}if(u.set(m,k===null?v:k),k!==null){if(d===null){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");let g=new s(6,h.context.length,m.sampleRate),f=e(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});f.connect(g.destination),d=(async()=>{let C=await Promise.all([h.orientationX,h.orientationY,h.orientationZ,h.positionX,h.positionY,h.positionZ].map(async(y,M)=>{let w=n(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:M===0?1:0});return await a(g,y,w.offset),w}));for(let y=0;y<6;y+=1)C[y].connect(f,0,y),C[y].start(0);return l(g)})()}let P=await d,N=r(m,j(T({},_),{gain:1}));await c(h,m,N);let E=[];for(let g=0;g<P.numberOfChannels;g+=1)E.push(P.getChannelData(g));let b=[E[0][0],E[1][0],E[2][0]],S=[E[3][0],E[4][0],E[5][0]],q=r(m,j(T({},_),{gain:1})),G=o(m,j(T({},O),{orientationX:b[0],orientationY:b[1],orientationZ:b[2],positionX:S[0],positionY:S[1],positionZ:S[2]}));N.connect(q).connect(G.inputs[0]),G.connect(k);for(let g=128;g<P.length;g+=128){let f=[E[0][g],E[1][g],E[2][g]],C=[E[3][g],E[4][g],E[5][g]];if(f.some((y,M)=>y!==b[M])||C.some((y,M)=>y!==S[M])){b=f,S=C;let y=g/m.sampleRate;q.gain.setValueAtTime(0,y),q=r(m,j(T({},_),{gain:0})),G=o(m,j(T({},O),{orientationX:b[0],orientationY:b[1],orientationZ:b[2],positionX:S[0],positionY:S[1],positionZ:S[2]})),q.gain.setValueAtTime(1,y),N.connect(q).connect(G.inputs[0]),G.connect(k)}}return k}return F?(await t(m,h.orientationX,v.orientationX),await t(m,h.orientationY,v.orientationY),await t(m,h.orientationZ,v.orientationZ),await t(m,h.positionX,v.positionX),await t(m,h.positionY,v.positionY),await t(m,h.positionZ,v.positionZ)):(await a(m,h.orientationX,v.orientationX),await a(m,h.orientationY,v.orientationY),await a(m,h.orientationZ,v.orientationZ),await a(m,h.positionX,v.positionX),await a(m,h.positionY,v.positionY),await a(m,h.positionZ,v.positionZ)),an(v)?await c(h,m,v.inputs[0]):await c(h,m,v),v};return{render(h,m){let k=u.get(m);return k!==void 0?Promise.resolve(k):p(h,m)}}};var nw={disableNormalization:!1},Jk=(t,e,n,r)=>class ev{constructor(i,s){let a=e(i),c=r(T(T({},nw),s)),l=t(a,c);return n.add(l),l}static[Symbol.hasInstance](i){return i!==null&&typeof i=="object"&&Object.getPrototypeOf(i)===ev.prototype||n.has(i)}};var tv=(t,e)=>(n,r,o)=>(t(r).replay(o),e(r,n,o));var nv=(t,e,n)=>async(r,o,i)=>{let s=t(r);await Promise.all(s.activeInputs.map((a,c)=>Array.from(a).map(async([l,u])=>{let p=await e(l).render(l,o),h=r.context.destination;!n(l)&&(r!==h||!n(r))&&p.connect(i,u,c)})).reduce((a,c)=>[...a,...c],[]))};var rv=(t,e,n)=>async(r,o,i)=>{let s=e(r);await Promise.all(Array.from(s.activeInputs).map(async([a,c])=>{let u=await t(a).render(a,o);n(a)||u.connect(i,c)}))};var ov=(t,e,n,r)=>o=>t(_n,()=>_n(o))?Promise.resolve(t(r,r)).then(i=>{if(!i){let s=n(o,512,0,1);o.oncomplete=()=>{s.onaudioprocess=null,s.disconnect()},s.onaudioprocess=()=>o.currentTime,s.connect(o.destination)}return o.startRendering()}):new Promise(i=>{let s=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=a=>{s.disconnect(),i(a.renderedBuffer)},s.connect(o.destination),o.startRendering()});var iv=t=>(e,n)=>{t.set(e,n)};var sv=t=>(e,n)=>t.set(e,n);var av=(t,e,n,r,o,i,s,a)=>(c,l)=>n(c).render(c,l).then(()=>Promise.all(Array.from(r(l)).map(u=>n(u).render(u,l)))).then(()=>o(l)).then(u=>(typeof u.copyFromChannel!="function"?(s(u),wi(u)):e(i,()=>i(u))||a(u),t.add(u),u));var rw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},cv=(t,e,n,r,o,i)=>class extends t{constructor(a,c){let l=o(a),u=T(T({},rw),c),d=n(l,u),p=i(l),h=p?r():null;super(a,!1,d,h),this._pan=e(this,p,d.pan)}get pan(){return this._pan}};var lv=(t,e,n,r,o)=>()=>{let i=new WeakMap,s=async(a,c)=>{let l=n(a),u=ye(l,c);if(!u){let d={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(c,d)}return i.set(c,l),u?await t(c,a.pan,l.pan):await r(c,a.pan,l.pan),an(l)?await o(a,c,l.inputs[0]):await o(a,c,l),l};return{render(a,c){let l=i.get(c);return l!==void 0?Promise.resolve(l):s(a,c)}}};var uv=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0};var dv=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;let n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),o=URL.createObjectURL(n),i=!1,s=!1;try{await r.audioWorklet.addModule(o);let a=new t(r,"a",{numberOfOutputs:0}),c=r.createOscillator();a.port.onmessage=()=>i=!0,a.onprocessorerror=()=>s=!0,c.connect(a),c.start(0),await r.startRendering(),await new Promise(l=>setTimeout(l))}catch{}finally{URL.revokeObjectURL(o)}return i&&!s};var hv=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);let n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})};var jh=()=>new DOMException("","UnknownError");var ow={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},pv=(t,e,n,r,o,i,s)=>class extends t{constructor(c,l){let u=o(c),d=T(T({},ow),l),p=n(u,d),m=i(u)?r():null;super(c,!0,p,m),this._isCurveNullified=!1,this._nativeWaveShaperNode=p,s(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}};var fv=(t,e,n)=>()=>{let r=new WeakMap,o=async(i,s)=>{let a=e(i);if(!ye(a,s)){let l={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,l)}return r.set(s,a),an(a)?await n(i,s,a.inputs[0]):await n(i,s,a),a};return{render(i,s){let a=r.get(s);return a!==void 0?Promise.resolve(a):o(i,s)}}};var mv=()=>typeof window>"u"?null:window;var yv=(t,e)=>n=>{n.copyFromChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,l=n.getChannelData(a),u=r.length;for(let d=s<0?-s:0;d+s<c&&d<u;d+=1)r[d]=l[d+s]},n.copyToChannel=(r,o,i=0)=>{let s=t(i),a=t(o);if(a>=n.numberOfChannels)throw e();let c=n.length,l=n.getChannelData(a),u=r.length;for(let d=s<0?-s:0;d+s<c&&d<u;d+=1)l[d+s]=r[d]}};var gv=t=>e=>{e.copyFromChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyFromChannel),e.copyToChannel=(n=>(r,o,i=0)=>{let s=t(i),a=t(o);if(s<e.length)return n.call(e,r,a,s)})(e.copyToChannel)};var kv=t=>(e,n)=>{let r=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=r),t(e,"buffer",o=>()=>{let i=o.call(e);return i===r?null:i},o=>i=>o.call(e,i===null?r:i))};var vv=(t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});let o=n.createBufferSource();e(r,()=>{let a=r.numberOfInputs;for(let c=0;c<a;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))};var Hh=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]);var Bh=t=>{if(t===null)return!1;let e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0};var Fi=(t,e,n,r)=>{let o=t;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);let{get:i,set:s}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(t,e,{get:n(i),set:r(s)})};var Mv=t=>j(T({},t),{outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)});var xv=t=>j(T({},t),{channelCount:t.numberOfOutputs});var _v=t=>{let{imag:e,real:n}=t;return e===void 0?n===void 0?j(T({},t),{imag:[0,0],real:[0,0]}):j(T({},t),{imag:Array.from(n,()=>0),real:n}):n===void 0?j(T({},t),{imag:e,real:Array.from(e,()=>0)}):j(T({},t),{imag:e,real:n})};var zh=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(r.code!==9)throw r;zh(t,e,n+1e-7)}};var wv=t=>{let e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1};var Cv=t=>{let e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0};var bv=t=>{let e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0};var Nl=t=>{let e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1};var Uh=t=>{let e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}};var Ol=t=>{let e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1};var Iv=t=>{let{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}};var Sv=t=>{t.start=(e=>(n=0,r=0,o)=>{let i=t.buffer,s=i===null?r:Math.min(i.duration,r);i!==null&&s>i.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,s,o)})(t.start)};var Gh=(t,e)=>{let n=e.createGain();t.connect(n);let r=(o=>()=>{o.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),cn(t,n),t.stop=(o=>{let i=!1;return(s=0)=>{if(i)try{o.call(t,s)}catch{n.gain.setValueAtTime(0,s)}else o.call(t,s),i=!0}})(t.stop)};var bo=(t,e)=>n=>{let r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)};var iw=yy(xn),sw=Iy(xn),aw=_g(Or),Av=new WeakMap,cw=Vg(Av),ln=rg(new Map,new WeakMap),Xn=mv(),Tv=pk(ln,sn),Wh=Pg(rt),mt=nv(rt,Wh,ur),lw=Ty(Tv,Ee,mt),Re=Hg(xi),dr=qk(Xn),Le=nk(dr),Ev=new WeakMap,Lv=Eg(bo),Ri=gk(Xn),$h=Yg(Ri),Zh=Jg(Xn),Nv=ek(Xn),ka=vk(Xn),$e=$y(gy(xl),by(iw,sw,Ci,aw,bi,rt,cw,$n,Ee,xn,It,ur,Ii),ln,$g(fa,bi,rt,Ee,wo,It),sn,Ti,ft,vg(Ci,fa,rt,Ee,wo,Re,It,Le),bg(Ev,rt,Ye),Lv,Re,$h,Zh,Nv,Le,ka),uw=Ay($e,lw,sn,Tv,Re,Le);var Xh=new WeakSet,Dv=fk(Xn),Ov=pg(new Uint32Array(1)),Qh=yv(Ov,sn),Kh=gv(Ov),Yh=Ey(Xh,ln,ft,Dv,dr,uv(Dv),Qh,Kh);var Fl=Sy(St),Fv=rv(Wh,Fr,ur),Qn=cg(Fv),Pi=yk(Fl,ln,wv,Cv,bv,Nl,Uh,Ol,Sv,kv(Fi),Gh),Kn=tv(qg(Fr),Fv),dw=Oy(Qn,Pi,Ee,Kn,mt),wn=Xy(ky(_l),Ev,pa,Qy,Nt.createCancelAndHoldAutomationEvent,Nt.createCancelScheduledValuesAutomationEvent,Nt.createExponentialRampToValueAutomationEvent,Nt.createLinearRampToValueAutomationEvent,Nt.createSetTargetAutomationEvent,Nt.createSetValueAutomationEvent,Nt.createSetValueCurveAutomationEvent,Ri,zh),hw=Ny($e,dw,wn,Ve,Pi,Re,Le,bo);var pw=By($e,zy,sn,Ve,kk(St,Fi),Re,Le,mt),fw=ng(Qn,Vh,Ee,Kn,mt),Io=sv(Av),mw=tg($e,wn,fw,Ti,Vh,Re,Le,Io),Vr=dk(xn,Zh),yw=vv(Ve,Vr),qr=Ik(Ri,yw),gw=ig(qr,Ee,mt),kw=og($e,gw,qr,Re,Le),vw=ag(Ni,Ee,mt),Mw=sg($e,vw,Ni,Re,Le,xv),xw=Ak(Fl,Pi,St,Vr),Vi=Dk(Fl,ln,xw,Nl,Ol),_w=hg(Qn,Vi,Ee,Kn,mt),ww=dg($e,wn,_w,Vi,Re,Le,bo),Rv=Tk(ft,Fi),Cw=mg(Rv,Ee,mt),bw=fg($e,Cw,Rv,Re,Le,Io),Iw=xg(Qn,qh,Ee,Kn,mt),Sw=Mg($e,wn,Iw,qh,Re,Le,Io),Pv=Ek(ft),Dw=Dg(Qn,Pv,Ee,Kn,mt),Aw=Sg($e,wn,Dw,Pv,ft,Re,Le,Io),Tw=Fg(Qn,St,Ee,Kn,mt),Ew=Og($e,wn,Tw,St,Re,Le),Lw=Ok(Ti,Ve,Oi,ft),Rl=ov(ln,St,Oi,hv(St,dr)),Nw=Wg(Pi,Ee,dr,mt,Rl),Ow=Lk(Lw),Fw=Gg($e,Ow,Nw,Re,Le,Io),Rw=Uy(wn,qr,Vi,Oi,ft,Hh,Le,Fi),Vv=new WeakMap,Jh=lk(pw,Rw,Lv,Le,Vv,bo),qv=jk(Fl,ln,Nl,Uh,Ol,Gh),Pw=Qk(Qn,qv,Ee,Kn,mt),Vw=Xk($e,wn,qv,Pw,Re,Le,bo),jv=ug(Pi),qw=$k(jv,Ve,St,Bh,Vr),Pl=Wk(jv,Ve,qw,Bh,Vr,Ri,Fi),jw=Bk(Ci,Ve,qr,St,Oi,Pl,ft,bi,Hh,Vr),Hv=Hk(jw),Hw=Yk(Qn,qr,Vi,St,Hv,Ee,dr,Kn,mt,Rl),Bw=Kk($e,wn,Hv,Hw,Re,Le,Io),zw=zk(sn),Uw=Jk(zw,Re,new WeakSet,_v),Gw=Gk(qr,Ni,St,Pl,ft,Vr),Bv=Uk(Gw,ft),Ww=lv(Qn,Bv,Ee,Kn,mt),$w=cv($e,wn,Bv,Ww,Re,Le),Zw=fv(Pl,Ee,mt),Xw=pv($e,Ve,Pl,Zw,Re,Le,Io),zv=rk(Xn),ep=Lg(Xn),Uv=new WeakMap,Qw=Bg(Uv,dr),Kw=zv?Cy(ln,ft,Tg(Xn),ep,Ng(my),Re,Qw,Le,ka,new WeakMap,new WeakMap,dv(ka,dr),Xn):void 0,Yw=tk($h,Le),Jw=kg(Xh,ln,gg,Ag,new WeakSet,Re,Yw,_i,_n,Qh,Kh),Gv=eg(Kw,uw,Yh,hw,mw,kw,Mw,ww,bw,Jw,Sw,Aw,Ew,Fw,Jh,Vw,Bw,Uw,$w,Xw),eC=ok($e,Fk,Re,Le),tC=ik($e,Rk,Re,Le),nC=sk($e,Pk,Re,Le),rC=Vk(Ve,Le),oC=ak($e,rC,Re),Wv=Hy(Gv,Ve,ft,jh,eC,tC,nC,oC,Ri);var tp=zg(Vv),iC=Dy(tp),$v=lg(sn),sC=wg(tp),Zv=Ig(sn),Xv=new WeakMap,aC=Rg(Xv,Ye),cC=bk($v,sn,Ve,qr,Ni,Vi,St,Oi,ft,Zv,ep,aC,Vr),lC=xk(Ve,cC,St,ft,Vr),uC=Jy(Qn,$v,Pi,qr,Ni,Vi,St,sC,Zv,ep,Ee,ka,dr,Kn,mt,Rl),dC=jg(Uv),hC=iv(Xv),np=zv?Ky(iC,$e,wn,uC,lC,rt,dC,Re,Le,ka,Mv,hC,Iv,bo):void 0;var Hie=ck(Ve,ft,jh,Jh,Ri);var Qv=yg(ft,dr),Kv=av(Xh,ln,Wh,tp,Rl,_i,Qh,Kh),Bie=uk(ln,Ve,Qv,Jh,Kv);var Yv=Zk(Gv,ln,Ve,Qv,Kv);var Jv=Zg(xi,$h),e4=Xg(Mi,Zh),t4=Qg(pa,Nv),n4=Kg(xi,Le);function Ze(t){return t===void 0}function K(t){return t!==void 0}function r4(t){return typeof t=="function"}function Dt(t){return typeof t=="number"}function Cn(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function rp(t){return typeof t=="boolean"}function Xe(t){return Array.isArray(t)}function vt(t){return typeof t=="string"}function va(t){return vt(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Z(t,e){if(!t)throw new Error(e)}function ut(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Vl(t){!t.isOffline&&t.state!=="running"&&qi('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}var i4=!1,o4=!1;function op(t){i4=t}function s4(t){Ze(t)&&i4&&!o4&&(o4=!0,qi("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}var a4=console;function c4(...t){a4.log(...t)}function qi(...t){a4.warn(...t)}function l4(t){return new Wv(t)}function u4(t,e,n){return new Yv(t,e,n)}var Mt=typeof self=="object"?self:null,d4=Mt&&(Mt.hasOwnProperty("AudioContext")||Mt.hasOwnProperty("webkitAudioContext"));function h4(t,e,n){return Z(K(np),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof Mt?.BaseAudioContext?Mt?.AudioWorkletNode:np)(t,e,n)}var ql=class{constructor(e,n,r,o){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=r,this._createClock()}_createWorker(){let e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),r=new Worker(n);r.onmessage=this._callback.bind(this),this._worker=r}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}};function bn(t){return t4(t)}function Yn(t){return e4(t)}function ji(t){return n4(t)}function jr(t){return Jv(t)}function p4(t){return t instanceof Yh}function mC(t,e){return t==="value"||bn(e)||Yn(e)||p4(e)}function In(t,...e){if(!e.length)return t;let n=e.shift();if(Cn(t)&&Cn(n))for(let r in n)mC(r,n[r])?t[r]=n[r]:Cn(n[r])?(t[r]||Object.assign(t,{[r]:{}}),In(t[r],n[r])):Object.assign(t,{[r]:n[r]});return In(t,...e)}function f4(t,e){return t.length===e.length&&t.every((n,r)=>e[r]===n)}function D(t,e,n=[],r){let o={},i=Array.from(e);if(Cn(i[0])&&r&&!Reflect.has(i[0],r)&&(Object.keys(i[0]).some(a=>Reflect.has(t,a))||(In(o,{[r]:i[0]}),n.splice(n.indexOf(r),1),i.shift())),i.length===1&&Cn(i[0]))In(o,i[0]);else for(let s=0;s<n.length;s++)K(i[s])&&(o[n[s]]=i[s]);return In(t,o)}function m4(t){return t.constructor.getDefaults()}function Gt(t,e){return Ze(t)?e:t}function Jn(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}var xt=(()=>{class t{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...n){(this.debug||Mt&&this.toString()===Mt.TONE_DEBUG_CLASS)&&c4(this,...n)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}return t.version=na,t})();function hr(t,e){return t>e+1e-6}function Ma(t,e){return hr(t,e)||At(t,e)}function So(t,e){return t+1e-6<e}function At(t,e){return Math.abs(t-e)<1e-6}function ip(t,e,n){return Math.max(Math.min(t,n),e)}var Je=class t extends xt{constructor(){super(),this.name="Timeline",this._timeline=[];let e=D(t.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Z(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){let n=this._timeline[this.length-1];Z(Ma(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{let n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){let n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){let n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){let r=this._search(e,n);return r!==-1?this._timeline[r]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){let r=this._search(e,n);return r+1<this._timeline.length?this._timeline[r+1]:null}getBefore(e){let n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];let r=this._search(e);return r-1>=0?this._timeline[r-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(At(this._timeline[n].time,e)){for(let r=n;r>=0&&At(this._timeline[r].time,e);r--)n=r;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Ma(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){let n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){let n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let r=0,o=this._timeline.length,i=o;if(o>0&&this._timeline[o-1][n]<=e)return o-1;for(;r<i;){let s=Math.floor(r+(i-r)/2),a=this._timeline[s],c=this._timeline[s+1];if(At(a[n],e)){for(let l=s;l<this._timeline.length;l++){let u=this._timeline[l];if(At(u[n],e))s=l;else break}return s}else{if(So(a[n],e)&&hr(c[n],e))return s;hr(a[n],e)?i=s:r=s+1}}return-1}_iterate(e,n=0,r=this._timeline.length-1){this._timeline.slice(n,r+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){let r=this._search(e);return r!==-1&&this._iterate(n,0,r),this}forEachAfter(e,n){let r=this._search(e);return this._iterate(n,r+1),this}forEachBetween(e,n,r){let o=this._search(e),i=this._search(n);return o!==-1&&i!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[i].time===n&&(i-=1),this._iterate(r,o,i)):o===-1&&this._iterate(r,0,i),this}forEachFrom(e,n){let r=this._search(e);for(;r>=0&&this._timeline[r].time>=e;)r--;return this._iterate(n,r+1),this}forEachAtTime(e,n){let r=this._search(e);if(r!==-1&&At(this._timeline[r].time,e)){let o=r;for(let i=r;i>=0&&At(this._timeline[i].time,e);i--)o=i;this._iterate(i=>{n(i)},o,r)}return this}dispose(){return super.dispose(),this._timeline=[],this}};var y4=[];function Hr(t){y4.push(t)}function g4(t){y4.forEach(e=>e(t))}var k4=[];function Br(t){k4.push(t)}function v4(t){k4.forEach(e=>e(t))}var zr=class t extends xt{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(o=>{Ze(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(n)}),this}once(e,n){let r=(...o)=>{n(...o),this.off(e,r)};return this.on(e,r),this}off(e,n){return e.split(/\W+/).forEach(o=>{if(Ze(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(Ze(n))this._events[o]=[];else{let i=this._events[o];for(let s=i.length-1;s>=0;s--)i[s]===n&&i.splice(s,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){let r=this._events[e].slice(0);for(let o=0,i=r.length;o<i;o++)r[o].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{let r=Object.getOwnPropertyDescriptor(t.prototype,n);Object.defineProperty(e.prototype,n,r)})}dispose(){return super.dispose(),this._events=void 0,this}};var Hi=class extends zr{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}};var Do=class t extends Hi{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new Je,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;let r=D(t.getDefaults(),arguments,["context"]);r.context?(this._context=r.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=l4({latencyHint:r.latencyHint}),this._latencyHint=r.latencyHint),this._ticker=new ql(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(g4(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,r){return this._context.createBuffer(e,n,r)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,r){return this._context.createPeriodicWave(e,n,r)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Z(jr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Z(jr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Z(jr(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Z(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Z(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Z(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Z(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return h4(this.rawContext,e,n)}addAudioWorkletModule(e){return de(this,void 0,void 0,function*(){Z(K(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return de(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return jr(this._context)?this._context.resume():Promise.resolve()}close(){return de(this,void 0,void 0,function*(){jr(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&v4(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{let n=this._context.createBuffer(1,128,this._context.sampleRate),r=n.getChannelData(0);for(let i=0;i<r.length;i++)r[i]=e;let o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=n,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){let e=this.now();this._timeouts.forEachBefore(e,n=>{n.callback(),this._timeouts.remove(n)})}setTimeout(e,n){this._timeoutIds++;let r=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:r+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){let r=++this._timeoutIds,o=()=>{let i=this.now();this._timeouts.add({callback:()=>{e(),o()},id:r,time:i+n})};return o(),r}};var jl=class extends Hi{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,r){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,r){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return de(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};function H(t,e){Xe(e)?e.forEach(n=>H(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Bi(t,e){Xe(e)?e.forEach(n=>Bi(t,n)):Object.defineProperty(t,e,{writable:!0})}var Y=()=>{};var ot=(()=>{class t extends xt{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Y;let n=D(t.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=n.reverse,this.onload=n.onload,vt(n.url)?this.load(n.url).catch(n.onerror):n.url&&this.set(n.url)}static getDefaults(){return{onerror:Y,onload:Y,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Ie().sampleRate}set(n){return n instanceof t?n.loaded?this._buffer=n.get():n.onload=()=>{this.set(n),this.onload(this)}:this._buffer=n,this._reversed&&this._reverse(),this}get(){return this._buffer}load(n){return de(this,void 0,void 0,function*(){let r=t.load(n).then(o=>{this.set(o),this.onload(this)});t.downloads.push(r);try{yield r}finally{let o=t.downloads.indexOf(r);t.downloads.splice(o,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(n){let r=Xe(n)&&n[0].length>0,o=r?n.length:1,i=r?n[0].length:n.length,s=Ie(),a=s.createBuffer(o,i,s.sampleRate),c=!r&&o===1?[n]:n;for(let l=0;l<o;l++)a.copyToChannel(c[l],l);return this._buffer=a,this}toMono(n){if(Dt(n))this.fromArray(this.toArray(n));else{let r=new Float32Array(this.length),o=this.numberOfChannels;for(let i=0;i<o;i++){let s=this.toArray(i);for(let a=0;a<s.length;a++)r[a]+=s[a]}r=r.map(i=>i/o),this.fromArray(r)}return this}toArray(n){if(Dt(n))return this.getChannelData(n);if(this.numberOfChannels===1)return this.toArray(0);{let r=[];for(let o=0;o<this.numberOfChannels;o++)r[o]=this.getChannelData(o);return r}}getChannelData(n){return this._buffer?this._buffer.getChannelData(n):new Float32Array(0)}slice(n,r=this.duration){Z(this.loaded,"Buffer is not loaded");let o=Math.floor(n*this.sampleRate),i=Math.floor(r*this.sampleRate);Z(o<i,"The start time must be less than the end time");let s=i-o,a=Ie().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let c=0;c<this.numberOfChannels;c++)a.copyToChannel(this.getChannelData(c).subarray(o,i),c);return new t(a)}_reverse(){if(this.loaded)for(let n=0;n<this.numberOfChannels;n++)this.getChannelData(n).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(n){this._reversed!==n&&(this._reversed=n,this._reverse())}static fromArray(n){return new t().fromArray(n)}static fromUrl(n){return de(this,void 0,void 0,function*(){return yield new t().load(n)})}static load(n){return de(this,void 0,void 0,function*(){let r=t.baseUrl===""||t.baseUrl.endsWith("/")?t.baseUrl:t.baseUrl+"/",o=yield fetch(r+n);if(!o.ok)throw new Error(`could not load url: ${n}`);let i=yield o.arrayBuffer();return yield Ie().decodeAudioData(i)})}static supportsType(n){let r=n.split("."),o=r[r.length-1];return document.createElement("audio").canPlayType("audio/"+o)!==""}static loaded(){return de(this,void 0,void 0,function*(){for(yield Promise.resolve();t.downloads.length;)yield t.downloads[0]})}}return t.baseUrl="",t.downloads=[],t})();var Wt=class extends Do{constructor(){super({clockSource:"offline",context:ji(arguments[0])?arguments[0]:u4(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:ji(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ji(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return de(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;let r=Math.floor(this.sampleRate/128);e&&n%r===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return de(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);let n=yield this._context.startRendering();return new ot(n)})}close(){return Promise.resolve()}};var M4=new jl,Ao=M4;function Ie(){return Ao===M4&&d4&&xa(new Do),Ao}function xa(t,e=!1){e&&Ao.dispose(),jr(t)?Ao=new Do(t):ji(t)?Ao=new Wt(t):Ao=t}function sp(){return Ao.resume()}if(Mt&&!Mt.TONE_SILENCE_LOGGING){let t="v";na==="dev"&&(t="");let e=` * Tone.js ${t}${na} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function zi(t){return Math.pow(10,t/20)}function Ui(t){return 20*(Math.log(t)/Math.LN10)}function pr(t){return Math.pow(2,t/12)}var Hl=440;function x4(){return Hl}function _4(t){Hl=t}function To(t){return Math.round(ap(t))}function ap(t){return 69+12*Math.log2(t/Hl)}function Bl(t){return Hl*Math.pow(2,(t-69)/12)}var zl=class t extends xt{constructor(e,n,r){super(),this.defaultUnits="s",this._val=n,this._units=r,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{let r=parseInt(e,10),o=n==="."?1.5:1;return r===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/r)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{let n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,r)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o+=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o+=this._beatsToUnits(parseFloat(r)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof t&&this.fromType(this._val),Ze(this._val))return this._noArg();if(vt(this._val)&&Ze(this._units)){for(let e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Cn(this._val)){let e=0;for(let n in this._val)if(K(this._val[n])){let r=this._val[n],o=new this.constructor(this.context,n).valueOf()*r;e+=o}return e}if(K(this._units)){let e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return vt(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}};var $t=class t extends zl{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{let n=new t(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){let r=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),a=Math.round(o/r)*r-o;return o+a*n}toNotation(){let e=this.toSeconds(),n=["1m"];for(let i=1;i<9;i++){let s=Math.pow(2,i);n.push(s+"n."),n.push(s+"n"),n.push(s+"t")}n.push("0");let r=n[0],o=new t(this.context,n[0]).toSeconds();return n.forEach(i=>{let s=new t(this.context,i).toSeconds();Math.abs(s-e)<Math.abs(o-e)&&(r=i,o=s)}),r}toBarsBeatsSixteenths(){let e=this._beatsToUnits(1),n=this.valueOf()/e;n=parseFloat(n.toFixed(4));let r=Math.floor(n/this._getTimeSignature()),o=n%1*4;n=Math.floor(n)%this._getTimeSignature();let i=o.toString();return i.length>3&&(o=parseFloat(parseFloat(i).toFixed(3))),[r,n,o].join(":")}toTicks(){let e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return To(this.toFrequency())}_now(){return this.context.now()}};var Ot=class t extends $t{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return x4()}static set A4(e){_4(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:t.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){let o=yC[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?o:t.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,r){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(o*=this._beatsToUnits(parseFloat(n))),r&&r!=="0"&&(o*=this._beatsToUnits(parseFloat(r)/4)),o}}})}transpose(e){return new t(this.context,this.valueOf()*pr(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return To(this.valueOf())}toNote(){let e=this.toFrequency(),n=Math.log2(e/t.A4),r=Math.round(12*n)+57,o=Math.floor(r/12);return o<0&&(r+=-12*o),gC[r%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){let e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Bl(e)}static ftom(e){return To(e)}},yC={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},gC=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];var un=class extends $t{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}};var et=class t extends xt{constructor(){super();let e=D(t.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Ie()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return s4(e),new $t(this.context,e).toSeconds()}toFrequency(e){return new Ot(this.context,e).toFrequency()}toTicks(e){return new un(this.context,e).toTicks()}_getPartialProperties(e){let n=this.get();return Object.keys(n).forEach(r=>{Ze(e[r])&&delete n[r]}),n}get(){let e=m4(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){let r=this[n];K(r)&&K(r.value)&&K(r.setValueAtTime)?e[n]=r.value:r instanceof t?e[n]=r._getPartialProperties(e[n]):Xe(r)||Dt(r)||vt(r)||rp(r)?e[n]=r:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&K(this[n])&&(this[n]&&K(this[n].value)&&K(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof t?this[n].set(e[n]):this[n]=e[n])}),this}};var er=class extends Je{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){let n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,r){return ut(n,0),this.add(Object.assign({},r,{state:e,time:n})),this}getLastState(e,n){let r=this._search(n);for(let o=r;o>=0;o--){let i=this._timeline[o];if(i.state===e)return i}}getNextState(e,n){let r=this._search(n);if(r!==-1)for(let o=r;o<this._timeline.length;o++){let i=this._timeline[o];if(i.state===e)return i}}};var ie=class t extends et{constructor(){let e=D(t.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Z(K(e.param)&&(bn(e.param)||e.param instanceof t),"param must be an AudioParam");!bn(e.param);)e.param=e.param._param;this._swappable=K(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Je(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,K(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(et.getDefaults(),{convert:!0,units:"number"})}get value(){let e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return K(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return K(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return K(this.maxValue)&&K(this.minValue)&&ut(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?zi(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?Ui(e):e}setValueAtTime(e,n){let r=this.toSeconds(n),o=this._fromType(e);return Z(isFinite(o)&&isFinite(r),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,r),this._events.add({time:r,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,r),this}getValueAtTime(e){let n=Math.max(this.toSeconds(e),0),r=this._events.getAfter(n),o=this._events.get(n),i=this._initialValue;if(o===null)i=this._initialValue;else if(o.type==="setTargetAtTime"&&(r===null||r.type==="setValueAtTime")){let s=this._events.getBefore(o.time),a;s===null?a=this._initialValue:a=s.value,o.type==="setTargetAtTime"&&(i=this._exponentialApproach(o.time,a,o.value,o.constant,n))}else if(r===null)i=o.value;else if(r.type==="linearRampToValueAtTime"||r.type==="exponentialRampToValueAtTime"){let s=o.value;if(o.type==="setTargetAtTime"){let a=this._events.getBefore(o.time);a===null?s=this._initialValue:s=a.value}r.type==="linearRampToValueAtTime"?i=this._linearInterpolate(o.time,s,r.time,r.value,n):i=this._exponentialInterpolate(o.time,s,r.time,r.value,n)}else i=o.value;return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){let r=this._fromType(e),o=this.toSeconds(n);return Z(isFinite(r)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(r),this._events.add({time:o,type:"linearRampToValueAtTime",value:r}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(e,n){let r=this._fromType(e);r=At(r,0)?this._minOutput:r,this._assertRange(r);let o=this.toSeconds(n);return Z(isFinite(r)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:r}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialRampToValueAtTime(e,r+this.toSeconds(n)),this}linearRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.linearRampToValueAtTime(e,r+this.toSeconds(n)),this}targetRampTo(e,n,r){return r=this.toSeconds(r),this.setRampPoint(r),this.exponentialApproachValueAtTime(e,r,n),this}exponentialApproachValueAtTime(e,n,r){n=this.toSeconds(n),r=this.toSeconds(r);let o=Math.log(r+1)/Math.log(200);return this.setTargetAtTime(e,n,o),this.cancelAndHoldAtTime(n+r*.9),this.linearRampToValueAtTime(e,n+r),this}setTargetAtTime(e,n,r){let o=this._fromType(e);Z(isFinite(r)&&r>0,"timeConstant must be a number greater than 0");let i=this.toSeconds(n);return this._assertRange(o),Z(isFinite(o)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:r,time:i,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,i,r),this._param.setTargetAtTime(o,i,r),this}setValueCurveAtTime(e,n,r,o=1){r=this.toSeconds(r),n=this.toSeconds(n);let i=this._fromType(e[0])*o;this.setValueAtTime(this._toType(i),n);let s=r/(e.length-1);for(let a=1;a<e.length;a++){let c=this._fromType(e[a])*o;this.linearRampToValueAtTime(this._toType(c),n+a*s)}return this}cancelScheduledValues(e){let n=this.toSeconds(e);return Z(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){let n=this.toSeconds(e),r=this._fromType(this.getValueAtTime(n));Z(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+r);let o=this._events.get(n),i=this._events.getAfter(n);return o&&At(o.time,n)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),i.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(r),n):i.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(r),n)),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}rampTo(e,n=.1,r){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,r):this.linearRampTo(e,n,r),this}apply(e){let n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);let r=this._events.get(n);if(r&&r.type==="setTargetAtTime"){let o=this._events.getAfter(r.time),i=o?o.time:n+2,s=(i-n)/10;for(let a=n;a<i;a+=s)e.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){Z(this._swappable,"The Param must be assigned as 'swappable' in the constructor");let n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,r,o,i){return r+(n-r)*Math.exp(-(i-e)/o)}_linearInterpolate(e,n,r,o,i){return n+(o-n)*((i-e)/(r-e))}_exponentialInterpolate(e,n,r,o,i){return n*Math.pow(o/n,(i-e)/(r-e))}};var V=class t extends et{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return K(this.input)?bn(this.input)||this.input instanceof ie?1:this.input.numberOfInputs:0}get numberOfOutputs(){return K(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return K(e)&&(e instanceof t||Yn(e))}_getInternalNodes(){let e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(r=>{r.channelCount=e.channelCount,r.channelCountMode=e.channelCountMode,r.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){let e=this._getInternalNodes();Z(e.length>0,"ToneAudioNode does not have any internal nodes");let n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){let n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,r=0){return dt(this,e,n,r),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return qi("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,r=0){return cp(this,e,n,r),this}chain(...e){return dn(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),K(this.input)&&(this.input instanceof t?this.input.dispose():Yn(this.input)&&this.input.disconnect()),K(this.output)&&(this.output instanceof t?this.output.dispose():Yn(this.output)&&this.output.disconnect()),this._internalChannels=[],this}};function dn(...t){let e=t.shift();t.reduce((n,r)=>(n instanceof V?n.connect(r):Yn(n)&&dt(n,r),r),e)}function dt(t,e,n=0,r=0){for(Z(K(t),"Cannot connect from undefined node"),Z(K(e),"Cannot connect to undefined node"),(e instanceof V||Yn(e))&&Z(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Z(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof V||e instanceof ie;)K(e.input)&&(e=e.input);for(;t instanceof V;)K(t.output)&&(t=t.output);bn(e)?t.connect(e,n):t.connect(e,n,r)}function cp(t,e,n=0,r=0){if(K(e))for(;e instanceof V;)e=e.input;for(;!Yn(t);)K(t.output)&&(t=t.output);bn(e)?t.disconnect(e,n):Yn(e)?t.disconnect(e,n,r):t.disconnect()}var $=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new ie({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),H(this,"gain")}static getDefaults(){return Object.assign(V.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}};var Sn=class extends V{constructor(e){super(e),this.onended=Y,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new $({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){let r=this.toSeconds(n);return this._startTime!==-1&&r>=this._startTime&&(this._stopTime===-1||r<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(V.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Y})}_startGain(e,n=1){Z(this._startTime===-1,"Source cannot be started more than once");let r=this.toSeconds(this._fadeIn);return this._startTime=e+r,this._startTime=Math.max(this._startTime,this.context.currentTime),r>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+r):this._gainNode.gain.exponentialApproachValueAtTime(n,e,r)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Z(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();let n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{let r=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+r),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Y&&(this.onended(this),this.onended=Y,!this.context.isOffline)){let e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Z(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Y,this}};var _a=class t extends Sn{constructor(){let e=D(t.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),dt(this._source,this._gainNode),this.offset=new ie({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Sn.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}};var Q=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new _a({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(V.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,r=0){return Eo(this,e,n,r),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,r){return this._param.exponentialRampTo(e,n,r),this}linearRampTo(e,n,r){return this._param.linearRampTo(e,n,r),this}targetRampTo(e,n,r){return this._param.targetRampTo(e,n,r),this}exponentialApproachValueAtTime(e,n,r){return this._param.exponentialApproachValueAtTime(e,n,r),this}setTargetAtTime(e,n,r){return this._param.setTargetAtTime(e,n,r),this}setValueCurveAtTime(e,n,r,o){return this._param.setValueCurveAtTime(e,n,r,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,r){return this._param.rampTo(e,n,r),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}};function Eo(t,e,n,r){(e instanceof ie||bn(e)||e instanceof Q&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Q&&(e.overridden=!0)),dt(t,e,n,r)}var Ul=class t extends ie{constructor(){let e=D(t.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Je(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ie.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,r){n=this.toSeconds(n),this.setRampPoint(n);let o=this._fromType(e),i=this._events.get(n),s=Math.round(Math.max(1/r,1));for(let a=0;a<=s;a++){let c=r*a+n,l=this._exponentialApproach(i.time,i.value,o,r,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}setValueAtTime(e,n){let r=this.toSeconds(n);super.setValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,n){let r=this.toSeconds(n);super.linearRampToValueAtTime(e,n);let o=this._events.get(r),i=this._events.previousEvent(o),s=this._getTicksUntilEvent(i,r);return o.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);let r=this._fromType(e),o=this._events.get(n),i=Math.round(Math.max((n-o.time)*10,1)),s=(n-o.time)/i;for(let a=0;a<=i;a++){let c=s*a+o.time,l=this._exponentialInterpolate(o.time,o.value,n,r,c);this.linearRampToValueAtTime(this._toType(l),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ze(e.ticks)){let s=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(s,e.time)}let r=this._fromType(this.getValueAtTime(e.time)),o=this._fromType(this.getValueAtTime(n)),i=this._events.get(n);return i&&i.time===n&&i.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(r+o)+e.ticks}getTicksAtTime(e){let n=this.toSeconds(e),r=this._events.get(n);return Math.max(this._getTicksUntilEvent(r,n),0)}getDurationOfTicks(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(n);return this.getTimeOfTick(o+e)-r}getTimeOfTick(e){let n=this._events.get(e,"ticks"),r=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&r&&r.type==="linearRampToValueAtTime"&&n.value!==r.value){let o=this._fromType(this.getValueAtTime(n.time)),s=(this._fromType(this.getValueAtTime(r.time))-o)/(r.time-n.time),a=Math.sqrt(Math.pow(o,2)-2*s*(n.ticks-e)),c=(-o+a)/s,l=(-o-a)/s;return(c>0?c:l)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){let r=this.toSeconds(n),o=this.toSeconds(e),i=this.getTicksAtTime(r);return this.getTicksAtTime(r+o)-i}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){let n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}};var Gl=class t extends Q{constructor(){let e=D(t.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Ul({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Q.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}};var Wl=class t extends et{constructor(){let e=D(t.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new er,this._tickOffset=new Je,this._ticksAtTime=new Je,this._secondsAtTime=new Je,this.frequency=new Gl({context:this.context,units:e.units,value:e.frequency}),H(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},et.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){let r=this.toSeconds(e);return this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),K(n)&&this.setTicksAtTime(n,r),this._ticksAtTime.cancel(r),this._secondsAtTime.cancel(r)),this}stop(e){let n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){let r=this._state.get(n);r&&r.time>0&&(this._tickOffset.cancel(r.time),this._state.cancel(r.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){let n=this.toSeconds(e),r=this._state.getLastState("stopped",n),o=this._ticksAtTime.get(n),i={state:"paused",time:n};this._state.add(i);let s=o||r,a=o?o.ticks:0,c=null;return this._state.forEachBetween(s.time,n+this.sampleTime,l=>{let u=s.time,d=this._tickOffset.get(l.time);d&&d.time>=s.time&&(a=d.ticks,u=d.time),s.state==="started"&&l.state!=="started"&&(a+=this.frequency.getTicksAtTime(l.time)-this.frequency.getTicksAtTime(u),l.time!==i.time&&(c={state:l.state,time:l.time,ticks:a})),s=l}),this._state.remove(i),c&&this._ticksAtTime.add(c),a}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){let n=this.now(),r=this.frequency.timeToTicks(e,n);this.setTicksAtTime(r,n)}getSecondsAtTime(e){e=this.toSeconds(e);let n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let o=this._secondsAtTime.get(e),i=o||n,s=o?o.seconds:0,a=null;return this._state.forEachBetween(i.time,e+this.sampleTime,c=>{let l=i.time,u=this._tickOffset.get(c.time);u&&u.time>=i.time&&(s=u.seconds,l=u.time),i.state==="started"&&c.state!=="started"&&(s+=c.time-l,c.time!==r.time&&(a={state:c.state,time:c.time,seconds:s})),i=c}),this._state.remove(r),a&&this._secondsAtTime.add(a),s}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){let r=this._tickOffset.get(n),o=this._state.get(n),i=Math.max(r.time,o.time),s=this.frequency.getTicksAtTime(i)+e-r.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,n,r){let o=this._state.get(e);this._state.forEachBetween(e,n,s=>{o&&o.state==="started"&&s.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),s.time-this.sampleTime,r),o=s});let i=null;if(o&&o.state==="started"){let s=Math.max(o.time,e),a=this.frequency.getTicksAtTime(s),c=this.frequency.getTicksAtTime(o.time),l=a-c,u=Math.ceil(l)-l;u=At(u,1)?0:u;let d=this.frequency.getTimeOfTick(a+u);for(;d<n;){try{r(d,Math.round(this.getTicksAtTime(d)))}catch(p){i=p;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}};var Gi=class t extends et{constructor(){let e=D(t.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Y,this._lastUpdate=0,this._state=new er("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Wl({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,H(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(et.getDefaults(),{callback:Y,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){Vl(this.context);let r=this.toSeconds(e);return this.log("start",r),this._state.getValueAtTime(r)!=="started"&&(this._state.setStateAtTime("started",r),this._tickSource.start(r,n),r<this._lastUpdate&&this.emit("start",r,n)),this}stop(e){let n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){let r=this.toSeconds(n),o=this.getTicksAtTime(r);return this._tickSource.getTimeOfTick(o+e,r)}_loop(){let e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,r=>{switch(r.state){case"started":let o=this._tickSource.getTicksAtTime(r.time);this.emit("start",r.time,o);break;case"stopped":r.time!==0&&this.emit("stop",r.time);break;case"paused":this.emit("pause",r.time);break}}),this._tickSource.forEachTickBetween(e,n,(r,o)=>{this.callback(r,o)}))}getStateAtTime(e){let n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}};zr.mixin(Gi);var tr=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";let n=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(n,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(n),this.delayTime=new ie({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),H(this,"delayTime")}static getDefaults(){return Object.assign(V.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}};var hn=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new $({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,H(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(V.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}};var lp=class t extends V{constructor(){let e=D(t.getDefaults(),arguments);super(e),this.name="Destination",this.input=new hn({context:this.context}),this.output=new $({context:this.context}),this.volume=this.input.volume,dn(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(V.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),dn(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}};Hr(t=>{t.destination=new lp({context:t})});Br(t=>{t.destination.dispose()});var up=class extends V{constructor(){super(...arguments),this.name="Listener",this.positionX=new ie({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new ie({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new ie({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new ie({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new ie({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new ie({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new ie({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new ie({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new ie({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(V.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}};Hr(t=>{t.listener=new up({context:t})});Br(t=>{t.listener.dispose()});function w4(t,e){return de(this,arguments,void 0,function*(n,r,o=2,i=Ie().sampleRate){let s=Ie(),a=new Wt(o,r,i);xa(a),yield n(a);let c=a.render();xa(s);let l=yield c;return new ot(l)})}var Wi=class t extends xt{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;let e=D(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;let r=e.urls[n];this.add(n,r,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Y,onload:Y,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Z(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,r=Y,o=Y){return vt(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new ot(this.baseUrl+n,r,o))):this._buffers.set(e.toString(),new ot(n,r,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}};var Zt=class extends un{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}};var dp=class extends et{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Je,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){let e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,n=>{e-n.time<=this.expiration&&n.callback(),this._events.remove(n)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}};Hr(t=>{t.draw=new dp({context:t})});Br(t=>{t.draw.dispose()});var $l=class extends xt{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Z(K(e.time),"Events must have a time property"),Z(K(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new hp(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){let n=[];this._root.search(e.time,n);for(let r of n)if(r.event===e){this._removeNode(r),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{let n=e.getBalance(),r,o=null;if(n>0)if(e.left.right===null)r=e.left,r.right=e.right,o=r;else{for(r=e.left.right;r.right!==null;)r=r.right;r.parent&&(r.parent.right=r.left,o=r.parent,r.left=e.left,r.right=e.right)}else if(e.right.left===null)r=e.right,r.left=e.left,o=r;else{for(r=e.right.left;r.left!==null;)r=r.left;r.parent&&(r.parent.left=r.right,o=r.parent,r.left=e.left,r.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=r:e.parent.right=r:this._setRoot(r),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){let n=e.parent,r=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rotateRight(e){let n=e.parent,r=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),n!==null?r?n.left=o:n.right=o:this._setRoot(o)}_rebalance(e){let n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){let n=[];if(this._root.search(e,n),n.length>0){let r=n[0];for(let o=1;o<n.length;o++)n[o].low>r.low&&(r=n[o]);return r.event}}return null}forEach(e){if(this._root!==null){let n=[];this._root.traverse(r=>n.push(r)),n.forEach(r=>{r.event&&e(r.event)})}return this}forEachAtTime(e,n){if(this._root!==null){let r=[];this._root.search(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}forEachFrom(e,n){if(this._root!==null){let r=[];this._root.searchAfter(e,r),r.forEach(o=>{o.event&&n(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}},hp=class{constructor(e,n,r){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=r,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}};var Zl=class extends xt{constructor(e){super(),this.name="TimelineValue",this._timeline=new Je({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){let n=this._timeline.get(e);return n?n.value:this._initialValue}};var it=class t extends V{constructor(){super(D(t.getDefaults(),arguments,["context"]))}connect(e,n=0,r=0){return Eo(this,e,n,r),this}};var Ft=class t extends it{constructor(){let e=D(t.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Xe(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):r4(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Q.getDefaults(),{length:1024})}setMap(e,n=1024){let r=new Float32Array(n);for(let o=0,i=n;o<i;o++){let s=o/(i-1)*2-1;r[o]=e(s,o)}return this.curve=r,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){let n=["none","2x","4x"].some(r=>r.includes(e));Z(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}};var $i=class t extends it{constructor(){let e=D(t.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Ft({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(it.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}};var Zi=(()=>{class t{constructor(n,r){this.id=t._eventId++,this._remainderTime=0;let o=Object.assign(t.getDefaults(),r);this.transport=n,this.callback=o.callback,this._once=o.once,this.time=Math.floor(o.time),this._remainderTime=o.time-this.time}static getDefaults(){return{callback:Y,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(n){if(this.callback){let r=this.transport.bpm.getDurationOfTicks(1,n);this.callback(n+this._remainderTime*r),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}return t._eventId=0,t})();var Xl=class t extends Zi{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);let r=Object.assign(t.getDefaults(),n);this.duration=r.duration,this._interval=r.interval,this._nextTick=r.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Zi.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return So(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Zt(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){So(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Zt(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;let n=this.transport.getTicksAtTime(e);hr(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}};var Ql=class t extends et{constructor(){let e=D(t.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Zl(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Je,this._repeatedEvents=new $l,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Gi({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),H(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(et.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){let r=n%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(r*Math.PI)*this._swingAmount;e+=new Zt(this.context,this._swingTicks*2/3).toSeconds()*o}op(!0),this._timeline.forEachAtTime(n,r=>r.invoke(e)),op(!1)}schedule(e,n){let r=new Zi(this,{callback:e,time:new un(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}scheduleRepeat(e,n,r,o=1/0){let i=new Xl(this,{callback:e,duration:new $t(this.context,o).toTicks(),interval:new $t(this.context,n).toTicks(),time:new un(this.context,r).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,n){let r=new Zi(this,{callback:e,once:!0,time:new un(this.context,n).toTicks()});return this._addEvent(r,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){let n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){let n=this.toTicks(e);return this._timeline.forEachFrom(n,r=>this.clear(r.id)),this._repeatedEvents.forEachFrom(n,r=>this.clear(r.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Zt(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let r;return K(n)&&(r=this.toTicks(n)),this._clock.start(e,r),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Xe(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new $t(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new $t(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Zt(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){let e=this.now(),n=this._clock.getTicksAtTime(e);return new Zt(this.context,n).toBarsBeatsSixteenths()}set position(e){let n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){let n=this.now(),r=this._clock.frequency.timeToTicks(e,n);this.ticks=r}get progress(){if(this.loop){let e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){let n=this.now();if(this.state==="started"){let r=this._clock.getTicksAtTime(n),o=this._clock.frequency.getDurationOfTicks(Math.ceil(r)-r,n),i=n+o;this.emit("stop",i),this._clock.setTicksAtTime(e,i),this.emit("start",i,this._clock.getSecondsAtTime(i))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{let n=this.now(),r=this.getTicksAtTime(n),o=e-r%e;return this._clock.nextTickTime(o,n)}}syncSignal(e,n){let r=this.now(),o=this.bpm,i=1/(60/o.getValueAtTime(r)/this.PPQ),s=[];if(e.units==="time"){let c=.015625/i,l=new $(c),u=new $i(-1),d=new $(c);o.chain(l,u,d),o=d,i=1/i,s=[l,u,d]}n||(e.getValueAtTime(r)!==0?n=e.getValueAtTime(r)/i:n=0);let a=new $(n);return o.connect(a),a.connect(e._param),s.push(a),this._syncedSignals.push({initial:e.value,nodes:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){let r=this._syncedSignals[n];r.signal===e&&(r.nodes.forEach(o=>o.dispose()),r.signal.value=r.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Bi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}};zr.mixin(Ql);Hr(t=>{t.transport=new Ql({context:t})});Br(t=>{t.transport.dispose()});var Se=class extends V{constructor(e){super(e),this.input=void 0,this._state=new er("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Y,this._syncedStop=Y,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new hn({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,H(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(V.getDefaults(),{mute:!1,onstop:Y,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,r){let o=Ze(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")Z(hr(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,n,r);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){let i=this._state.get(o);i&&(i.offset=this.toSeconds(Gt(n,0)),i.duration=r?this.toSeconds(r):void 0);let s=this.context.transport.schedule(a=>{this._start(a,n,r)},o);this._scheduled.push(s),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else Vl(this.context),this._start(o,n,r);return this}stop(e){let n=Ze(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||K(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{let r=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(r)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,r){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,r)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(hr(n,0)){let r=this._state.get(n);if(r&&r.state==="started"&&r.time!==n){let o=n-this.toSeconds(r.time),i;r.duration&&(i=this.toSeconds(r.duration)-o),this._start(e,this.toSeconds(r.offset)+o,i)}}},this._syncedStop=e=>{let n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Y,this.unsync(),this._volume.dispose(),this._state.dispose(),this}};var fr=class t extends Sn{constructor(){let e=D(t.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,dt(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new ie({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new ot(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Sn.getDefaults(),{url:new ot,loop:!1,loopEnd:0,loopStart:0,onload:Y,onerror:Y,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,r,o=1){Z(this.buffer.loaded,"buffer is either not set or not loaded");let i=this.toSeconds(e);this._startGain(i,o),this.loop?n=Gt(n,this.loopStart):n=Gt(n,0);let s=Math.max(this.toSeconds(n),0);if(this.loop){let a=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),l=a-c;Ma(s,a)&&(s=(s-c)%l+c),At(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,So(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),K(r)){let a=this.toSeconds(r);a=Math.max(a,0),this.stop(i+a)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}};var wde=44100*5;function Rt(t,e){return de(this,void 0,void 0,function*(){let n=e/t.context.sampleRate,r=new Wt(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)})}var wa=class t extends Sn{constructor(){let e=D(t.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],dt(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new ie({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new ie({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),H(this,["frequency","detune"])}static getDefaults(){return Object.assign(Sn.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){let n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}};var ze=(()=>{class t extends Se{constructor(){let n=D(t.getDefaults(),arguments,["frequency","type"]);super(n),this.name="Oscillator",this._oscillator=null,this.frequency=new Q({context:this.context,units:"frequency",value:n.frequency}),H(this,"frequency"),this.detune=new Q({context:this.context,units:"cents",value:n.detune}),H(this,"detune"),this._partials=n.partials,this._partialCount=n.partialCount,this._type=n.type,n.partialCount&&n.type!=="custom"&&(this._type=this.baseType+n.partialCount.toString()),this.phase=n.phase}static getDefaults(){return Object.assign(Se.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(n){let r=this.toSeconds(n),o=new wa({context:this.context,onended:()=>this.onstop(this)});this._oscillator=o,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(r)}_stop(n){let r=this.toSeconds(n);this._oscillator&&this._oscillator.stop(r)}_restart(n){let r=this.toSeconds(n);return this.log("restart",r),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(r),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return t._periodicWaveCache.find(r=>r.phase===this._phase&&f4(r.partials,this._partials));{let n=t._periodicWaveCache.find(r=>r.type===this._type&&r.phase===this._phase);return this._partialCount=n?n.partialCount:this._partialCount,n}}get type(){return this._type}set type(n){this._type=n;let r=["sine","square","sawtooth","triangle"].indexOf(n)!==-1;if(this._phase===0&&r)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=n);else{let o=this._getCachedPeriodicWave();if(K(o)){let{partials:i,wave:s}=o;this._wave=s,this._partials=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{let[i,s]=this._getRealImaginary(n,this._phase),a=this.context.createPeriodicWave(i,s);this._wave=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),t._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:i,type:this._type,wave:this._wave}),t._periodicWaveCache.length>100&&t._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(n){this.partialCount&&this._type!=="custom"&&n!=="custom"?this.type=n+this.partialCount:this.type=n}get partialCount(){return this._partialCount}set partialCount(n){ut(n,0);let r=this._type,o=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(o&&(r=o[1]),this._type!=="custom")n===0?this.type=r:this.type=r+n.toString();else{let i=new Float32Array(n);this._partials.forEach((s,a)=>i[a]=s),this._partials=Array.from(i),this.type=this._type}}_getRealImaginary(n,r){let i=2048,s=new Float32Array(i),a=new Float32Array(i),c=1;if(n==="custom"){if(c=this._partials.length+1,this._partialCount=this._partials.length,i=c,this._partials.length===0)return[s,a]}else{let l=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(n);l?(c=parseInt(l[2],10)+1,this._partialCount=parseInt(l[2],10),n=l[1],c=Math.max(c,2),i=c):this._partialCount=0,this._partials=[]}for(let l=1;l<i;++l){let u=2/(l*Math.PI),d;switch(n){case"sine":d=l<=c?1:0,this._partials[l-1]=d;break;case"square":d=l&1?2*u:0,this._partials[l-1]=d;break;case"sawtooth":d=u*(l&1?1:-1),this._partials[l-1]=d;break;case"triangle":l&1?d=2*(u*u)*(l-1>>1&1?-1:1):d=0,this._partials[l-1]=d;break;case"custom":d=this._partials[l-1];break;default:throw new TypeError("Oscillator: invalid type: "+n)}d!==0?(s[l]=-d*Math.sin(r*l),a[l]=d*Math.cos(r*l)):(s[l]=0,a[l]=0)}return[s,a]}_inverseFFT(n,r,o){let i=0,s=n.length;for(let a=0;a<s;a++)i+=n[a]*Math.cos(a*o)+r[a]*Math.sin(a*o);return i}getInitialValue(){let[n,r]=this._getRealImaginary(this._type,0),o=0,i=Math.PI*2,s=32;for(let a=0;a<s;a++)o=Math.max(this._inverseFFT(n,r,a/s*i),o);return ip(-this._inverseFFT(n,r,this._phase)/o,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(n){this._partials=n,this._partialCount=this._partials.length,n.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(n){this._phase=n*Math.PI/180,this.type=this._type}asArray(){return de(this,arguments,void 0,function*(n=1024){return Rt(this,n)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}return t._periodicWaveCache=[],t})();var Lo=class extends it{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ft({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}};var Qe=class t extends Q{constructor(){let e=D(t.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new $({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Q.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}};var Ca=class t extends Se{constructor(){let e=D(t.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Lo({context:this.context}),this._modulationNode=new $({context:this.context}),this._carrier=new ze({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ze({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Qe({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),H(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ze.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return de(this,arguments,void 0,function*(e=1024){return Rt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}};var Xi=class t extends Se{constructor(){let e=D(t.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new $({context:this.context,gain:0}),this._carrier=new ze({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Q({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ze({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Qe({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Qe({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),H(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ze.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return de(this,arguments,void 0,function*(e=1024){return Rt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}};var No=class t extends Se{constructor(){let e=D(t.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new $({context:this.context,gain:0}),this._thresh=new Ft({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new Q({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ze({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),H(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Se.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return de(this,arguments,void 0,function*(e=1024){return Rt(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}};var ba=class t extends Se{constructor(){let e=D(t.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Q({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Q({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,H(this,["frequency","detune"])}static getDefaults(){return Object.assign(ze.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){let n=-e/2,r=e/(this._oscillators.length-1);this._forEach((o,i)=>o.detune.value=n+r*i)}}get count(){return this._oscillators.length}set count(e){if(ut(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){let r=new ze({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Y});this.type==="custom"&&(r.partials=this._partials),this.frequency.connect(r.frequency),this.detune.connect(r.detune),r.detune.overridden=!1,r.connect(this.output),this._oscillators[n]=r}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,r)=>n.phase=this._phase+r/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return de(this,arguments,void 0,function*(e=1024){return Rt(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}};var Ia=class t extends Se{constructor(){let e=D(t.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Qe({context:this.context,value:2}),this._pulse=new No({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ze({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),H(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Se.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return de(this,arguments,void 0,function*(e=1024){return Rt(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}};var C4={am:Ca,fat:ba,fm:Xi,oscillator:ze,pulse:No,pwm:Ia},Oo=class t extends Se{constructor(){let e=D(t.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Q({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Q({context:this.context,units:"cents",value:e.detune}),H(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ze.getDefaults(),Xi.getDefaults(),Ca.getDefaults(),ba.getDefaults(),No.getDefaults(),Ia.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;let n=C4[e],r=this.now();if(this._oscillator){let o=this._oscillator;o.stop(r),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(r)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof C4[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Dt(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Dt(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&vt(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return de(this,arguments,void 0,function*(e=1024){return Rt(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}};var Fo=class t extends Q{constructor(){super(D(t.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new $({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,dn(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Q.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}};var Ur=class t extends it{constructor(){let e=D(t.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new Qe({context:this.context,value:e.max-e.min}),this._add=this.output=new Fo({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(it.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}};var Kl=class t extends it{constructor(){super(D(t.getDefaults(),arguments)),this.name="Zero",this._gain=new $({context:this.context}),this.output=this._gain,this.input=void 0,dt(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),cp(this.context.getConstant(0),this._gain),this}};var pn=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["frequency","min","max"]);super(e),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=ie.prototype._fromType,this._toType=ie.prototype._toType,this._is=ie.prototype._is,this._clampValue=ie.prototype._clampValue,this._oscillator=new ze(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new $({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Q({context:this.context,units:"audioRange",value:0}),this._zeros=new Kl({context:this.context}),this._a2g=new Lo({context:this.context}),this._scaler=this.output=new Ur({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),H(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(ze.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){let n=this.min,r=this.max;this._units=e,this.min=n,this.max=r}get state(){return this._oscillator.state}connect(e,n,r){return(e instanceof ie||e instanceof Q)&&(this.convert=e.convert,this.units=e.units),Eo(this,e,n,r),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}};function Yl(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ut(i,t,e),n.set(this,i)}})}}function Pt(t,e=1/0){let n=new WeakMap;return function(r,o){Reflect.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(i){ut(this.toSeconds(i),t,e),n.set(this,i)}})}}var Gr=class t extends Se{constructor(){let e=D(t.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new ot({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Se.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Y,onerror:Y,playbackRate:1,reverse:!1})}load(e){return de(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Y){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,r){return super.start(e,n,r),this}_start(e,n,r){this._loop?n=Gt(n,this._loopStart):n=Gt(n,0);let o=this.toSeconds(n),i=r;r=Gt(r,Math.max(this._buffer.duration-o,0));let s=this.toSeconds(r);s=s/this._playbackRate,e=this.toSeconds(e);let a=new fr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&Ze(i)?a.start(e,o):a.start(e,o,s-this.toSeconds(this.fadeOut))}_stop(e){let n=this.toSeconds(e);this._activeSources.forEach(r=>r.stop(n))}restart(e,n,r){return super.restart(e,n,r),this}_restart(e,n,r){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,n,r)}seek(e,n){let r=this.toSeconds(n);if(this._state.getValueAtTime(r)==="started"){let o=this.toSeconds(e);this._stop(r),this._start(r,o)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ut(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ut(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){let n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;let n=this.now(),r=this._state.getNextState("stopped",n);r&&r.implicitEnd&&(this._state.cancel(r.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}};gt([Pt(0)],Gr.prototype,"fadeIn",void 0);gt([Pt(0)],Gr.prototype,"fadeOut",void 0);var Jl=class extends it{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Ft({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}};var Tt=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Q({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(V.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(vt(e))return e;{let r;for(r in eu)if(eu[r][n]===e)return r;return e}}_setCurve(e,n,r){if(vt(r)&&Reflect.has(eu,r)){let o=eu[r];Cn(o)?e!=="_decayCurve"&&(this[e]=o[n]):this[e]=o}else if(Xe(r)&&e!=="_decayCurve")this[e]=r;else throw new Error("Envelope: invalid curve: "+r)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let o=this.toSeconds(this.attack),i=this.toSeconds(this.decay),s=this.getValueAtTime(e);if(s>0){let a=1/o;o=(1-s)/a}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,o,e);else{this._sig.cancelAndHoldAtTime(e);let a=this._attackCurve;for(let c=1;c<a.length;c++)if(a[c-1]<=s&&s<=a[c]){a=this._attackCurve.slice(c),a[0]=s;break}this._sig.setValueCurveAtTime(a,e,o,n)}if(i&&this.sustain<1){let a=n*this.sustain,c=e+o;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,i+c):this._sig.exponentialApproachValueAtTime(a,c,i)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);let n=this.getValueAtTime(e);if(n>0){let r=this.toSeconds(this.release);r<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,r,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,r,e):(Z(Xe(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,r,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,r=1){return n=this.toSeconds(n),this.triggerAttack(n,r),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,r=0){return Eo(this,e,n,r),this}asArray(){return de(this,arguments,void 0,function*(e=1024){let n=e/this.context.sampleRate,r=new Wt(1,n,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=o+this.toSeconds(this.release),s=i*.1,a=i+s,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/a,decay:n*this.toSeconds(this.decay)/a,release:n*this.toSeconds(this.release)/a,context:r}));return c._sig.toDestination(),c.triggerAttackRelease(n*(o+s)/a,0),(yield r.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}};gt([Pt(0)],Tt.prototype,"attack",void 0);gt([Pt(0)],Tt.prototype,"decay",void 0);gt([Yl(0,1)],Tt.prototype,"sustain",void 0);gt([Pt(0)],Tt.prototype,"release",void 0);var eu=(()=>{let e,n,r=[];for(e=0;e<128;e++)r[e]=Math.sin(e/127*(Math.PI/2));let o=[],i=6.4;for(e=0;e<127;e++){n=e/127;let p=Math.sin(n*(Math.PI*2)*i-Math.PI/2)+1;o[e]=p/10+n*.83}o[127]=1;let s=[],a=5;for(e=0;e<128;e++)s[e]=Math.ceil(e/127*a)/a;let c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));let l=[];for(e=0;e<128;e++){n=e/127;let p=Math.pow(n,3)*4+.2,h=Math.cos(p*Math.PI*2*n);l[e]=Math.abs(h*(1-n))}function u(p){let h=new Array(p.length);for(let m=0;m<p.length;m++)h[m]=1-p[m];return h}function d(p){return p.slice(0).reverse()}return{bounce:{In:u(l),Out:l},cosine:{In:r,Out:d(r)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:u(o)},sine:{In:c,Out:u(c)},step:{In:s,Out:u(s)}}})();var Dn=class t extends V{constructor(){let e=D(t.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new hn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,H(this,"volume")}static getDefaults(){return Object.assign(V.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){let r=this["_original_"+e]=this[e];this[e]=(...o)=>{let i=o[n],s=this.context.transport.schedule(a=>{o[n]=a,r.apply(this,o)},i);this._scheduledEvents.push(s)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,r,o){let i=this.toSeconds(r),s=this.toSeconds(n);return this.triggerAttack(e,i,o),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}};var Xt=class t extends Dn{constructor(){let e=D(t.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Dn.getDefaults(),{detune:0,onsilence:Y,portamento:0})}triggerAttack(e,n,r=1){this.log("triggerAttack",e,n,r);let o=this.toSeconds(n);return this._triggerEnvelopeAttack(o,r),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);let n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){let r=this.toSeconds(n),o=e instanceof Ot?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(r)>.05){let i=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,i,r)}else this.frequency.setValueAtTime(o,r);return this}};gt([Pt(0)],Xt.prototype,"portamento",void 0);var Qi=class t extends Tt{constructor(){super(D(t.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new $({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}};var Ro=class t extends Xt{constructor(){let e=D(t.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Oo(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Qi(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),H(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Xt.getDefaults(),{envelope:Object.assign(Jn(Tt.getDefaults(),Object.keys(V.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Jn(Oo.getDefaults(),[...Object.keys(Se.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){let r=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+r+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}};var nu=class t extends Ro{constructor(){let e=D(t.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,H(this,["oscillator","envelope"])}static getDefaults(){return In(Xt.getDefaults(),Ro.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){let r=this.toSeconds(n),o=this.toFrequency(e instanceof Ot?e.toFrequency():e),i=o*this.octaves;return this.oscillator.frequency.setValueAtTime(i,r),this.oscillator.frequency.exponentialRampToValueAtTime(o,r+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}};gt([Yl(0)],nu.prototype,"octaves",void 0);gt([Pt(0)],nu.prototype,"pitchDecay",void 0);var I4=new Set;function Ki(t){I4.add(t)}function ru(t,e){let n=`registerProcessor("${t}", ${e})`;I4.add(n)}var MC=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Ki(MC);var xC=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Ki(xC);var _C=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Ki(_C);var S4="feedback-comb-filter",wC=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;ru(S4,wC);var ou=class t extends Dn{constructor(){let e=D(t.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;let n={};Object.keys(e.urls).forEach(r=>{let o=parseInt(r,10);if(Z(va(r)||Dt(o)&&isFinite(o),`url key is neither a note or midi pitch: ${r}`),va(r)){let i=new Ot(this.context,r).toMidi();n[i]=e.urls[r]}else Dt(o)&&isFinite(o)&&(n[o]=e.urls[o])}),this._buffers=new Wi({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Dn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Y,onerror:Y,release:.1,urls:{}})}_findClosest(e){let r=0;for(;r<96;){if(this._buffers.has(e+r))return-r;if(this._buffers.has(e-r))return r;r++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,r=1){return this.log("triggerAttack",e,n,r),Array.isArray(e)||(e=[e]),e.forEach(o=>{let i=ap(new Ot(this.context,o).toFrequency()),s=Math.round(i),a=i-s,c=this._findClosest(s),l=s-c,u=this._buffers.get(l),d=pr(c+a),p=new fr({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);p.start(n,0,u.duration/d,r),Xe(this._activeSources.get(s))||this._activeSources.set(s,[]),this._activeSources.get(s).push(p),p.onended=()=>{if(this._activeSources&&this._activeSources.has(s)){let h=this._activeSources.get(s),m=h.indexOf(p);m!==-1&&h.splice(m,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{let o=new Ot(this.context,r).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){let i=this._activeSources.get(o);n=this.toSeconds(n),i.forEach(s=>{s.stop(n)}),this._activeSources.set(o,[])}}),this}releaseAll(e){let n=this.toSeconds(e);return this._activeSources.forEach(r=>{for(;r.length;)r.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,r,o=1){let i=this.toSeconds(r);return this.triggerAttack(e,i,o),Xe(n)?(Z(Xe(e),"notes must be an array when duration is array"),e.forEach((s,a)=>{let c=n[Math.min(a,n.length-1)];this.triggerRelease(s,i+this.toSeconds(c))})):this.triggerRelease(e,i+this.toSeconds(n)),this}add(e,n,r){if(Z(va(e)||isFinite(e),`note must be a pitch or midi: ${e}`),va(e)){let o=new Ot(this.context,e).toMidi();this._buffers.add(o,n,r)}else this._buffers.add(e,n,r);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}};gt([Pt(0)],ou.prototype,"attack",void 0);gt([Pt(0)],ou.prototype,"release",void 0);var Po=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Jl({context:this.context}),this.a=new $({context:this.context,gain:0}),this.b=new $({context:this.context,gain:0}),this.output=new $({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Q({context:this.context,units:"normalRange",value:e.fade}),H(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",dt(this._split,this.a.gain,0),dt(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(V.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}};var Vt=class extends V{constructor(e){super(e),this.name="Effect",this._dryWet=new Po({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new $({context:this.context}),this.effectReturn=new $({context:this.context}),this.input=new $({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],H(this,"wet")}static getDefaults(){return Object.assign(V.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}};var Sa=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new ie({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",H(this,"pan")}static getDefaults(){return Object.assign(V.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}};var A4="bit-crusher",TC=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;ru(A4,TC);var Yi=class extends Vt{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new $({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,H(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Vt.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}};var uve=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100];var kve=[1687/25e3,1601/25e3,2053/25e3,2251/25e3];var Da=class t extends Yi{constructor(){let e=D(t.getDefaults(),arguments,["pitch"]);super(e),this.name="PitchShift",this._frequency=new Q({context:this.context}),this._delayA=new tr({maxDelay:1,context:this.context}),this._lfoA=new pn({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new tr({maxDelay:1,context:this.context}),this._lfoB=new pn({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Po({context:this.context}),this._crossFadeLFO=new pn({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new tr({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,H(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);let n=this.now();this._lfoA.start(n),this._lfoB.start(n),this._crossFadeLFO.start(n),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Yi.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let n=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,n=pr(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,n=pr(e)-1),this._frequency.value=n*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}};var Ji=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new $({context:this.context}),t._allSolos.has(this.context)||t._allSolos.set(this.context,new Set),t._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(V.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),t._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){t._soloed.has(this.context)||t._soloed.set(this.context,new Set),t._soloed.get(this.context).add(this)}_removeSolo(){t._soloed.has(this.context)&&t._soloed.get(this.context).delete(this)}_isSoloed(){return t._soloed.has(this.context)&&t._soloed.get(this.context).has(this)}_noSolos(){return!t._soloed.has(this.context)||t._soloed.has(this.context)&&t._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),t._allSolos.get(this.context).delete(this),this._removeSolo(),this}};Ji._allSolos=new Map;Ji._soloed=new Map;var au=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new Sa({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new hn({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,H(this,["pan","volume"])}static getDefaults(){return Object.assign(V.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}};var yp=class t extends V{constructor(){let e=D(t.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Ji({solo:e.solo,context:this.context}),this._panVol=this.output=new au({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),H(this,["pan","volume"])}static getDefaults(){return Object.assign(V.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return t.buses.has(e)||t.buses.set(e,new $({context:this.context})),t.buses.get(e)}send(e,n=0){let r=this._getBus(e),o=new $({context:this.context,units:"decibels",gain:n});return this.connect(o),o.connect(r),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}};yp.buses=new Map;function es(){return Ie().now()}var nxe=Ie().transport;var rxe=Ie().destination,oxe=Ie().destination;var ixe=Ie().listener;var sxe=Ie().draw;var axe=Ie();var cu=class t{player=null;pitchShift=null;isPlaying=nt(!1);isLoaded=nt(!1);duration=nt(0);currentTime=nt(0);isBypassed=nt(!1);preserveTempo=nt(!1);currentSemitones=0;startTimestamp=0;pausedAt=0;playbackRate=1;buffer=null;constructor(){}async loadAudio(e){await sp();let n=await e.arrayBuffer(),o=await Ie().rawContext.decodeAudioData(n);this.buffer=new ot(o),this.pausedAt=0,this.currentTime.set(0),this.setupPlayer(),this.duration.set(this.buffer.duration),this.isLoaded.set(!0),setInterval(()=>{if(this.isPlaying()){let a=(es()-this.startTimestamp)*this.playbackRate,c=this.pausedAt+a;c>=this.duration()?(this.pause(),this.seek(0)):this.currentTime.set(c)}},50)}setupPlayer(){this.pitchShift?.dispose(),this.player?.dispose(),this.pitchShift=new Da({pitch:0,windowSize:.1,delayTime:0,feedback:0}).toDestination(),this.player=new Gr(this.buffer),this.updatePitchProcessing()}play(){this.player&&(this.isPlaying()||(this.startTimestamp=es(),this.player.start(0,this.pausedAt),this.isPlaying.set(!0)))}pause(){if(!this.player||!this.isPlaying())return;this.player.stop();let n=(es()-this.startTimestamp)*this.playbackRate;this.pausedAt+=n,this.isPlaying.set(!1),this.currentTime.set(this.pausedAt)}seek(e){if(!this.player)return;e=Math.max(0,Math.min(e,this.duration()));let n=this.isPlaying();n&&this.player.stop(),this.pausedAt=e,this.currentTime.set(e),n&&(this.startTimestamp=es(),this.player.start(0,this.pausedAt))}setPitchShift(e){this.currentSemitones=e,this.updatePitchProcessing()}setPreserveTempo(e){this.preserveTempo.set(e),this.updatePitchProcessing()}toggleBypass(){this.isBypassed.set(!this.isBypassed()),this.updatePitchProcessing()}updatePitchProcessing(){if(!this.player||!this.pitchShift)return;let e=this.isBypassed()?0:this.currentSemitones,n=this.preserveTempo();if(this.isPlaying()){let o=es();this.pausedAt+=(o-this.startTimestamp)*this.playbackRate,this.startTimestamp=o}let r=1;!n&&!this.isBypassed()&&(r=Math.pow(2,e/12)),this.playbackRate=r,this.player.playbackRate=r,this.player.disconnect(),n&&!this.isBypassed()?(this.pitchShift.pitch=e,this.player.connect(this.pitchShift)):this.player.toDestination()}calculateSemitones(e,n){return 12*Math.log2(n/e)}async download(e){if(!this.buffer)return;let n=this.buffer.duration,r=new Wt(2,n,Ie().sampleRate),o=this.buffer.get();await w4(async()=>{let i=new Da(e).toDestination();new Gr(this.buffer).connect(i).start()},n).then(i=>{let s=i instanceof ot?i.get():i;this.bufferToWave(s,"shifted_audio.wav")})}bufferToWave(e,n){let r=e.numberOfChannels,o=e.length*r*2+44,i=new ArrayBuffer(o),s=new DataView(i),a=[],c,l,u=0,d=0;for(v(1179011410),v(o-8),v(1163280727),v(544501094),v(16),k(1),k(r),v(e.sampleRate),v(e.sampleRate*2*r),k(r*2),k(16),v(1635017060),v(o-d-4),c=0;c<e.numberOfChannels;c++)a.push(e.getChannelData(c));for(;d<e.length;){for(c=0;c<r;c++)l=Math.max(-1,Math.min(1,a[c][d])),l=(.5+l<0?l*32768:l*32767)|0,s.setInt16(44+u,l,!0),u+=2;d++}let p=new Blob([i],{type:"audio/wav"}),h=URL.createObjectURL(p),m=document.createElement("a");document.body.appendChild(m),m.style.display="none",m.href=h,m.download=n,m.click(),window.URL.revokeObjectURL(h),document.body.removeChild(m);function k(_){s.setUint16(d,_,!0),d+=2}function v(_){s.setUint32(d,_,!0),d+=4}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})};var Aa=mu(L4());var lu=class t{constructor(){}MAJOR_PROFILE=[6.35,2.23,3.48,2.33,4.38,4.09,2.52,5.19,2.39,3.66,2.29,2.88];MINOR_PROFILE=[6.33,2.68,3.52,5.38,2.6,3.53,2.54,4.75,3.98,2.69,3.34,3.17];KEYS=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];async detectTuningReference(e){let n=e.getChannelData(0),r=e.sampleRate,o=4096,i=r/o,s=50,a=Math.floor(n.length/s),c=0,l=0;Aa.default.audioContext=Ie().rawContext;for(let p=0;p<s;p++){let h=p*a;if(h+o>n.length)break;let m=n.slice(h,h+o);try{let k=Aa.default.extract("amplitudeSpectrum",m);if(k){let v=k,_=-1,O=-1;for(let F=10;F<v.length/2;F++)v[F]>_&&(_=v[F],O=F);if(_>.1){let F=O*i,P=69+12*Math.log2(F/440),N=Math.round(P),E=(P-N)*100;c+=E,l++}}}catch{}}if(l===0)return 440;let u=c/l,d=440*Math.pow(2,u/1200);return Math.round(d)}async detectKey(e){let n=e.getChannelData(0),r=e.sampleRate,o=4096,i=Math.min(30,e.duration),s=Math.floor((e.duration/2-i/2)*r),a=Math.max(0,s),c=Math.min(a+i*r,e.length),l=8192,u=new Float32Array(12).fill(0),d=0;Aa.default.audioContext=Ie().rawContext;for(let k=a;k<c-o;k+=l){let v=n.slice(k,k+o);if(v.length<o)break;try{let _=Aa.default.extract("chroma",v);if(_){let O=_;for(let F=0;F<12;F++)u[F]+=O[F];d++}}catch(_){console.warn("Meyda extraction error",_)}}if(d===0)return"Unknown";let p=Array.from(u).map(k=>k/d),h=-1/0,m="";for(let k=0;k<12;k++){let v=this.correlate(p,this.rotate(this.MAJOR_PROFILE,k));v>h&&(h=v,m=`${this.KEYS[k]} Major`)}for(let k=0;k<12;k++){let v=this.correlate(p,this.rotate(this.MINOR_PROFILE,k));v>h&&(h=v,m=`${this.KEYS[k]} Minor`)}return m}correlate(e,n){let r=0,o=0,i=0,s=e.reduce((c,l)=>c+l,0)/12,a=n.reduce((c,l)=>c+l,0)/12;for(let c=0;c<12;c++){let l=e[c]-s,u=n[c]-a;r+=l*l,o+=u*u,i+=l*u}return i/Math.sqrt(r*o)}rotate(e,n){let r=e.length,o=new Array(r);for(let i=0;i<r;i++)o[i]=e[(i-n+r)%r];return o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})};function RC(t,e){if(t&1){let n=fi();ue(0,"div",4)(1,"label",5),He("dragover",function(o){ct(n);let i=Ge();return lt(i.onDragOver(o))})("drop",function(o){ct(n);let i=Ge();return lt(i.onDrop(o))}),vn(2,"lucide-icon",6),ue(3,"span"),Fe(4,"Drag & drop or Click to Upload Audio"),le(),ue(5,"input",7),He("change",function(o){ct(n);let i=Ge();return lt(i.onFileSelected(o))}),le()()()}if(t&2){let n=Ge();xe(2),Pe("img",n.Upload)}}function PC(t,e){t&1&&(ue(0,"small"),Fe(1,"\u2728 High Fidelity (Varispeed)"),le())}function VC(t,e){t&1&&(ue(0,"small"),Fe(1,"\u23F1\uFE0F Fixed Speed (Granular)"),le())}function qC(t,e){if(t&1){let n=fi();ue(0,"div",29)(1,"div",30)(2,"label"),Fe(3,"Base Frequency (Hz)"),le(),ue(4,"div",31)(5,"input",32),He("ngModelChange",function(o){ct(n);let i=Ge(2);return lt(i.baseHz.set(o))}),le(),ue(6,"button",33),He("click",function(){ct(n);let o=Ge(2);return lt(o.autoDetectHz())}),vn(7,"lucide-icon",34),le()(),ue(8,"small"),Fe(9,"Standard: 440Hz"),le()(),ue(10,"div",35),vn(11,"lucide-icon",16),le(),ue(12,"div",30)(13,"label"),Fe(14,"Target Frequency (Hz)"),le(),ue(15,"div",31)(16,"input",32),He("ngModelChange",function(o){ct(n);let i=Ge(2);return lt(i.targetHz.set(o))}),le()(),ue(17,"small"),Fe(18,"Try 432Hz or 528Hz"),le()()()}if(t&2){let n=Ge(2);xe(5),Pe("ngModel",n.baseHz()),xe(2),Pe("img",n.RefreshCcw),xe(4),Pe("img",n.RefreshCcw),xe(5),Pe("ngModel",n.targetHz())}}function jC(t,e){if(t&1&&(ue(0,"option",40),Fe(1),le()),t&2){let n=e.$implicit;Pe("value",n),xe(),mi(n)}}function HC(t,e){if(t&1&&(ue(0,"option",40),Fe(1),le()),t&2){let n=e.$implicit;Pe("value",n),xe(),mi(n)}}function BC(t,e){if(t&1){let n=fi();ue(0,"div",36)(1,"div",30)(2,"label"),Fe(3,"Original Key"),le(),ue(4,"div",37)(5,"select",38),He("ngModelChange",function(o){ct(n);let i=Ge(2);return lt(i.detectedKey.set(o))}),Er(6,jC,2,2,"option",39),le()(),ue(7,"small"),Fe(8,"Detected automatically"),le()(),ue(9,"div",35),Fe(10,"->"),le(),ue(11,"div",30)(12,"label"),Fe(13,"Target Key"),le(),ue(14,"div",37)(15,"select",38),He("ngModelChange",function(o){ct(n);let i=Ge(2);return lt(i.targetKey.set(o))}),Er(16,HC,2,2,"option",39),le()(),ue(17,"small"),Fe(18,"Transpose to..."),le()()()}if(t&2){let n=Ge(2);xe(5),Pe("ngModel",n.detectedKey()),xe(),Pe("ngForOf",n.availableKeys),xe(9),Pe("ngModel",n.targetKey()),xe(),Pe("ngForOf",n.availableKeys)}}function zC(t,e){if(t&1){let n=fi();ue(0,"main",8)(1,"div",9)(2,"div",10)(3,"input",11),He("input",function(o){ct(n);let i=Ge();return lt(i.seek(o))}),le(),ue(4,"div",12)(5,"small"),Fe(6),Yc(7,"number"),le(),ue(8,"small"),Fe(9),Yc(10,"number"),le()()(),ue(11,"div",13)(12,"div",14)(13,"button",15),He("click",function(){ct(n);let o=Ge();return lt(o.togglePlay())}),vn(14,"lucide-icon",16),le(),ue(15,"div",17)(16,"span"),Fe(17),le()()(),ue(18,"div",18)(19,"button",19),He("click",function(){ct(n);let o=Ge();return lt(o.audioService.toggleBypass())}),Fe(20),le(),ue(21,"div",20)(22,"label")(23,"input",21),He("change",function(){ct(n);let o=Ge();return lt(o.togglePreserveTempo())}),le(),ue(24,"span"),Fe(25,"Preserve Tempo"),le()(),Er(26,PC,2,0,"small",22)(27,VC,2,0,"small",22),le()()()(),ue(28,"div",23)(29,"button",24),He("click",function(){ct(n);let o=Ge();return lt(o.setMode("hz"))}),Fe(30,"Hz Frequency"),le(),ue(31,"button",24),He("click",function(){ct(n);let o=Ge();return lt(o.setMode("key"))}),Fe(32,"Key Transpose"),le()(),Er(33,qC,19,4,"div",25)(34,BC,19,4,"div",26),ue(35,"div",27)(36,"button",28),He("click",function(){ct(n);let o=Ge();return lt(o.download())}),vn(37,"lucide-icon",16),Fe(38," Download Processed "),le()()()}if(t&2){let n=Ge();xe(3),Pe("max",n.audioService.duration())("value",n.audioService.currentTime()),xe(3),vo("",Jc(7,19,n.audioService.currentTime(),"1.2-2"),"s"),xe(3),vo("",Jc(10,22,n.audioService.duration(),"1.2-2"),"s"),xe(5),Pe("img",n.audioService.isPlaying()?n.Pause:n.Play),xe(3),mi(n.detectedKey()!=="Unknown"?n.detectedKey():"Track Loaded"),xe(2),Lr("active",n.audioService.isBypassed()),xe(),vo(" ",n.audioService.isBypassed()?"BYPASSED":"EFFECT ON"," "),xe(3),Pe("checked",n.audioService.preserveTempo()),xe(3),Pe("ngIf",!n.audioService.preserveTempo()),xe(),Pe("ngIf",n.audioService.preserveTempo()),xe(2),Lr("active",n.mode()==="hz"),xe(2),Lr("active",n.mode()==="key"),xe(2),Pe("ngIf",n.mode()==="hz"),xe(),Pe("ngIf",n.mode()==="key"),xe(3),Pe("img",n.Download)}}var uu=class t{audioService=re(cu);keyDetector=re(lu);mode=nt("hz");baseHz=nt(440);targetHz=nt(432);detectedKey=nt("Unknown");targetKey=nt("C Major");KEYS=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];SCALES=["Major","Minor"];availableKeys=[];Play=Qm;Pause=Xm;Upload=Ym;Music=Zm;Download=$m;RefreshCcw=Km;constructor(){this.generateAvailableKeys(),_s(()=>{if(this.mode()==="hz"){let e=this.audioService.calculateSemitones(this.baseHz(),this.targetHz());this.audioService.setPitchShift(e)}}),_s(()=>{if(this.mode()==="key"){let e=this.calculateKeyShift(this.detectedKey(),this.targetKey());this.audioService.setPitchShift(e)}}),_s(()=>{})}togglePreserveTempo(){this.audioService.setPreserveTempo(!this.audioService.preserveTempo())}generateAvailableKeys(){this.availableKeys=[];for(let e of this.KEYS)for(let n of this.SCALES)this.availableKeys.push(`${e} ${n}`)}async onFileSelected(e){let n=e.target;n.files&&n.files.length>0&&await this.handleFile(n.files[0])}onDragOver(e){e.preventDefault(),e.stopPropagation()}async onDrop(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer&&e.dataTransfer.files.length>0&&await this.handleFile(e.dataTransfer.files[0])}async handleFile(e){if(await this.audioService.loadAudio(e),this.audioService.buffer)try{let n=this.audioService.buffer.get();if(n instanceof AudioBuffer){let r=await this.keyDetector.detectKey(n);r&&r!=="Unknown"&&(this.detectedKey.set(r),this.targetKey.set(r));let o=await this.keyDetector.detectTuningReference(n);o&&this.baseHz.set(o)}}catch(n){console.error("Key detection failed",n)}}async autoDetectHz(){if(!this.audioService.buffer)return;let e=this.audioService.buffer.get();if(e instanceof AudioBuffer){let n=await this.keyDetector.detectTuningReference(e);this.baseHz.set(n)}}seek(e){let n=e.target,r=parseFloat(n.value);this.audioService.seek(r)}togglePlay(){this.audioService.isPlaying()?this.audioService.pause():this.audioService.play()}setMode(e){if(this.mode.set(e),e==="hz"){let n=this.audioService.calculateSemitones(this.baseHz(),this.targetHz());this.audioService.setPitchShift(n)}else{let n=this.calculateKeyShift(this.detectedKey(),this.targetKey());this.audioService.setPitchShift(n)}}calculateKeyShift(e,n){if(!e||!n)return 0;let r=e.split(" ")[0],o=n.split(" ")[0],i=this.KEYS.indexOf(r),s=this.KEYS.indexOf(o);if(i===-1||s===-1)return 0;let a=s-i;return a>6&&(a-=12),a<-6&&(a+=12),a}async download(){let e=0;this.mode()==="hz"?e=this.audioService.calculateSemitones(this.baseHz(),this.targetHz()):e=this.calculateKeyShift(this.detectedKey(),this.targetKey()),await this.audioService.download(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=go({type:t,selectors:[["app-pitch-shifter"]],decls:9,vars:3,consts:[[1,"pitch-shifter-container"],[1,"icon-lg",3,"img"],["class","upload-section",4,"ngIf"],["class","controls-ui",4,"ngIf"],[1,"upload-section"],["for","file-upload",1,"drop-zone",3,"dragover","drop"],[1,"icon-xl",3,"img"],["type","file","id","file-upload","accept","audio/*","hidden","",3,"change"],[1,"controls-ui"],[1,"player-controls-container"],[1,"seek-container"],["type","range","min","0",1,"seek-bar",3,"input","max","value"],[1,"time-display"],[1,"controls-row"],[1,"left-controls"],[1,"play-btn",3,"click"],[3,"img"],[1,"track-info"],[1,"right-controls"],[1,"bypass-btn",3,"click"],[1,"quality-toggle"],["type","checkbox",3,"change","checked"],[4,"ngIf"],[1,"mode-toggle"],[3,"click"],["class","mode-content",4,"ngIf"],["class","mode-content keys-grid",4,"ngIf"],[1,"actions"],[1,"download-btn",3,"click"],[1,"mode-content"],[1,"control-group"],[1,"input-wrapper"],["type","number",3,"ngModelChange","ngModel"],["title","Auto-Detect",1,"icon-btn",3,"click"],[1,"icon-sm",3,"img"],[1,"divider"],[1,"mode-content","keys-grid"],[1,"select-wrapper"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){n&1&&(ue(0,"div",0)(1,"header")(2,"h1"),vn(3,"lucide-icon",1),Fe(4," Pitch Shifter"),le(),ue(5,"p"),Fe(6,"Adjust frequency or transpose keys directly in your browser."),le()(),Er(7,RC,6,1,"div",2)(8,zC,39,25,"main",3),le()),n&2&&(xe(3),Pe("img",r.Music),xe(4),Pe("ngIf",!r.audioService.isLoaded()),xe(),Pe("ngIf",r.audioService.isLoaded()))},dependencies:[sl,il,rh,Wm,zm,Gm,gl,xh,vl,qm,Mh,ey,Jm,oh],styles:["[_nghost-%COMP%]{display:block;min-height:100vh;background-color:#0a0a0a;color:#e0e0e0;font-family:Inter,system-ui,-apple-system,sans-serif;padding:2rem;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.pitch-shifter-container[_ngcontent-%COMP%]{width:100%;max-width:500px;margin:0 auto}header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;margin:0 0 .5rem;letter-spacing:-.5px;color:#fff;display:flex;align-items:center;justify-content:center;gap:.5rem}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .icon-lg[_ngcontent-%COMP%]{width:20px;height:20px;color:#666}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-size:.85rem;margin:0}.upload-section[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]{border:1px dashed #333;border-radius:12px;height:160px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;background:#111}.upload-section[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]:hover{border-color:#666;background:#161616}.upload-section[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]   .icon-xl[_ngcontent-%COMP%]{width:32px;height:32px;margin-bottom:.75rem;color:#444}.upload-section[_ngcontent-%COMP%]   .drop-zone[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.controls-ui[_ngcontent-%COMP%]{background:#111;padding:2rem;border-radius:16px;border:1px solid #222;box-shadow:0 4px 20px #0006}.player-controls-container[_ngcontent-%COMP%]{margin-bottom:2.5rem}.seek-container[_ngcontent-%COMP%]{width:100%;margin-bottom:1.5rem}.seek-container[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]{width:100%;height:6px;background:#333;border-radius:3px;appearance:none;outline:none;cursor:pointer}.seek-container[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]::-webkit-slider-thumb{appearance:none;width:14px;height:14px;background:#fff;border-radius:50%;cursor:pointer;transition:transform .1s}.seek-container[_ngcontent-%COMP%]   .seek-bar[_ngcontent-%COMP%]::-webkit-slider-thumb:hover{transform:scale(1.2)}.seek-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-top:.5rem}.seek-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;color:#666;font-family:Courier New,monospace}.controls-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.controls-row[_ngcontent-%COMP%]   .left-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.controls-row[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;border:none;background:#fff;color:#000;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:transform .1s}.controls-row[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.controls-row[_ngcontent-%COMP%]   .play-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}.controls-row[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.controls-row[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:#fff}.controls-row[_ngcontent-%COMP%]   .right-controls[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:.5rem}.controls-row[_ngcontent-%COMP%]   .bypass-btn[_ngcontent-%COMP%]{background:transparent;color:#444;border:1px solid #333;padding:.4rem .8rem;border-radius:6px;cursor:pointer;font-size:.75rem;transition:all .2s}.controls-row[_ngcontent-%COMP%]   .bypass-btn[_ngcontent-%COMP%]:hover{border-color:#666;color:#888}.controls-row[_ngcontent-%COMP%]   .bypass-btn[_ngcontent-%COMP%]:not(.active){border-color:#fff;color:#fff}.controls-row[_ngcontent-%COMP%]   .quality-toggle[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.controls-row[_ngcontent-%COMP%]   .quality-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;color:#666;cursor:pointer}.controls-row[_ngcontent-%COMP%]   .quality-toggle[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:#fff}.controls-row[_ngcontent-%COMP%]   .quality-toggle[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.65rem;color:#444;margin-top:2px}.mode-toggle[_ngcontent-%COMP%]{display:flex;background:#1a1a1a;padding:4px;border-radius:8px;margin-bottom:2rem}.mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:#666;padding:.5rem;border-radius:6px;cursor:pointer;font-size:.85rem;transition:all .2s}.mode-toggle[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#2a2a2a;color:#fff;box-shadow:0 1px 3px #0003}.mode-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:2.5rem}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;color:#666;text-transform:uppercase;letter-spacing:.5px}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:.5rem}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;background:#0a0a0a;border:1px solid #333;color:#fff;padding:.8rem;border-radius:8px;font-size:1rem;font-family:inherit}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#666}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:#444;cursor:pointer;transition:color .2s;padding:.5rem}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{color:#fff}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]{position:relative}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;background:#0a0a0a;border:1px solid #333;color:#fff;padding:.8rem;border-radius:8px;font-size:1rem;appearance:none;cursor:pointer}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   .select-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#666}.mode-content[_ngcontent-%COMP%]   .control-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7rem;color:#444}.mode-content[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{color:#333;font-size:1.2rem}.actions[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]{width:100%;background:#fff;color:#000;border:none;padding:1rem;border-radius:12px;font-weight:600;font-size:.9rem;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:filter .2s}.actions[_ngcontent-%COMP%]   .download-btn[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.icon-sm[_ngcontent-%COMP%]{width:16px;height:16px}"]})};var du=class t{title="pitch-shifter";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=go({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(n,r){n&1&&vn(0,"app-pitch-shifter")},dependencies:[uu],encapsulation:2})};ph(du,_m).catch(t=>console.error(t));
